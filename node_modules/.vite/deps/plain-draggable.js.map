{
  "version": 3,
  "sources": ["../../plain-draggable/node_modules/anim-event/anim-event.esm.js", "../../plain-draggable/node_modules/pointer-event/pointer-event.esm.js", "../../plain-draggable/node_modules/cssprefix/cssprefix.esm.js", "../../plain-draggable/node_modules/m-class-list/m-class-list.esm.js", "../../plain-draggable/plain-draggable.esm.js"],
  "sourcesContent": ["/* ================================================\r\n        DON'T MANUALLY EDIT THIS FILE\r\n================================================ */\r\n\r\n/*\r\n * AnimEvent\r\n * https://github.com/anseki/anim-event\r\n *\r\n * Copyright (c) 2021 anseki\r\n * Licensed under the MIT license.\r\n */\r\nvar MSPF = 1000 / 60,\r\n    // ms/frame (FPS: 60)\r\nKEEP_LOOP = 500,\r\n\r\n/**\r\n * @typedef {Object} task\r\n * @property {Event} event\r\n * @property {function} listener\r\n */\r\n\r\n/** @type {task[]} */\r\ntasks = [];\r\n\r\nvar requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\r\n  return setTimeout(callback, MSPF);\r\n},\r\n    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {\r\n  return clearTimeout(requestID);\r\n};\r\n\r\nvar lastFrameTime = Date.now(),\r\n    requestID;\r\n\r\nfunction step() {\r\n  var called, next;\r\n\r\n  if (requestID) {\r\n    cancelAnim.call(window, requestID);\r\n    requestID = null;\r\n  }\r\n\r\n  tasks.forEach(function (task) {\r\n    var event;\r\n\r\n    if (event = task.event) {\r\n      task.event = null; // Clear it before `task.listener()` because that might fire another event.\r\n\r\n      task.listener(event);\r\n      called = true;\r\n    }\r\n  });\r\n\r\n  if (called) {\r\n    lastFrameTime = Date.now();\r\n    next = true;\r\n  } else if (Date.now() - lastFrameTime < KEEP_LOOP) {\r\n    // Go on for a while\r\n    next = true;\r\n  }\r\n\r\n  if (next) {\r\n    requestID = requestAnim.call(window, step);\r\n  }\r\n}\r\n\r\nfunction indexOfTasks(listener) {\r\n  var index = -1;\r\n  tasks.some(function (task, i) {\r\n    if (task.listener === listener) {\r\n      index = i;\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  });\r\n  return index;\r\n}\r\n\r\nvar AnimEvent = {\r\n  /**\r\n   * @param {function} listener - An event listener.\r\n   * @returns {(function|null)} A wrapped event listener.\r\n   */\r\n  add: function add(listener) {\r\n    var task;\r\n\r\n    if (indexOfTasks(listener) === -1) {\r\n      tasks.push(task = {\r\n        listener: listener\r\n      });\r\n      return function (event) {\r\n        task.event = event;\r\n\r\n        if (!requestID) {\r\n          step();\r\n        }\r\n      };\r\n    }\r\n\r\n    return null;\r\n  },\r\n  remove: function remove(listener) {\r\n    var iRemove;\r\n\r\n    if ((iRemove = indexOfTasks(listener)) > -1) {\r\n      tasks.splice(iRemove, 1);\r\n\r\n      if (!tasks.length && requestID) {\r\n        cancelAnim.call(window, requestID);\r\n        requestID = null;\r\n      }\r\n    }\r\n  }\r\n};\r\nexport default AnimEvent;", "/* ================================================\r\n        DON'T MANUALLY EDIT THIS FILE\r\n================================================ */\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\n/*\r\n * PointerEvent\r\n * https://github.com/anseki/pointer-event\r\n *\r\n * Copyright (c) 2022 anseki\r\n * Licensed under the MIT license.\r\n */\r\nimport AnimEvent from 'anim-event';\r\nvar MOUSE_EMU_INTERVAL = 400,\r\n    // Avoid mouse events emulation\r\nCLICK_EMULATOR_ELEMENTS = [],\r\n    DBLCLICK_EMULATOR_ELEMENTS = []; // Support options for addEventListener\r\n\r\nvar passiveSupported = false;\r\n\r\ntry {\r\n  window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\r\n    get: function get() {\r\n      passiveSupported = true;\r\n    }\r\n  }));\r\n} catch (error) {\r\n  /* ignore */\r\n}\r\n/**\r\n * addEventListener with specific option.\r\n * @param {Element} target - An event-target element.\r\n * @param {string} type - The event type to listen for.\r\n * @param {function} listener - The EventListener.\r\n * @param {Object} options - An options object.\r\n * @returns {void}\r\n */\r\n\r\n\r\nfunction addEventListenerWithOptions(target, type, listener, options) {\r\n  // When `passive` is not supported, consider that the `useCapture` is supported instead of\r\n  // `options` (i.e. options other than the `passive` also are not supported).\r\n  target.addEventListener(type, listener, passiveSupported ? options : options.capture);\r\n}\r\n\r\nfunction getPointsLength(p0, p1) {\r\n  var lx = p0.x - p1.x,\r\n      ly = p0.y - p1.y;\r\n  return Math.sqrt(lx * lx + ly * ly);\r\n}\r\n/**\r\n * Get Touch instance in list.\r\n * @param {Touch[]} touches - An Array or TouchList instance.\r\n * @param {number} id - Touch#identifier\r\n * @returns {(Touch|null)} - A found Touch instance.\r\n */\r\n\r\n\r\nfunction getTouchById(touches, id) {\r\n  if (touches != null && id != null) {\r\n    for (var i = 0; i < touches.length; i++) {\r\n      if (touches[i].identifier === id) {\r\n        return touches[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n/**\r\n * @param {Object} xy - Something that might have clientX and clientY.\r\n * @returns {boolean} - `true` if it has valid clientX and clientY.\r\n */\r\n\r\n\r\nfunction hasXY(xy) {\r\n  return xy && typeof xy.clientX === 'number' && typeof xy.clientY === 'number';\r\n} // Gecko, Trident pick drag-event of some elements such as img, a, etc.\r\n\r\n\r\nfunction dragstart(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nvar PointerEvent = /*#__PURE__*/function () {\r\n  /**\r\n   * Create a `PointerEvent` instance.\r\n   * @param {Object} [options] - Options\r\n   */\r\n  function PointerEvent(options) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, PointerEvent);\r\n\r\n    this.startHandlers = {};\r\n    this.lastHandlerId = 0;\r\n    this.curPointerClass = null;\r\n    this.curTouchId = null;\r\n    this.lastPointerXY = {\r\n      clientX: 0,\r\n      clientY: 0\r\n    };\r\n    this.lastTouchTime = 0; // Options\r\n\r\n    this.options = {\r\n      // Default\r\n      preventDefault: true,\r\n      stopPropagation: true\r\n    };\r\n\r\n    if (options) {\r\n      ['preventDefault', 'stopPropagation'].forEach(function (option) {\r\n        if (typeof options[option] === 'boolean') {\r\n          _this.options[option] = options[option];\r\n        }\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * @param {function} startHandler - This is called with pointerXY when it starts. This returns boolean.\r\n   * @returns {number} handlerId which is used for adding/removing to element.\r\n   */\r\n\r\n\r\n  _createClass(PointerEvent, [{\r\n    key: \"regStartHandler\",\r\n    value: function regStartHandler(startHandler) {\r\n      var that = this;\r\n\r\n      that.startHandlers[++that.lastHandlerId] = function (event) {\r\n        var pointerClass = event.type === 'mousedown' ? 'mouse' : 'touch',\r\n            now = Date.now();\r\n        var pointerXY, touchId;\r\n\r\n        if (pointerClass === 'touch') {\r\n          that.lastTouchTime = now; // Avoid mouse events emulation\r\n\r\n          pointerXY = event.changedTouches[0];\r\n          touchId = event.changedTouches[0].identifier;\r\n        } else {\r\n          // Avoid mouse events emulation\r\n          if (now - that.lastTouchTime < MOUSE_EMU_INTERVAL) {\r\n            return;\r\n          }\r\n\r\n          pointerXY = event;\r\n        }\r\n\r\n        if (!hasXY(pointerXY)) {\r\n          throw new Error('No clientX/clientY');\r\n        } // It is new one even if those are 'mouse' or ID is same, then cancel current one.\r\n\r\n\r\n        if (that.curPointerClass) {\r\n          that.cancel();\r\n        }\r\n\r\n        if (startHandler.call(that, pointerXY)) {\r\n          that.curPointerClass = pointerClass;\r\n          that.curTouchId = pointerClass === 'touch' ? touchId : null;\r\n          that.lastPointerXY.clientX = pointerXY.clientX;\r\n          that.lastPointerXY.clientY = pointerXY.clientY;\r\n\r\n          if (that.options.preventDefault) {\r\n            event.preventDefault();\r\n          }\r\n\r\n          if (that.options.stopPropagation) {\r\n            event.stopPropagation();\r\n          }\r\n        }\r\n      };\r\n\r\n      return that.lastHandlerId;\r\n    }\r\n    /**\r\n     * @param {number} handlerId - An ID which was returned by regStartHandler.\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"unregStartHandler\",\r\n    value: function unregStartHandler(handlerId) {\r\n      delete this.startHandlers[handlerId];\r\n    }\r\n    /**\r\n     * @param {Element} element - A target element.\r\n     * @param {number} handlerId - An ID which was returned by regStartHandler.\r\n     * @returns {number} handlerId which was passed.\r\n     */\r\n\r\n  }, {\r\n    key: \"addStartHandler\",\r\n    value: function addStartHandler(element, handlerId) {\r\n      if (!this.startHandlers[handlerId]) {\r\n        throw new Error(\"Invalid handlerId: \".concat(handlerId));\r\n      }\r\n\r\n      addEventListenerWithOptions(element, 'mousedown', this.startHandlers[handlerId], {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      addEventListenerWithOptions(element, 'touchstart', this.startHandlers[handlerId], {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      addEventListenerWithOptions(element, 'dragstart', dragstart, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      return handlerId;\r\n    }\r\n    /**\r\n     * @param {Element} element - A target element.\r\n     * @param {number} handlerId - An ID which was returned by regStartHandler.\r\n     * @returns {number} handlerId which was passed.\r\n     */\r\n\r\n  }, {\r\n    key: \"removeStartHandler\",\r\n    value: function removeStartHandler(element, handlerId) {\r\n      if (!this.startHandlers[handlerId]) {\r\n        throw new Error(\"Invalid handlerId: \".concat(handlerId));\r\n      }\r\n\r\n      element.removeEventListener('mousedown', this.startHandlers[handlerId], false);\r\n      element.removeEventListener('touchstart', this.startHandlers[handlerId], false);\r\n      element.removeEventListener('dragstart', dragstart, false);\r\n      return handlerId;\r\n    }\r\n    /**\r\n     * @param {Element} element - A target element.\r\n     * @param {function} moveHandler - This is called with pointerXY when it moves.\r\n     * @param {?boolean} rawEvent - Capture events without `requestAnimationFrame`.\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"addMoveHandler\",\r\n    value: function addMoveHandler(element, moveHandler, rawEvent) {\r\n      var that = this;\r\n\r\n      function handler(event) {\r\n        var pointerClass = event.type === 'mousemove' ? 'mouse' : 'touch'; // Avoid mouse events emulation\r\n\r\n        if (pointerClass === 'touch') {\r\n          that.lastTouchTime = Date.now();\r\n        }\r\n\r\n        if (pointerClass === that.curPointerClass) {\r\n          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) : event;\r\n\r\n          if (hasXY(pointerXY)) {\r\n            if (pointerXY.clientX !== that.lastPointerXY.clientX || pointerXY.clientY !== that.lastPointerXY.clientY) {\r\n              that.move(pointerXY);\r\n            }\r\n\r\n            if (that.options.preventDefault) {\r\n              event.preventDefault();\r\n            }\r\n\r\n            if (that.options.stopPropagation) {\r\n              event.stopPropagation();\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      var wrappedHandler = rawEvent ? handler : AnimEvent.add(handler);\r\n      addEventListenerWithOptions(element, 'mousemove', wrappedHandler, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      addEventListenerWithOptions(element, 'touchmove', wrappedHandler, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      that.curMoveHandler = moveHandler;\r\n    }\r\n    /**\r\n     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"move\",\r\n    value: function move(pointerXY) {\r\n      if (hasXY(pointerXY)) {\r\n        this.lastPointerXY.clientX = pointerXY.clientX;\r\n        this.lastPointerXY.clientY = pointerXY.clientY;\r\n      }\r\n\r\n      if (this.curMoveHandler) {\r\n        this.curMoveHandler(this.lastPointerXY);\r\n      }\r\n    }\r\n    /**\r\n     * @param {Element} element - A target element.\r\n     * @param {function} endHandler - This is called with pointerXY when it ends.\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"addEndHandler\",\r\n    value: function addEndHandler(element, endHandler) {\r\n      var that = this;\r\n\r\n      function wrappedHandler(event) {\r\n        var pointerClass = event.type === 'mouseup' ? 'mouse' : 'touch'; // Avoid mouse events emulation\r\n\r\n        if (pointerClass === 'touch') {\r\n          that.lastTouchTime = Date.now();\r\n        }\r\n\r\n        if (pointerClass === that.curPointerClass) {\r\n          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.\r\n          getTouchById(event.touches, that.curTouchId) ? null : {}) : // `{}` means matching\r\n          event;\r\n\r\n          if (pointerXY) {\r\n            that.end(pointerXY);\r\n\r\n            if (that.options.preventDefault) {\r\n              event.preventDefault();\r\n            }\r\n\r\n            if (that.options.stopPropagation) {\r\n              event.stopPropagation();\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      addEventListenerWithOptions(element, 'mouseup', wrappedHandler, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      addEventListenerWithOptions(element, 'touchend', wrappedHandler, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      that.curEndHandler = endHandler;\r\n    }\r\n    /**\r\n     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"end\",\r\n    value: function end(pointerXY) {\r\n      if (hasXY(pointerXY)) {\r\n        this.lastPointerXY.clientX = pointerXY.clientX;\r\n        this.lastPointerXY.clientY = pointerXY.clientY;\r\n      }\r\n\r\n      if (this.curEndHandler) {\r\n        this.curEndHandler(this.lastPointerXY);\r\n      }\r\n\r\n      this.curPointerClass = this.curTouchId = null;\r\n    }\r\n    /**\r\n     * @param {Element} element - A target element.\r\n     * @param {function} cancelHandler - This is called when it cancels.\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"addCancelHandler\",\r\n    value: function addCancelHandler(element, cancelHandler) {\r\n      var that = this;\r\n\r\n      function wrappedHandler(event) {\r\n        /*\r\n          Now, this is fired by touchcancel only, but it might be fired even if curPointerClass is mouse.\r\n        */\r\n        // const pointerClass = 'touch';\r\n        that.lastTouchTime = Date.now(); // Avoid mouse events emulation\r\n\r\n        if (that.curPointerClass != null) {\r\n          var pointerXY = getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.\r\n          getTouchById(event.touches, that.curTouchId) ? null : {}); // `{}` means matching\r\n\r\n          if (pointerXY) {\r\n            that.cancel();\r\n          }\r\n        }\r\n      }\r\n\r\n      addEventListenerWithOptions(element, 'touchcancel', wrappedHandler, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      that.curCancelHandler = cancelHandler;\r\n    }\r\n    /**\r\n     * @returns {void}\r\n     */\r\n\r\n  }, {\r\n    key: \"cancel\",\r\n    value: function cancel() {\r\n      if (this.curCancelHandler) {\r\n        this.curCancelHandler();\r\n      }\r\n\r\n      this.curPointerClass = this.curTouchId = null;\r\n    }\r\n  }], [{\r\n    key: \"addEventListenerWithOptions\",\r\n    get: function get() {\r\n      return addEventListenerWithOptions;\r\n    }\r\n    /**\r\n     * Emulate `click` event via `touchend` event.\r\n     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.\r\n     * @param {?number} moveTolerance - Move tolerance.\r\n     * @param {?number} timeTolerance - Time tolerance.\r\n     * @returns {Element} The passed `element`.\r\n     */\r\n\r\n  }, {\r\n    key: \"initClickEmulator\",\r\n    value: function initClickEmulator(element, moveTolerance, timeTolerance) {\r\n      if (CLICK_EMULATOR_ELEMENTS.includes(element)) {\r\n        return element;\r\n      }\r\n\r\n      CLICK_EMULATOR_ELEMENTS.push(element);\r\n      var DEFAULT_MOVE_TOLERANCE = 16,\r\n          // px\r\n      DEFAULT_TIME_TOLERANCE = 400; // ms\r\n\r\n      var startX, startY, touchId, startMs;\r\n\r\n      if (moveTolerance == null) {\r\n        moveTolerance = DEFAULT_MOVE_TOLERANCE;\r\n      }\r\n\r\n      if (timeTolerance == null) {\r\n        timeTolerance = DEFAULT_TIME_TOLERANCE;\r\n      }\r\n\r\n      addEventListenerWithOptions(element, 'touchstart', function (event) {\r\n        var touch = event.changedTouches[0];\r\n        startX = touch.clientX;\r\n        startY = touch.clientY;\r\n        touchId = touch.identifier;\r\n        startMs = performance.now();\r\n      }, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      addEventListenerWithOptions(element, 'touchend', function (event) {\r\n        var touch = getTouchById(event.changedTouches, touchId);\r\n\r\n        if (typeof startX === 'number' && typeof startY === 'number' && typeof startMs === 'number' && touch && typeof touch.clientX === 'number' && typeof touch.clientY === 'number' && getPointsLength({\r\n          x: startX,\r\n          y: startY\r\n        }, {\r\n          x: touch.clientX,\r\n          y: touch.clientY\r\n        }) <= moveTolerance && performance.now() - startMs <= timeTolerance) {\r\n          // FIRE\r\n          setTimeout(function () {\r\n            var newEvent = new MouseEvent('click', {\r\n              clientX: touch.clientX,\r\n              clientY: touch.clientY\r\n            });\r\n            newEvent.emulated = true;\r\n            element.dispatchEvent(newEvent);\r\n          }, 0);\r\n        }\r\n\r\n        startX = startY = touchId = startMs = null;\r\n      }, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      addEventListenerWithOptions(element, 'touchcancel', function () {\r\n        startX = startY = touchId = startMs = null;\r\n      }, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      return element;\r\n    }\r\n    /**\r\n     * Emulate `dblclick` event via `touchend` event.\r\n     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.\r\n     * @param {?number} moveTolerance - Move tolerance.\r\n     * @param {?number} timeTolerance - Time tolerance.\r\n     * @returns {Element} The passed `element`.\r\n     */\r\n\r\n  }, {\r\n    key: \"initDblClickEmulator\",\r\n    value: function initDblClickEmulator(element, moveTolerance, timeTolerance) {\r\n      if (DBLCLICK_EMULATOR_ELEMENTS.includes(element)) {\r\n        return element;\r\n      }\r\n\r\n      DBLCLICK_EMULATOR_ELEMENTS.push(element);\r\n      var DEFAULT_MOVE_TOLERANCE = 16,\r\n          // px\r\n      DEFAULT_TIME_TOLERANCE = 400; // ms\r\n\r\n      var startX, startY, startMs;\r\n\r\n      if (moveTolerance == null) {\r\n        moveTolerance = DEFAULT_MOVE_TOLERANCE;\r\n      }\r\n\r\n      if (timeTolerance == null) {\r\n        timeTolerance = DEFAULT_TIME_TOLERANCE;\r\n      }\r\n\r\n      PointerEvent.initClickEmulator(element, moveTolerance, timeTolerance);\r\n      addEventListenerWithOptions(element, 'click', function (event) {\r\n        if (!event.emulated || // Ignore events that are not from `touchend`.\r\n        typeof event.clientX !== 'number' || typeof event.clientY !== 'number') {\r\n          return;\r\n        }\r\n\r\n        if (typeof startX === 'number' && getPointsLength({\r\n          x: startX,\r\n          y: startY\r\n        }, {\r\n          x: event.clientX,\r\n          y: event.clientY\r\n        }) <= moveTolerance && performance.now() - startMs <= timeTolerance * 2) {\r\n          // up (tolerance) down (tolerance) up\r\n          setTimeout(function () {\r\n            // FIRE\r\n            var newEvent = new MouseEvent('dblclick', {\r\n              clientX: event.clientX,\r\n              clientY: event.clientY\r\n            });\r\n            newEvent.emulated = true;\r\n            element.dispatchEvent(newEvent);\r\n          }, 0);\r\n          startX = startY = startMs = null;\r\n        } else {\r\n          // 1st\r\n          startX = event.clientX;\r\n          startY = event.clientY;\r\n          startMs = performance.now();\r\n        }\r\n      }, {\r\n        capture: false,\r\n        passive: false\r\n      });\r\n      return element;\r\n    }\r\n  }]);\r\n\r\n  return PointerEvent;\r\n}();\r\n\r\nexport default PointerEvent;", "/* ================================================\r\n        DON'T MANUALLY EDIT THIS FILE\r\n================================================ */\r\n\r\n/*\r\n * CSSPrefix\r\n * https://github.com/anseki/cssprefix\r\n *\r\n * Copyright (c) 2021 anseki\r\n * Licensed under the MIT license.\r\n */\r\nfunction ucf(text) {\r\n  return text.substr(0, 1).toUpperCase() + text.substr(1);\r\n}\r\n\r\nvar PREFIXES = ['webkit', 'moz', 'ms', 'o'],\r\n    NAME_PREFIXES = PREFIXES.reduce(function (prefixes, prefix) {\r\n  prefixes.push(prefix);\r\n  prefixes.push(ucf(prefix));\r\n  return prefixes;\r\n}, []),\r\n    VALUE_PREFIXES = PREFIXES.map(function (prefix) {\r\n  return \"-\".concat(prefix, \"-\");\r\n}),\r\n\r\n/**\r\n * Get sample CSSStyleDeclaration.\r\n * @returns {CSSStyleDeclaration}\r\n */\r\ngetDeclaration = function () {\r\n  var declaration;\r\n  return function () {\r\n    return declaration = declaration || document.createElement('div').style;\r\n  };\r\n}(),\r\n\r\n/**\r\n * Normalize name.\r\n * @param {} propName - A name that is normalized.\r\n * @returns {string} A normalized name.\r\n */\r\nnormalizeName = function () {\r\n  var rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),\r\n      reUc = /[A-Z]/;\r\n  return function (propName) {\r\n    return (propName = (propName + '').replace(/\\s/g, '').replace(/-([\\da-z])/gi, function (str, p1) {\r\n      return p1.toUpperCase();\r\n    }) // camelCase\r\n    // 'ms' and 'Ms' are found by rePrefixedName 'i' option\r\n    .replace(rePrefixedName, function (str, p1) {\r\n      return reUc.test(p1) ? p1.toLowerCase() : str;\r\n    }) // Remove prefix\r\n    ).toLowerCase() === 'float' ? 'cssFloat' : propName;\r\n  }; // For old CSSOM\r\n}(),\r\n\r\n/**\r\n * Normalize value.\r\n * @param {} propValue - A value that is normalized.\r\n * @returns {string} A normalized value.\r\n */\r\nnormalizeValue = function () {\r\n  var rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');\r\n  return function (propValue) {\r\n    return (propValue != null ? propValue + '' : '').replace(/\\s/g, '').replace(rePrefixedValue, '');\r\n  };\r\n}(),\r\n\r\n/**\r\n * Polyfill for `CSS.supports`.\r\n * @param {string} propName - A name.\r\n * @param {string} propValue - A value.\r\n *     Since `CSSStyleDeclaration.setProperty` might return unexpected result,\r\n *     the `propValue` should be checked before the `cssSupports` is called.\r\n * @returns {boolean} `true` if given pair is accepted.\r\n */\r\ncssSupports = function () {\r\n  return (// return window.CSS && window.CSS.supports || ((propName, propValue) => {\r\n    // `CSS.supports` doesn't find prefixed property.\r\n    function (propName, propValue) {\r\n      var declaration = getDeclaration(); // In some browsers, `declaration[prop] = value` updates any property.\r\n\r\n      propName = propName.replace(/[A-Z]/g, function (str) {\r\n        return \"-\".concat(str.toLowerCase());\r\n      }); // kebab-case\r\n\r\n      declaration.setProperty(propName, propValue);\r\n      return declaration[propName] != null && // Because getPropertyValue returns '' if it is unsupported\r\n      declaration.getPropertyValue(propName) === propValue;\r\n    }\r\n  );\r\n}(),\r\n    // Cache\r\npropNames = {},\r\n    propValues = {};\r\n\r\nfunction getName(propName) {\r\n  propName = normalizeName(propName);\r\n\r\n  if (propName && propNames[propName] == null) {\r\n    var declaration = getDeclaration();\r\n\r\n    if (declaration[propName] != null) {\r\n      // Original\r\n      propNames[propName] = propName;\r\n    } else {\r\n      // Try with prefixes\r\n      var ucfName = ucf(propName);\r\n\r\n      if (!NAME_PREFIXES.some(function (prefix) {\r\n        var prefixed = prefix + ucfName;\r\n\r\n        if (declaration[prefixed] != null) {\r\n          propNames[propName] = prefixed;\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n      })) {\r\n        propNames[propName] = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  return propNames[propName] || void 0;\r\n}\r\n\r\nfunction getValue(propName, propValue) {\r\n  var res;\r\n\r\n  if (!(propName = getName(propName))) {\r\n    return res;\r\n  } // Invalid property\r\n\r\n\r\n  propValues[propName] = propValues[propName] || {};\r\n  (Array.isArray(propValue) ? propValue : [propValue]).some(function (propValue) {\r\n    propValue = normalizeValue(propValue);\r\n\r\n    if (propValues[propName][propValue] != null) {\r\n      // Cache\r\n      if (propValues[propName][propValue] !== false) {\r\n        res = propValues[propName][propValue];\r\n        return true;\r\n      }\r\n\r\n      return false; // Continue to next value\r\n    }\r\n\r\n    if (cssSupports(propName, propValue)) {\r\n      // Original\r\n      res = propValues[propName][propValue] = propValue;\r\n      return true;\r\n    }\r\n\r\n    if (VALUE_PREFIXES.some(function (prefix) {\r\n      // Try with prefixes\r\n      var prefixed = prefix + propValue;\r\n\r\n      if (cssSupports(propName, prefixed)) {\r\n        res = propValues[propName][propValue] = prefixed;\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    })) {\r\n      return true;\r\n    }\r\n\r\n    propValues[propName][propValue] = false;\r\n    return false; // Continue to next value\r\n  });\r\n  return typeof res === 'string' ? res : void 0; // It might be empty string.\r\n}\r\n\r\nvar CSSPrefix = {\r\n  getName: getName,\r\n  getValue: getValue\r\n};\r\nexport default CSSPrefix;", "/* ================================================\r\n        DON'T MANUALLY EDIT THIS FILE\r\n================================================ */\r\n\r\n/*\r\n * mClassList\r\n * https://github.com/anseki/m-class-list\r\n *\r\n * Copyright (c) 2021 anseki\r\n * Licensed under the MIT license.\r\n */\r\nfunction normalize(token) {\r\n  return (token + '').trim();\r\n} // Not `||`\r\n\r\n\r\nfunction applyList(list, element) {\r\n  element.setAttribute('class', list.join(' '));\r\n}\r\n\r\nfunction _add(list, element, tokens) {\r\n  if (tokens.filter(function (token) {\r\n    if (!(token = normalize(token)) || list.indexOf(token) !== -1) {\r\n      return false;\r\n    }\r\n\r\n    list.push(token);\r\n    return true;\r\n  }).length) {\r\n    applyList(list, element);\r\n  }\r\n}\r\n\r\nfunction _remove(list, element, tokens) {\r\n  if (tokens.filter(function (token) {\r\n    var i;\r\n\r\n    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) {\r\n      return false;\r\n    }\r\n\r\n    list.splice(i, 1);\r\n    return true;\r\n  }).length) {\r\n    applyList(list, element);\r\n  }\r\n}\r\n\r\nfunction _toggle(list, element, token, force) {\r\n  var i = list.indexOf(token = normalize(token));\r\n\r\n  if (i !== -1) {\r\n    if (force) {\r\n      return true;\r\n    }\r\n\r\n    list.splice(i, 1);\r\n    applyList(list, element);\r\n    return false;\r\n  }\r\n\r\n  if (force === false) {\r\n    return false;\r\n  }\r\n\r\n  list.push(token);\r\n  applyList(list, element);\r\n  return true;\r\n}\r\n\r\nfunction _replace(list, element, token, newToken) {\r\n  var i;\r\n\r\n  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) || token === newToken || (i = list.indexOf(token)) === -1) {\r\n    return;\r\n  }\r\n\r\n  list.splice(i, 1);\r\n\r\n  if (list.indexOf(newToken) === -1) {\r\n    list.push(newToken);\r\n  }\r\n\r\n  applyList(list, element);\r\n}\r\n\r\nfunction mClassList(element) {\r\n  return !mClassList.ignoreNative && element.classList || function () {\r\n    var list = (element.getAttribute('class') || '').trim().split(/\\s+/).filter(function (token) {\r\n      return !!token;\r\n    }),\r\n        ins = {\r\n      length: list.length,\r\n      item: function item(i) {\r\n        return list[i];\r\n      },\r\n      contains: function contains(token) {\r\n        return list.indexOf(normalize(token)) !== -1;\r\n      },\r\n      add: function add() {\r\n        _add(list, element, Array.prototype.slice.call(arguments));\r\n\r\n        return mClassList.methodChain ? ins : void 0;\r\n      },\r\n      remove: function remove() {\r\n        _remove(list, element, Array.prototype.slice.call(arguments));\r\n\r\n        return mClassList.methodChain ? ins : void 0;\r\n      },\r\n      toggle: function toggle(token, force) {\r\n        return _toggle(list, element, token, force);\r\n      },\r\n      replace: function replace(token, newToken) {\r\n        _replace(list, element, token, newToken);\r\n\r\n        return mClassList.methodChain ? ins : void 0;\r\n      }\r\n    };\r\n    return ins;\r\n  }();\r\n}\r\n\r\nmClassList.methodChain = true;\r\nexport default mClassList;", "/* ================================================\r\n        DON'T MANUALLY EDIT THIS FILE\r\n================================================ */\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\n/*\r\n * PlainDraggable\r\n * https://anseki.github.io/plain-draggable/\r\n *\r\n * Copyright (c) 2021 anseki\r\n * Licensed under the MIT license.\r\n */\r\nimport PointerEvent from 'pointer-event';\r\nimport CSSPrefix from 'cssprefix';\r\nimport AnimEvent from 'anim-event';\r\nimport mClassList from 'm-class-list';\r\nmClassList.ignoreNative = true;\r\n\r\nvar ZINDEX = 9000,\r\n    // [SNAP]\r\nSNAP_GRAVITY = 20,\r\n    SNAP_CORNER = 'tl',\r\n    SNAP_SIDE = 'both',\r\n    SNAP_EDGE = 'both',\r\n    SNAP_BASE = 'containment',\r\n    SNAP_ALL_CORNERS = ['tl', 'tr', 'bl', 'br'],\r\n    SNAP_ALL_SIDES = ['start', 'end'],\r\n    SNAP_ALL_EDGES = ['inside', 'outside'],\r\n    // [/SNAP]\r\n// [AUTO-SCROLL]\r\nAUTOSCROLL_SPEED = [40, 200, 1000],\r\n    AUTOSCROLL_SENSITIVITY = [100, 40, 0],\r\n    // [/AUTO-SCROLL]\r\nIS_EDGE = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\r\n    IS_TRIDENT = !IS_EDGE && !!document.uniqueID,\r\n    // Future Edge might support `document.uniqueID`.\r\nIS_GECKO = ('MozAppearance' in document.documentElement.style),\r\n    IS_BLINK = !IS_EDGE && !IS_GECKO && // Edge has `window.chrome`, and future Gecko might have that.\r\n!!window.chrome && !!window.CSS,\r\n    IS_WEBKIT = !IS_EDGE && !IS_TRIDENT && !IS_GECKO && !IS_BLINK && // Some engines support `webkit-*` properties.\r\n!window.chrome && 'WebkitAppearance' in document.documentElement.style,\r\n    isObject = function () {\r\n  var toString = {}.toString,\r\n      fnToString = {}.hasOwnProperty.toString,\r\n      objFnString = fnToString.call(Object);\r\n  return function (obj) {\r\n    var proto, constr;\r\n    return obj && toString.call(obj) === '[object Object]' && (!(proto = Object.getPrototypeOf(obj)) || (constr = proto.hasOwnProperty('constructor') && proto.constructor) && typeof constr === 'function' && fnToString.call(constr) === objFnString);\r\n  };\r\n}(),\r\n    isFinite = Number.isFinite || function (value) {\r\n  return typeof value === 'number' && window.isFinite(value);\r\n},\r\n\r\n/** @type {Object.<_id: number, props>} */\r\ninsProps = {},\r\n    pointerOffset = {},\r\n    pointerEvent = new PointerEvent();\r\n\r\nvar insId = 0,\r\n    activeProps,\r\n    hasMoved,\r\n    body,\r\n    // CSS property/value\r\ncssValueDraggableCursor,\r\n    cssValueDraggingCursor,\r\n    cssOrgValueBodyCursor,\r\n    cssPropTransitionProperty,\r\n    cssPropTransform,\r\n    cssPropUserSelect,\r\n    cssOrgValueBodyUserSelect,\r\n    // Try to set `cursor` property.\r\ncssWantedValueDraggableCursor = IS_WEBKIT ? ['all-scroll', 'move'] : ['grab', 'all-scroll', 'move'],\r\n    cssWantedValueDraggingCursor = IS_WEBKIT ? 'move' : ['grabbing', 'move'],\r\n    // class\r\ndraggableClass = 'plain-draggable',\r\n    draggingClass = 'plain-draggable-dragging',\r\n    movingClass = 'plain-draggable-moving'; // [AUTO-SCROLL]\r\n// Scroll Animation Controller\r\n\r\nvar scrollFrame = {},\r\n    MSPF = 1000 / 60,\r\n    // ms/frame (FPS: 60)\r\nrequestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\r\n  return setTimeout(callback, MSPF);\r\n},\r\n    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {\r\n  return clearTimeout(requestID);\r\n};\r\n\r\n{\r\n  /**\r\n   * @typedef {Object} MoveArgs\r\n   * @property {number} dir - [-1 | 1] minus or plus to position value.\r\n   * @property {number} speed - px/ms\r\n   * @property {number} min - Minimum position value.\r\n   * @property {number} max - Maximum position value.\r\n   * @property {number} [lastFrameTime] - Time of last frame.\r\n   * @property {number} [lastValue] - Strict value of last frame.\r\n   */\r\n  var curXyMoveArgs = {},\r\n      curElement,\r\n      curScrollXY,\r\n      requestID;\r\n\r\n  function frameUpdate() {\r\n    var now = Date.now();\r\n    ['x', 'y'].forEach(function (xy) {\r\n      var moveArgs = curXyMoveArgs[xy];\r\n\r\n      if (moveArgs) {\r\n        var timeLen = now - moveArgs.lastFrameTime,\r\n            absValue = curScrollXY(curElement, xy),\r\n            curValue = moveArgs.lastValue != null && Math.abs(moveArgs.lastValue - absValue) < 10 // It was not moved manually\r\n        ? moveArgs.lastValue : absValue;\r\n\r\n        if (moveArgs.dir === -1 ? curValue > moveArgs.min : curValue < moveArgs.max) {\r\n          var newValue = curValue + moveArgs.speed * timeLen * moveArgs.dir;\r\n\r\n          if (newValue < moveArgs.min) {\r\n            newValue = moveArgs.min;\r\n          } else if (newValue > moveArgs.max) {\r\n            newValue = moveArgs.max;\r\n          }\r\n\r\n          curScrollXY(curElement, xy, newValue);\r\n          moveArgs.lastValue = newValue;\r\n        }\r\n\r\n        moveArgs.lastFrameTime = now;\r\n      }\r\n    });\r\n  }\r\n\r\n  function frame() {\r\n    cancelAnim.call(window, requestID);\r\n    frameUpdate();\r\n    requestID = requestAnim.call(window, frame);\r\n  }\r\n  /**\r\n   * @param {Element} element - A target element.\r\n   * @param {{x: ?MoveArgs, y: ?MoveArgs}} xyMoveArgs - MoveArgs for x and y\r\n   * @param {function} scrollXY - (element: Element, xy: string, value: number) => number\r\n   * @returns {void}\r\n   */\r\n\r\n\r\n  scrollFrame.move = function (element, xyMoveArgs, scrollXY) {\r\n    cancelAnim.call(window, requestID);\r\n    frameUpdate(); // Update current data now because it might be not continuation.\r\n    // Re-use lastValue\r\n\r\n    if (curElement === element) {\r\n      if (xyMoveArgs.x && curXyMoveArgs.x) {\r\n        xyMoveArgs.x.lastValue = curXyMoveArgs.x.lastValue;\r\n      }\r\n\r\n      if (xyMoveArgs.y && curXyMoveArgs.y) {\r\n        xyMoveArgs.y.lastValue = curXyMoveArgs.y.lastValue;\r\n      }\r\n    }\r\n\r\n    curElement = element;\r\n    curXyMoveArgs = xyMoveArgs;\r\n    curScrollXY = scrollXY;\r\n    var now = Date.now();\r\n    ['x', 'y'].forEach(function (xy) {\r\n      var moveArgs = curXyMoveArgs[xy];\r\n\r\n      if (moveArgs) {\r\n        moveArgs.lastFrameTime = now;\r\n      }\r\n    });\r\n    requestID = requestAnim.call(window, frame);\r\n  };\r\n\r\n  scrollFrame.stop = function () {\r\n    cancelAnim.call(window, requestID);\r\n    frameUpdate();\r\n    curXyMoveArgs = {};\r\n    curElement = null; // Remove reference\r\n  };\r\n}\r\n\r\nfunction scrollXYWindow(element, xy, value) {\r\n  if (value != null) {\r\n    if (xy === 'x') {\r\n      element.scrollTo(value, element.pageYOffset);\r\n    } else {\r\n      element.scrollTo(element.pageXOffset, value);\r\n    }\r\n  }\r\n\r\n  return xy === 'x' ? element.pageXOffset : element.pageYOffset;\r\n}\r\n\r\nfunction scrollXYElement(element, xy, value) {\r\n  var prop = xy === 'x' ? 'scrollLeft' : 'scrollTop';\r\n\r\n  if (value != null) {\r\n    element[prop] = value;\r\n  }\r\n\r\n  return element[prop];\r\n}\r\n/**\r\n * @typedef {Object} Scrollable\r\n * @property {number} clientWidth - width of scrollable area.\r\n * @property {number} clientHeight - height of scrollable area.\r\n * @property {number} scrollWidth - width of inner content.\r\n * @property {number} scrollHeight - height of inner content.\r\n * @property {number} clientX - X of scrollable area, document coordinate.\r\n * @property {number} clientY - T of scrollable area, document coordinate.\r\n */\r\n\r\n/**\r\n * @param {Element} element - A target element.\r\n * @param {boolean} [isWindow] - `true` if element is window.\r\n * @param {boolean} [dontScroll] - `true` makes it skip scroll that gets scrollWidth/Height.\r\n * @returns {Scrollable} Information for scroll.\r\n */\r\n\r\n\r\nfunction getScrollable(element, isWindow, dontScroll) {\r\n  var scrollable = {};\r\n  var cmpStyleHtml, cmpStyleBody, cmpStyleElement; // clientWidth/Height\r\n\r\n  (function (target) {\r\n    scrollable.clientWidth = target.clientWidth;\r\n    scrollable.clientHeight = target.clientHeight;\r\n  })(isWindow ? document.documentElement : element); // scrollWidth/Height\r\n\r\n  /*\r\n    Gecko bug, bottom-padding of element is reduced.\r\n    Blink for Android bug, borders of <html> is rendered but those are not added to scrollW/H.\r\n    Then, move it to max scroll position (sufficiently larger values) forcibly, and get scroll position.\r\n  */\r\n\r\n\r\n  var maxScrollLeft = 0,\r\n      maxScrollTop = 0;\r\n\r\n  if (!dontScroll) {\r\n    var curScrollLeft, curScrollTop;\r\n\r\n    if (isWindow) {\r\n      curScrollLeft = scrollXYWindow(element, 'x');\r\n      curScrollTop = scrollXYWindow(element, 'y');\r\n      cmpStyleHtml = getComputedStyle(document.documentElement, '');\r\n      cmpStyleBody = getComputedStyle(document.body, '');\r\n      maxScrollLeft = scrollXYWindow(element, 'x', document.documentElement.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body\r\n      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {\r\n        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);\r\n      }, 0));\r\n      maxScrollTop = scrollXYWindow(element, 'y', document.documentElement.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {\r\n        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);\r\n      }, 0));\r\n      scrollXYWindow(element, 'x', curScrollLeft);\r\n      scrollXYWindow(element, 'y', curScrollTop);\r\n    } else {\r\n      curScrollLeft = scrollXYElement(element, 'x');\r\n      curScrollTop = scrollXYElement(element, 'y');\r\n      cmpStyleElement = getComputedStyle(element, '');\r\n      maxScrollLeft = scrollXYElement(element, 'x', element.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body\r\n      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {\r\n        return len + (parseFloat(cmpStyleElement[prop]) || 0);\r\n      }, 0));\r\n      maxScrollTop = scrollXYElement(element, 'y', element.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {\r\n        return len + (parseFloat(cmpStyleElement[prop]) || 0);\r\n      }, 0));\r\n      scrollXYElement(element, 'x', curScrollLeft);\r\n      scrollXYElement(element, 'y', curScrollTop);\r\n    }\r\n  }\r\n\r\n  scrollable.scrollWidth = scrollable.clientWidth + maxScrollLeft;\r\n  scrollable.scrollHeight = scrollable.clientHeight + maxScrollTop; // clientX/Y\r\n\r\n  var rect;\r\n\r\n  if (isWindow) {\r\n    scrollable.clientX = scrollable.clientY = 0;\r\n  } else {\r\n    // padding-box\r\n    rect = element.getBoundingClientRect();\r\n\r\n    if (!cmpStyleElement) {\r\n      cmpStyleElement = getComputedStyle(element, '');\r\n    }\r\n\r\n    scrollable.clientX = rect.left + (parseFloat(cmpStyleElement.borderLeftWidth) || 0);\r\n    scrollable.clientY = rect.top + (parseFloat(cmpStyleElement.borderTopWidth) || 0);\r\n  }\r\n\r\n  return scrollable;\r\n} // [/AUTO-SCROLL]\r\n\r\n\r\nfunction copyTree(obj) {\r\n  return !obj ? obj : isObject(obj) ? Object.keys(obj).reduce(function (copyObj, key) {\r\n    copyObj[key] = copyTree(obj[key]);\r\n    return copyObj;\r\n  }, {}) : Array.isArray(obj) ? obj.map(copyTree) : obj;\r\n}\r\n\r\nfunction hasChanged(a, b) {\r\n  var typeA, keysA;\r\n  return _typeof(a) !== _typeof(b) || (typeA = isObject(a) ? 'obj' : Array.isArray(a) ? 'array' : '') !== (isObject(b) ? 'obj' : Array.isArray(b) ? 'array' : '') || (typeA === 'obj' ? hasChanged(keysA = Object.keys(a).sort(), Object.keys(b).sort()) || keysA.some(function (prop) {\r\n    return hasChanged(a[prop], b[prop]);\r\n  }) : typeA === 'array' ? a.length !== b.length || a.some(function (aVal, i) {\r\n    return hasChanged(aVal, b[i]);\r\n  }) : a !== b);\r\n}\r\n/**\r\n * @param {Element} element - A target element.\r\n * @returns {boolean} `true` if connected element.\r\n */\r\n\r\n\r\nfunction isElement(element) {\r\n  return !!(element && element.nodeType === Node.ELEMENT_NODE && // element instanceof HTMLElement &&\r\n  typeof element.getBoundingClientRect === 'function' && !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));\r\n}\r\n/**\r\n * An object that simulates `DOMRect` to indicate a bounding-box.\r\n * @typedef {Object} BBox\r\n * @property {(number|null)} left - document coordinate\r\n * @property {(number|null)} top - document coordinate\r\n * @property {(number|null)} right - document coordinate\r\n * @property {(number|null)} bottom - document coordinate\r\n * @property {(number|null)} x - Substitutes for left\r\n * @property {(number|null)} y - Substitutes for top\r\n * @property {(number|null)} width\r\n * @property {(number|null)} height\r\n */\r\n\r\n/**\r\n * @param {Object} bBox - A target object.\r\n * @returns {(BBox|null)} A normalized `BBox`, or null if `bBox` is invalid.\r\n */\r\n\r\n\r\nfunction validBBox(bBox) {\r\n  if (!isObject(bBox)) {\r\n    return null;\r\n  }\r\n\r\n  var value;\r\n\r\n  if (isFinite(value = bBox.left) || isFinite(value = bBox.x)) {\r\n    bBox.left = bBox.x = value;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  if (isFinite(value = bBox.top) || isFinite(value = bBox.y)) {\r\n    bBox.top = bBox.y = value;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  if (isFinite(bBox.width) && bBox.width >= 0) {\r\n    bBox.right = bBox.left + bBox.width;\r\n  } else if (isFinite(bBox.right) && bBox.right >= bBox.left) {\r\n    bBox.width = bBox.right - bBox.left;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  if (isFinite(bBox.height) && bBox.height >= 0) {\r\n    bBox.bottom = bBox.top + bBox.height;\r\n  } else if (isFinite(bBox.bottom) && bBox.bottom >= bBox.top) {\r\n    bBox.height = bBox.bottom - bBox.top;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  return bBox;\r\n}\r\n/**\r\n * A value that is Pixels or Ratio\r\n * @typedef {{value: number, isRatio: boolean}} PPValue\r\n */\r\n\r\n\r\nfunction validPPValue(value) {\r\n  // Get PPValue from string (all `/s` were already removed)\r\n  function string2PPValue(inString) {\r\n    var matches = /^(.+?)(%)?$/.exec(inString);\r\n    var value, isRatio;\r\n    return matches && isFinite(value = parseFloat(matches[1])) ? {\r\n      value: (isRatio = !!(matches[2] && value)) ? value / 100 : value,\r\n      isRatio: isRatio\r\n    } : null; // 0% -> 0\r\n  }\r\n\r\n  return isFinite(value) ? {\r\n    value: value,\r\n    isRatio: false\r\n  } : typeof value === 'string' ? string2PPValue(value.replace(/\\s/g, '')) : null;\r\n}\r\n\r\nfunction ppValue2OptionValue(ppValue) {\r\n  return ppValue.isRatio ? \"\".concat(ppValue.value * 100, \"%\") : ppValue.value;\r\n}\r\n\r\nfunction resolvePPValue(ppValue, baseOrigin, baseSize) {\r\n  return typeof ppValue === 'number' ? ppValue : baseOrigin + ppValue.value * (ppValue.isRatio ? baseSize : 1);\r\n}\r\n/**\r\n * An object that simulates BBox but properties are PPValue.\r\n * @typedef {Object} PPBBox\r\n */\r\n\r\n/**\r\n * @param {Object} bBox - A target object.\r\n * @returns {(PPBBox|null)} A normalized `PPBBox`, or null if `bBox` is invalid.\r\n */\r\n\r\n\r\nfunction validPPBBox(bBox) {\r\n  if (!isObject(bBox)) {\r\n    return null;\r\n  }\r\n\r\n  var ppValue;\r\n\r\n  if ((ppValue = validPPValue(bBox.left)) || (ppValue = validPPValue(bBox.x))) {\r\n    bBox.left = bBox.x = ppValue;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  if ((ppValue = validPPValue(bBox.top)) || (ppValue = validPPValue(bBox.y))) {\r\n    bBox.top = bBox.y = ppValue;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  if ((ppValue = validPPValue(bBox.width)) && ppValue.value >= 0) {\r\n    bBox.width = ppValue;\r\n    delete bBox.right;\r\n  } else if (ppValue = validPPValue(bBox.right)) {\r\n    bBox.right = ppValue;\r\n    delete bBox.width;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  if ((ppValue = validPPValue(bBox.height)) && ppValue.value >= 0) {\r\n    bBox.height = ppValue;\r\n    delete bBox.bottom;\r\n  } else if (ppValue = validPPValue(bBox.bottom)) {\r\n    bBox.bottom = ppValue;\r\n    delete bBox.height;\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n  return bBox;\r\n}\r\n\r\nfunction ppBBox2OptionObject(ppBBox) {\r\n  return Object.keys(ppBBox).reduce(function (obj, prop) {\r\n    obj[prop] = ppValue2OptionValue(ppBBox[prop]);\r\n    return obj;\r\n  }, {});\r\n} // PPBBox -> BBox\r\n\r\n\r\nfunction resolvePPBBox(ppBBox, baseBBox) {\r\n  var prop2Axis = {\r\n    left: 'x',\r\n    right: 'x',\r\n    x: 'x',\r\n    width: 'x',\r\n    top: 'y',\r\n    bottom: 'y',\r\n    y: 'y',\r\n    height: 'y'\r\n  },\r\n      baseOriginXY = {\r\n    x: baseBBox.left,\r\n    y: baseBBox.top\r\n  },\r\n      baseSizeXY = {\r\n    x: baseBBox.width,\r\n    y: baseBBox.height\r\n  };\r\n  return validBBox(Object.keys(ppBBox).reduce(function (bBox, prop) {\r\n    bBox[prop] = resolvePPValue(ppBBox[prop], prop === 'width' || prop === 'height' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);\r\n    return bBox;\r\n  }, {}));\r\n}\r\n/**\r\n * @param {Element} element - A target element.\r\n * @param {?boolean} getPaddingBox - Get padding-box instead of border-box as bounding-box.\r\n * @returns {BBox} A bounding-box of `element`.\r\n */\r\n\r\n\r\nfunction getBBox(element, getPaddingBox) {\r\n  var rect = element.getBoundingClientRect(),\r\n      bBox = {\r\n    left: rect.left,\r\n    top: rect.top,\r\n    width: rect.width,\r\n    height: rect.height\r\n  };\r\n  bBox.left += window.pageXOffset;\r\n  bBox.top += window.pageYOffset;\r\n\r\n  if (getPaddingBox) {\r\n    var style = window.getComputedStyle(element, ''),\r\n        borderTop = parseFloat(style.borderTopWidth) || 0,\r\n        borderRight = parseFloat(style.borderRightWidth) || 0,\r\n        borderBottom = parseFloat(style.borderBottomWidth) || 0,\r\n        borderLeft = parseFloat(style.borderLeftWidth) || 0;\r\n    bBox.left += borderLeft;\r\n    bBox.top += borderTop;\r\n    bBox.width -= borderLeft + borderRight;\r\n    bBox.height -= borderTop + borderBottom;\r\n  }\r\n\r\n  return validBBox(bBox);\r\n}\r\n/**\r\n * Optimize an element for animation.\r\n * @param {Element} element - A target element.\r\n * @param {?boolean} gpuTrigger - Initialize for SVGElement if `true`.\r\n * @returns {Element} A target element.\r\n */\r\n\r\n\r\nfunction initAnim(element, gpuTrigger) {\r\n  var style = element.style;\r\n  style.webkitTapHighlightColor = 'transparent'; // Only when it has no shadow\r\n\r\n  var cssPropBoxShadow = CSSPrefix.getName('boxShadow'),\r\n      boxShadow = window.getComputedStyle(element, '')[cssPropBoxShadow];\r\n\r\n  if (!boxShadow || boxShadow === 'none') {\r\n    style[cssPropBoxShadow] = '0 0 1px transparent';\r\n  }\r\n\r\n  if (gpuTrigger && cssPropTransform) {\r\n    style[cssPropTransform] = 'translateZ(0)';\r\n  }\r\n\r\n  return element;\r\n}\r\n\r\nfunction setDraggableCursor(element, orgCursor) {\r\n  if (cssValueDraggableCursor == null) {\r\n    if (cssWantedValueDraggableCursor !== false) {\r\n      cssValueDraggableCursor = CSSPrefix.getValue('cursor', cssWantedValueDraggableCursor);\r\n    } // The wanted value was denied, or changing is not wanted.\r\n\r\n\r\n    if (cssValueDraggableCursor == null) {\r\n      cssValueDraggableCursor = false;\r\n    }\r\n  } // Update it to change a state even if cssValueDraggableCursor is false.\r\n\r\n\r\n  element.style.cursor = cssValueDraggableCursor === false ? orgCursor : cssValueDraggableCursor;\r\n}\r\n\r\nfunction setDraggingCursor(element) {\r\n  if (cssValueDraggingCursor == null) {\r\n    if (cssWantedValueDraggingCursor !== false) {\r\n      cssValueDraggingCursor = CSSPrefix.getValue('cursor', cssWantedValueDraggingCursor);\r\n    } // The wanted value was denied, or changing is not wanted.\r\n\r\n\r\n    if (cssValueDraggingCursor == null) {\r\n      cssValueDraggingCursor = false;\r\n    }\r\n  }\r\n\r\n  if (cssValueDraggingCursor !== false) {\r\n    element.style.cursor = cssValueDraggingCursor;\r\n  }\r\n} // [SVG]\r\n\r\n/**\r\n * Get SVG coordinates from viewport coordinates.\r\n * @param {props} props - `props` of instance.\r\n * @param {number} clientX - viewport X.\r\n * @param {number} clientY - viewport Y.\r\n * @returns {SVGPoint} SVG coordinates.\r\n */\r\n\r\n\r\nfunction viewPoint2SvgPoint(props, clientX, clientY) {\r\n  var svgPoint = props.svgPoint;\r\n  svgPoint.x = clientX;\r\n  svgPoint.y = clientY;\r\n  return svgPoint.matrixTransform(props.svgCtmElement.getScreenCTM().inverse());\r\n} // [/SVG]\r\n\r\n/**\r\n * Move by `translate`.\r\n * @param {props} props - `props` of instance.\r\n * @param {{left: number, top: number}} position - New position.\r\n * @returns {boolean} `true` if it was moved.\r\n */\r\n\r\n\r\nfunction moveTranslate(props, position) {\r\n  var elementBBox = props.elementBBox;\r\n\r\n  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {\r\n    var offset = props.htmlOffset;\r\n    props.elementStyle[cssPropTransform] = \"translate(\".concat(position.left + offset.left, \"px, \").concat(position.top + offset.top, \"px)\");\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n} // [LEFTTOP]\r\n\r\n/**\r\n * Move by `left` and `top`.\r\n * @param {props} props - `props` of instance.\r\n * @param {{left: number, top: number}} position - New position.\r\n * @returns {boolean} `true` if it was moved.\r\n */\r\n\r\n\r\nfunction moveLeftTop(props, position) {\r\n  var elementBBox = props.elementBBox,\r\n      elementStyle = props.elementStyle,\r\n      offset = props.htmlOffset;\r\n  var moved = false;\r\n\r\n  if (position.left !== elementBBox.left) {\r\n    elementStyle.left = position.left + offset.left + 'px';\r\n    moved = true;\r\n  }\r\n\r\n  if (position.top !== elementBBox.top) {\r\n    elementStyle.top = position.top + offset.top + 'px';\r\n    moved = true;\r\n  }\r\n\r\n  return moved;\r\n} // [/LEFTTOP]\r\n// [SVG]\r\n\r\n/**\r\n * Move SVGElement.\r\n * @param {props} props - `props` of instance.\r\n * @param {{left: number, top: number}} position - New position.\r\n * @returns {boolean} `true` if it was moved.\r\n */\r\n\r\n\r\nfunction moveSvg(props, position) {\r\n  var elementBBox = props.elementBBox;\r\n\r\n  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {\r\n    var offset = props.svgOffset,\r\n        originBBox = props.svgOriginBBox,\r\n        point = viewPoint2SvgPoint(props, position.left - window.pageXOffset, position.top - window.pageYOffset);\r\n    props.svgTransform.setTranslate(point.x + offset.x - originBBox.x, point.y + offset.y - originBBox.y);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n} // [/SVG]\r\n\r\n/**\r\n * Set `props.element` position.\r\n * @param {props} props - `props` of instance.\r\n * @param {{left: number, top: number}} position - New position.\r\n * @param {function} [cbCheck] - Callback that is called with valid position, cancel moving if it returns `false`.\r\n * @returns {boolean} `true` if it was moved.\r\n */\r\n\r\n\r\nfunction move(props, position, cbCheck) {\r\n  var elementBBox = props.elementBBox;\r\n\r\n  function fix() {\r\n    if (props.minLeft >= props.maxLeft) {\r\n      // Disabled\r\n      position.left = elementBBox.left;\r\n    } else if (position.left < props.minLeft) {\r\n      position.left = props.minLeft;\r\n    } else if (position.left > props.maxLeft) {\r\n      position.left = props.maxLeft;\r\n    }\r\n\r\n    if (props.minTop >= props.maxTop) {\r\n      // Disabled\r\n      position.top = elementBBox.top;\r\n    } else if (position.top < props.minTop) {\r\n      position.top = props.minTop;\r\n    } else if (position.top > props.maxTop) {\r\n      position.top = props.maxTop;\r\n    }\r\n  }\r\n\r\n  fix();\r\n\r\n  if (cbCheck) {\r\n    if (cbCheck(position) === false) {\r\n      return false;\r\n    }\r\n\r\n    fix(); // Again\r\n  }\r\n\r\n  var moved = props.moveElm(props, position);\r\n\r\n  if (moved) {\r\n    // Update elementBBox\r\n    props.elementBBox = validBBox({\r\n      left: position.left,\r\n      top: position.top,\r\n      width: elementBBox.width,\r\n      height: elementBBox.height\r\n    });\r\n  }\r\n\r\n  return moved;\r\n}\r\n/**\r\n * Initialize HTMLElement for `translate`, and get `offset` that is used by `moveTranslate`.\r\n * @param {props} props - `props` of instance.\r\n * @returns {BBox} Current BBox without animation, i.e. left/top properties.\r\n */\r\n\r\n\r\nfunction initTranslate(props) {\r\n  var element = props.element,\r\n      elementStyle = props.elementStyle,\r\n      curPosition = getBBox(element),\r\n      // Get BBox before change style.\r\n  RESTORE_PROPS = ['display', 'marginTop', 'marginBottom', 'width', 'height'];\r\n  RESTORE_PROPS.unshift(cssPropTransform); // Reset `transition-property` every time because it might be changed frequently.\r\n\r\n  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];\r\n  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation\r\n\r\n  var fixPosition = getBBox(element);\r\n\r\n  if (!props.orgStyle) {\r\n    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {\r\n      orgStyle[prop] = elementStyle[prop] || '';\r\n      return orgStyle;\r\n    }, {});\r\n    props.lastStyle = {};\r\n  } else {\r\n    RESTORE_PROPS.forEach(function (prop) {\r\n      // Skip this if it seems user changed it. (it can't check perfectly.)\r\n      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {\r\n        elementStyle[prop] = props.orgStyle[prop];\r\n      }\r\n    });\r\n  }\r\n\r\n  var orgSize = getBBox(element),\r\n      cmpStyle = window.getComputedStyle(element, ''); // https://www.w3.org/TR/css-transforms-1/#transformable-element\r\n\r\n  if (cmpStyle.display === 'inline') {\r\n    elementStyle.display = 'inline-block';\r\n    ['Top', 'Bottom'].forEach(function (dirProp) {\r\n      var padding = parseFloat(cmpStyle[\"padding\".concat(dirProp)]); // paddingTop/Bottom make padding but don't make space -> negative margin in inline-block\r\n      // marginTop/Bottom don't work in inline element -> `0` in inline-block\r\n\r\n      elementStyle[\"margin\".concat(dirProp)] = padding ? \"-\".concat(padding, \"px\") : '0';\r\n    });\r\n  }\r\n\r\n  elementStyle[cssPropTransform] = 'translate(0, 0)'; // Get document offset.\r\n\r\n  var newBBox = getBBox(element);\r\n  var offset = props.htmlOffset = {\r\n    left: newBBox.left ? -newBBox.left : 0,\r\n    top: newBBox.top ? -newBBox.top : 0\r\n  }; // avoid `-0`\r\n  // Restore position\r\n\r\n  elementStyle[cssPropTransform] = \"translate(\".concat(curPosition.left + offset.left, \"px, \").concat(curPosition.top + offset.top, \"px)\"); // Restore size\r\n\r\n  ['width', 'height'].forEach(function (prop) {\r\n    if (newBBox[prop] !== orgSize[prop]) {\r\n      // Ignore `box-sizing`\r\n      elementStyle[prop] = orgSize[prop] + 'px';\r\n      newBBox = getBBox(element);\r\n\r\n      if (newBBox[prop] !== orgSize[prop]) {\r\n        // Retry\r\n        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';\r\n      }\r\n    }\r\n\r\n    props.lastStyle[prop] = elementStyle[prop];\r\n  }); // Restore `transition-property`\r\n\r\n  element.offsetWidth;\r\n  /* force reflow */\r\n  // eslint-disable-line no-unused-expressions\r\n\r\n  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;\r\n\r\n  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {\r\n    // It seems that it is moving.\r\n    elementStyle[cssPropTransform] = \"translate(\".concat(fixPosition.left + offset.left, \"px, \").concat(fixPosition.top + offset.top, \"px)\");\r\n  }\r\n\r\n  return fixPosition;\r\n} // [LEFTTOP]\r\n\r\n/**\r\n * Initialize HTMLElement for `left` and `top`, and get `offset` that is used by `moveLeftTop`.\r\n * @param {props} props - `props` of instance.\r\n * @returns {BBox} Current BBox without animation, i.e. left/top properties.\r\n */\r\n\r\n\r\nfunction initLeftTop(props) {\r\n  var element = props.element,\r\n      elementStyle = props.elementStyle,\r\n      curPosition = getBBox(element),\r\n      // Get BBox before change style.\r\n  RESTORE_PROPS = ['position', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'width', 'height']; // Reset `transition-property` every time because it might be changed frequently.\r\n\r\n  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];\r\n  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation\r\n\r\n  var fixPosition = getBBox(element);\r\n\r\n  if (!props.orgStyle) {\r\n    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {\r\n      orgStyle[prop] = elementStyle[prop] || '';\r\n      return orgStyle;\r\n    }, {});\r\n    props.lastStyle = {};\r\n  } else {\r\n    RESTORE_PROPS.forEach(function (prop) {\r\n      // Skip this if it seems user changed it. (it can't check perfectly.)\r\n      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {\r\n        elementStyle[prop] = props.orgStyle[prop];\r\n      }\r\n    });\r\n  }\r\n\r\n  var orgSize = getBBox(element);\r\n  elementStyle.position = 'absolute';\r\n  elementStyle.left = elementStyle.top = elementStyle.margin = '0'; // Get document offset.\r\n\r\n  var newBBox = getBBox(element);\r\n  var offset = props.htmlOffset = {\r\n    left: newBBox.left ? -newBBox.left : 0,\r\n    top: newBBox.top ? -newBBox.top : 0\r\n  }; // avoid `-0`\r\n  // Restore position\r\n\r\n  elementStyle.left = curPosition.left + offset.left + 'px';\r\n  elementStyle.top = curPosition.top + offset.top + 'px'; // Restore size\r\n\r\n  ['width', 'height'].forEach(function (prop) {\r\n    if (newBBox[prop] !== orgSize[prop]) {\r\n      // Ignore `box-sizing`\r\n      elementStyle[prop] = orgSize[prop] + 'px';\r\n      newBBox = getBBox(element);\r\n\r\n      if (newBBox[prop] !== orgSize[prop]) {\r\n        // Retry\r\n        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';\r\n      }\r\n    }\r\n\r\n    props.lastStyle[prop] = elementStyle[prop];\r\n  }); // Restore `transition-property`\r\n\r\n  element.offsetWidth;\r\n  /* force reflow */\r\n  // eslint-disable-line no-unused-expressions\r\n\r\n  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;\r\n\r\n  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {\r\n    // It seems that it is moving.\r\n    elementStyle.left = fixPosition.left + offset.left + 'px';\r\n    elementStyle.top = fixPosition.top + offset.top + 'px';\r\n  }\r\n\r\n  return fixPosition;\r\n} // [/LEFTTOP]\r\n// [SVG]\r\n\r\n/**\r\n * Initialize SVGElement, and get `offset` that is used by `moveSvg`.\r\n * @param {props} props - `props` of instance.\r\n * @returns {BBox} Current BBox without animation, i.e. left/top properties.\r\n */\r\n\r\n\r\nfunction initSvg(props) {\r\n  var element = props.element,\r\n      svgTransform = props.svgTransform,\r\n      curRect = element.getBoundingClientRect(),\r\n      // Get Rect before change position.\r\n  fixPosition = getBBox(element);\r\n  svgTransform.setTranslate(0, 0);\r\n  var originBBox = props.svgOriginBBox = element.getBBox(),\r\n      // Try to get SVG coordinates of current position.\r\n  newRect = element.getBoundingClientRect(),\r\n      originPoint = viewPoint2SvgPoint(props, newRect.left, newRect.top),\r\n      // Gecko bug, getScreenCTM returns incorrect CTM, and originPoint might not be current position.\r\n  offset = props.svgOffset = {\r\n    x: originBBox.x - originPoint.x,\r\n    y: originBBox.y - originPoint.y\r\n  },\r\n      // Restore position\r\n  curPoint = viewPoint2SvgPoint(props, curRect.left, curRect.top);\r\n  svgTransform.setTranslate(curPoint.x + offset.x - originBBox.x, curPoint.y + offset.y - originBBox.y);\r\n  return fixPosition;\r\n} // [/SVG]\r\n\r\n/**\r\n * Set `elementBBox`, `containmentBBox`, `min/max``Left/Top` and `snapTargets`.\r\n * @param {props} props - `props` of instance.\r\n * @param {string} [eventType] - A type of event that kicked this method.\r\n * @returns {void}\r\n */\r\n\r\n\r\nfunction initBBox(props, eventType) {\r\n  // eslint-disable-line no-unused-vars\r\n  var docBBox = getBBox(document.documentElement),\r\n      elementBBox = props.elementBBox = props.initElm(props),\r\n      // reset offset etc.\r\n  containmentBBox = props.containmentBBox = props.containmentIsBBox ? resolvePPBBox(props.options.containment, docBBox) || docBBox : getBBox(props.options.containment, true);\r\n  props.minLeft = containmentBBox.left;\r\n  props.maxLeft = containmentBBox.right - elementBBox.width;\r\n  props.minTop = containmentBBox.top;\r\n  props.maxTop = containmentBBox.bottom - elementBBox.height; // Adjust position\r\n\r\n  move(props, {\r\n    left: elementBBox.left,\r\n    top: elementBBox.top\r\n  }); // [SNAP]\r\n  // Snap-targets\r\n\r\n  /**\r\n   * @typedef {Object} SnapTarget\r\n   * @property {number} [x] - A coordinate it moves to. It has x or y or both.\r\n   * @property {number} [y]\r\n   * @property {number} [gravityXStart] - Gravity zone. It has *Start or *End or both, and *X* or *Y* or both.\r\n   * @property {number} [gravityXEnd]\r\n   * @property {number} [gravityYStart]\r\n   * @property {number} [gravityYEnd]\r\n   */\r\n\r\n  if (props.parsedSnapTargets) {\r\n    var elementSizeXY = {\r\n      x: elementBBox.width,\r\n      y: elementBBox.height\r\n    },\r\n        minXY = {\r\n      x: props.minLeft,\r\n      y: props.minTop\r\n    },\r\n        maxXY = {\r\n      x: props.maxLeft,\r\n      y: props.maxTop\r\n    },\r\n        prop2Axis = {\r\n      left: 'x',\r\n      right: 'x',\r\n      x: 'x',\r\n      width: 'x',\r\n      xStart: 'x',\r\n      xEnd: 'x',\r\n      xStep: 'x',\r\n      top: 'y',\r\n      bottom: 'y',\r\n      y: 'y',\r\n      height: 'y',\r\n      yStart: 'y',\r\n      yEnd: 'y',\r\n      yStep: 'y'\r\n    },\r\n        snapTargets = props.parsedSnapTargets.reduce(function (snapTargets, parsedSnapTarget) {\r\n      var baseRect = parsedSnapTarget.base === 'containment' ? containmentBBox : docBBox,\r\n          baseOriginXY = {\r\n        x: baseRect.left,\r\n        y: baseRect.top\r\n      },\r\n          baseSizeXY = {\r\n        x: baseRect.width,\r\n        y: baseRect.height\r\n      };\r\n      /**\r\n       * Basically, shallow copy from parsedSnapTarget, and it can have resolved values.\r\n       * @typedef {{x: (number|PPValue), y, xStart, xEnd, xStep, yStart, yEnd, yStep}} TargetXY\r\n       * @property {string[]} [corners] - Applied value.\r\n       * @property {string[]} [sides]\r\n       * @property {boolean} center\r\n       * @property {number} [xGravity] - Override parsedSnapTarget.gravity.\r\n       * @property {number} [yGravity]\r\n       */\r\n      // Add single Point or Line (i.e. targetXY has no *Step)\r\n\r\n      function addSnapTarget(targetXY) {\r\n        if (targetXY.center == null) {\r\n          targetXY.center = parsedSnapTarget.center;\r\n        }\r\n\r\n        if (targetXY.xGravity == null) {\r\n          targetXY.xGravity = parsedSnapTarget.gravity;\r\n        }\r\n\r\n        if (targetXY.yGravity == null) {\r\n          targetXY.yGravity = parsedSnapTarget.gravity;\r\n        }\r\n\r\n        if (targetXY.x != null && targetXY.y != null) {\r\n          // Point\r\n          targetXY.x = resolvePPValue(targetXY.x, baseOriginXY.x, baseSizeXY.x);\r\n          targetXY.y = resolvePPValue(targetXY.y, baseOriginXY.y, baseSizeXY.y);\r\n\r\n          if (targetXY.center) {\r\n            targetXY.x -= elementSizeXY.x / 2;\r\n            targetXY.y -= elementSizeXY.y / 2;\r\n            targetXY.corners = ['tl'];\r\n          }\r\n\r\n          (targetXY.corners || parsedSnapTarget.corners).forEach(function (corner) {\r\n            var x = targetXY.x - (corner === 'tr' || corner === 'br' ? elementSizeXY.x : 0),\r\n                y = targetXY.y - (corner === 'bl' || corner === 'br' ? elementSizeXY.y : 0);\r\n\r\n            if (x >= minXY.x && x <= maxXY.x && y >= minXY.y && y <= maxXY.y) {\r\n              var snapTarget = {\r\n                x: x,\r\n                y: y\r\n              },\r\n                  gravityXStart = x - targetXY.xGravity,\r\n                  gravityXEnd = x + targetXY.xGravity,\r\n                  gravityYStart = y - targetXY.yGravity,\r\n                  gravityYEnd = y + targetXY.yGravity;\r\n\r\n              if (gravityXStart > minXY.x) {\r\n                snapTarget.gravityXStart = gravityXStart;\r\n              }\r\n\r\n              if (gravityXEnd < maxXY.x) {\r\n                snapTarget.gravityXEnd = gravityXEnd;\r\n              }\r\n\r\n              if (gravityYStart > minXY.y) {\r\n                snapTarget.gravityYStart = gravityYStart;\r\n              }\r\n\r\n              if (gravityYEnd < maxXY.y) {\r\n                snapTarget.gravityYEnd = gravityYEnd;\r\n              }\r\n\r\n              snapTargets.push(snapTarget);\r\n            }\r\n          });\r\n        } else {\r\n          // Line\r\n          var specAxis = targetXY.x != null ? 'x' : 'y',\r\n              rangeAxis = specAxis === 'x' ? 'y' : 'x',\r\n              startProp = \"\".concat(rangeAxis, \"Start\"),\r\n              endProp = \"\".concat(rangeAxis, \"End\"),\r\n              gravityProp = \"\".concat(specAxis, \"Gravity\"),\r\n              specAxisL = specAxis.toUpperCase(),\r\n              rangeAxisL = rangeAxis.toUpperCase(),\r\n              gravitySpecStartProp = \"gravity\".concat(specAxisL, \"Start\"),\r\n              gravitySpecEndProp = \"gravity\".concat(specAxisL, \"End\"),\r\n              gravityRangeStartProp = \"gravity\".concat(rangeAxisL, \"Start\"),\r\n              gravityRangeEndProp = \"gravity\".concat(rangeAxisL, \"End\");\r\n          targetXY[specAxis] = resolvePPValue(targetXY[specAxis], baseOriginXY[specAxis], baseSizeXY[specAxis]);\r\n          targetXY[startProp] = resolvePPValue(targetXY[startProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]);\r\n          targetXY[endProp] = resolvePPValue(targetXY[endProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]) - elementSizeXY[rangeAxis]; // Reduce the end of the line.\r\n\r\n          if (targetXY[startProp] > targetXY[endProp] || // Smaller than element size.\r\n          targetXY[startProp] > maxXY[rangeAxis] || targetXY[endProp] < minXY[rangeAxis]) {\r\n            return;\r\n          }\r\n\r\n          if (targetXY.center) {\r\n            targetXY[specAxis] -= elementSizeXY[specAxis] / 2;\r\n            targetXY.sides = ['start'];\r\n          }\r\n\r\n          (targetXY.sides || parsedSnapTarget.sides).forEach(function (side) {\r\n            var xy = targetXY[specAxis] - (side === 'end' ? elementSizeXY[specAxis] : 0);\r\n\r\n            if (xy >= minXY[specAxis] && xy <= maxXY[specAxis]) {\r\n              var snapTarget = {},\r\n                  gravitySpecStart = xy - targetXY[gravityProp],\r\n                  gravitySpecEnd = xy + targetXY[gravityProp];\r\n              snapTarget[specAxis] = xy;\r\n\r\n              if (gravitySpecStart > minXY[specAxis]) {\r\n                snapTarget[gravitySpecStartProp] = gravitySpecStart;\r\n              }\r\n\r\n              if (gravitySpecEnd < maxXY[specAxis]) {\r\n                snapTarget[gravitySpecEndProp] = gravitySpecEnd;\r\n              }\r\n\r\n              if (targetXY[startProp] > minXY[rangeAxis]) {\r\n                snapTarget[gravityRangeStartProp] = targetXY[startProp];\r\n              }\r\n\r\n              if (targetXY[endProp] < maxXY[rangeAxis]) {\r\n                snapTarget[gravityRangeEndProp] = targetXY[endProp];\r\n              }\r\n\r\n              snapTargets.push(snapTarget);\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      var bBox;\r\n\r\n      if ((bBox = parsedSnapTarget.element ? getBBox(parsedSnapTarget.element) : null) || // Element\r\n      parsedSnapTarget.ppBBox) {\r\n        if (parsedSnapTarget.ppBBox) {\r\n          bBox = resolvePPBBox(parsedSnapTarget.ppBBox, baseRect);\r\n        } // BBox\r\n\r\n\r\n        if (bBox) {\r\n          // Drop invalid BBox.\r\n          // Expand into 4 lines.\r\n          parsedSnapTarget.edges.forEach(function (edge) {\r\n            var lengthenX = parsedSnapTarget.gravity,\r\n                lengthenY = parsedSnapTarget.gravity;\r\n\r\n            if (edge === 'outside') {\r\n              // Snap it when a part of the element is part of the range.\r\n              lengthenX += elementBBox.width;\r\n              lengthenY += elementBBox.height;\r\n            }\r\n\r\n            var xStart = bBox.left - lengthenX,\r\n                xEnd = bBox.right + lengthenX,\r\n                yStart = bBox.top - lengthenY,\r\n                yEnd = bBox.bottom + lengthenY;\r\n            var side = edge === 'inside' ? 'start' : 'end';\r\n            addSnapTarget({\r\n              xStart: xStart,\r\n              xEnd: xEnd,\r\n              y: bBox.top,\r\n              sides: [side],\r\n              center: false\r\n            }); // Top\r\n\r\n            addSnapTarget({\r\n              x: bBox.left,\r\n              yStart: yStart,\r\n              yEnd: yEnd,\r\n              sides: [side],\r\n              center: false\r\n            }); // Left\r\n\r\n            side = edge === 'inside' ? 'end' : 'start';\r\n            addSnapTarget({\r\n              xStart: xStart,\r\n              xEnd: xEnd,\r\n              y: bBox.bottom,\r\n              sides: [side],\r\n              center: false\r\n            }); // Bottom\r\n\r\n            addSnapTarget({\r\n              x: bBox.right,\r\n              yStart: yStart,\r\n              yEnd: yEnd,\r\n              sides: [side],\r\n              center: false\r\n            }); // Right\r\n          });\r\n        }\r\n      } else {\r\n        var expanded = [['x', 'y', 'xStart', 'xEnd', 'xStep', 'yStart', 'yEnd', 'yStep'].reduce(function (targetXY, prop) {\r\n          if (parsedSnapTarget[prop]) {\r\n            targetXY[prop] = resolvePPValue(parsedSnapTarget[prop], prop === 'xStep' || prop === 'yStep' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);\r\n          }\r\n\r\n          return targetXY;\r\n        }, {})];\r\n        ['x', 'y'].forEach(function (axis) {\r\n          var startProp = \"\".concat(axis, \"Start\"),\r\n              endProp = \"\".concat(axis, \"End\"),\r\n              stepProp = \"\".concat(axis, \"Step\"),\r\n              gravityProp = \"\".concat(axis, \"Gravity\");\r\n          expanded = expanded.reduce(function (expanded, targetXY) {\r\n            var start = targetXY[startProp],\r\n                end = targetXY[endProp],\r\n                step = targetXY[stepProp];\r\n\r\n            if (start != null && end != null && start >= end) {\r\n              return expanded;\r\n            } // start >= end\r\n\r\n\r\n            if (step != null) {\r\n              if (step < 2) {\r\n                return expanded;\r\n              } // step >= 2px -> Expand by step\r\n\r\n\r\n              var gravity = step / 2; // max\r\n\r\n              gravity = parsedSnapTarget.gravity > gravity ? gravity : null;\r\n\r\n              for (var curValue = start; curValue <= end; curValue += step) {\r\n                var expandedXY = Object.keys(targetXY).reduce(function (expandedXY, prop) {\r\n                  if (prop !== startProp && prop !== endProp && prop !== stepProp) {\r\n                    expandedXY[prop] = targetXY[prop];\r\n                  }\r\n\r\n                  return expandedXY;\r\n                }, {});\r\n                expandedXY[axis] = curValue;\r\n                expandedXY[gravityProp] = gravity;\r\n                expanded.push(expandedXY);\r\n              }\r\n            } else {\r\n              expanded.push(targetXY);\r\n            }\r\n\r\n            return expanded;\r\n          }, []);\r\n        });\r\n        expanded.forEach(function (targetXY) {\r\n          addSnapTarget(targetXY);\r\n        });\r\n      }\r\n\r\n      return snapTargets;\r\n    }, []);\r\n    props.snapTargets = snapTargets.length ? snapTargets : null;\r\n  } // [/SNAP]\r\n  // [AUTO-SCROLL]\r\n\r\n\r\n  var autoScroll = {},\r\n      autoScrollOptions = props.options.autoScroll;\r\n\r\n  if (autoScrollOptions) {\r\n    autoScroll.isWindow = autoScrollOptions.target === window;\r\n    autoScroll.target = autoScrollOptions.target;\r\n    var dontScroll = eventType === 'scroll',\r\n        // Avoid duplicated calling\r\n    scrollable = getScrollable(autoScrollOptions.target, autoScroll.isWindow, dontScroll),\r\n        scrollableBBox = validBBox({\r\n      left: scrollable.clientX,\r\n      top: scrollable.clientY,\r\n      width: scrollable.clientWidth,\r\n      height: scrollable.clientHeight\r\n    });\r\n\r\n    if (!dontScroll) {\r\n      autoScroll.scrollWidth = scrollable.scrollWidth;\r\n      autoScroll.scrollHeight = scrollable.scrollHeight;\r\n    } else if (props.autoScroll) {\r\n      autoScroll.scrollWidth = props.autoScroll.scrollWidth;\r\n      autoScroll.scrollHeight = props.autoScroll.scrollHeight;\r\n    }\r\n\r\n    [['X', 'Width', 'left', 'right'], ['Y', 'Height', 'top', 'bottom']].forEach(function (axis) {\r\n      var xy = axis[0],\r\n          wh = axis[1],\r\n          back = axis[2],\r\n          forward = axis[3],\r\n          maxAbs = (autoScroll[\"scroll\".concat(wh)] || 0) - scrollable[\"client\".concat(wh)],\r\n          min = autoScrollOptions[\"min\".concat(xy)] || 0;\r\n      var max = isFinite(autoScrollOptions[\"max\".concat(xy)]) ? autoScrollOptions[\"max\".concat(xy)] : maxAbs;\r\n\r\n      if (min < max && min < maxAbs) {\r\n        if (max > maxAbs) {\r\n          max = maxAbs;\r\n        }\r\n\r\n        var lines = [],\r\n            elementSize = elementBBox[wh.toLowerCase()];\r\n\r\n        for (var i = autoScrollOptions.sensitivity.length - 1; i >= 0; i--) {\r\n          // near -> far\r\n          var sensitivity = autoScrollOptions.sensitivity[i],\r\n              speed = autoScrollOptions.speed[i]; // back\r\n\r\n          lines.push({\r\n            dir: -1,\r\n            speed: speed,\r\n            position: scrollableBBox[back] + sensitivity\r\n          }); // forward\r\n\r\n          lines.push({\r\n            dir: 1,\r\n            speed: speed,\r\n            position: scrollableBBox[forward] - sensitivity - elementSize\r\n          });\r\n        }\r\n\r\n        autoScroll[xy.toLowerCase()] = {\r\n          min: min,\r\n          max: max,\r\n          lines: lines\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  props.autoScroll = autoScroll.x || autoScroll.y ? autoScroll : null; // [/AUTO-SCROLL]\r\n}\r\n/**\r\n * @param {props} props - `props` of instance.\r\n * @returns {void}\r\n */\r\n\r\n\r\nfunction dragEnd(props) {\r\n  scrollFrame.stop(); // [AUTO-SCROLL/]\r\n\r\n  setDraggableCursor(props.options.handle, props.orgCursor);\r\n  body.style.cursor = cssOrgValueBodyCursor;\r\n\r\n  if (props.options.zIndex !== false) {\r\n    props.elementStyle.zIndex = props.orgZIndex;\r\n  }\r\n\r\n  if (cssPropUserSelect) {\r\n    body.style[cssPropUserSelect] = cssOrgValueBodyUserSelect;\r\n  }\r\n\r\n  var classList = mClassList(props.element);\r\n\r\n  if (movingClass) {\r\n    classList.remove(movingClass);\r\n  }\r\n\r\n  if (draggingClass) {\r\n    classList.remove(draggingClass);\r\n  }\r\n\r\n  activeProps = null;\r\n  pointerEvent.cancel(); // Reset pointer (activeProps must be null because this calls endHandler)\r\n\r\n  if (props.onDragEnd) {\r\n    props.onDragEnd({\r\n      left: props.elementBBox.left,\r\n      top: props.elementBBox.top\r\n    });\r\n  }\r\n}\r\n/**\r\n * @param {props} props - `props` of instance.\r\n * @param {{clientX, clientY}} pointerXY - This might be MouseEvent, Touch of TouchEvent or Object.\r\n * @returns {boolean} `true` if it started.\r\n */\r\n\r\n\r\nfunction dragStart(props, pointerXY) {\r\n  if (props.disabled) {\r\n    return false;\r\n  }\r\n\r\n  if (props.onDragStart && props.onDragStart(pointerXY) === false) {\r\n    return false;\r\n  }\r\n\r\n  if (activeProps) {\r\n    dragEnd(activeProps);\r\n  } // activeItem is normally null by pointerEvent.end.\r\n\r\n\r\n  setDraggingCursor(props.options.handle);\r\n  body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`\r\n  window.getComputedStyle(props.options.handle, '').cursor;\r\n\r\n  if (props.options.zIndex !== false) {\r\n    props.elementStyle.zIndex = props.options.zIndex;\r\n  }\r\n\r\n  if (cssPropUserSelect) {\r\n    body.style[cssPropUserSelect] = 'none';\r\n  }\r\n\r\n  if (draggingClass) {\r\n    mClassList(props.element).add(draggingClass);\r\n  }\r\n\r\n  activeProps = props;\r\n  hasMoved = false;\r\n  pointerOffset.left = props.elementBBox.left - (pointerXY.clientX + window.pageXOffset);\r\n  pointerOffset.top = props.elementBBox.top - (pointerXY.clientY + window.pageYOffset);\r\n  return true;\r\n}\r\n/**\r\n * @param {props} props - `props` of instance.\r\n * @param {Object} newOptions - New options.\r\n * @returns {void}\r\n */\r\n\r\n\r\nfunction _setOptions(props, newOptions) {\r\n  var options = props.options;\r\n  var needsInitBBox; // containment\r\n\r\n  if (newOptions.containment) {\r\n    var bBox;\r\n\r\n    if (isElement(newOptions.containment)) {\r\n      // Specific element\r\n      if (newOptions.containment !== options.containment) {\r\n        options.containment = newOptions.containment;\r\n        props.containmentIsBBox = false;\r\n        needsInitBBox = true;\r\n      }\r\n    } else if ((bBox = validPPBBox(copyTree(newOptions.containment))) && // bBox\r\n    hasChanged(bBox, options.containment)) {\r\n      options.containment = bBox;\r\n      props.containmentIsBBox = true;\r\n      needsInitBBox = true;\r\n    }\r\n  } // [SNAP]\r\n\r\n  /**\r\n   * @typedef {Object} SnapOptions\r\n   * @property {SnapTargetOptions[]} targets\r\n   * @property {number} [gravity]\r\n   * @property {string} [corner]\r\n   * @property {string} [side]\r\n   * @property {boolean} [center]\r\n   * @property {string} [edge]\r\n   * @property {string} [base]\r\n   */\r\n\r\n  /**\r\n   * @typedef {Object} SnapTargetOptions\r\n   * @property {(number|string)} [x] - pixels | '<n>%' | {start, end} | {step, start, end}\r\n   * @property {(number|string)} [y]\r\n   * @property {(Element|Object)} [boundingBox] - Object has properties that are string or number from PPBBox.\r\n   * @property {number} [gravity]\r\n   * @property {string} [corner]\r\n   * @property {string} [side]\r\n   * @property {boolean} [center]\r\n   * @property {string} [edge]\r\n   * @property {string} [base]\r\n   */\r\n\r\n  /**\r\n   * @typedef {Object} ParsedSnapTarget\r\n   * @property {PPValue} [x] - (input: pixels | '<n>%')\r\n   * @property {PPValue} [y]\r\n   * @property {PPValue} [xStart] - (input: {start, end} | {step, start, end})\r\n   * @property {PPValue} [xEnd]\r\n   * @property {PPValue} [xStep] - (input: {step, start, end})\r\n   * @property {PPValue} [yStart]\r\n   * @property {PPValue} [yEnd]\r\n   * @property {PPValue} [yStep]\r\n   * @property {Element} [element]\r\n   * @property {PPBBox} [ppBBox]\r\n   * @property {number} gravity\r\n   * @property {string[]} corners\r\n   * @property {string[]} sides\r\n   * @property {boolean} center\r\n   * @property {string[]} edges\r\n   * @property {string} base\r\n   */\r\n  // Normalize `gravity`, `corner`, `side`, `center`, `edge`, `base`\r\n\r\n\r\n  function commonSnapOptions(options, newOptions) {\r\n    function cleanString(inString) {\r\n      return typeof inString === 'string' ? inString.replace(/[, ]+/g, ' ').trim().toLowerCase() : null;\r\n    } // gravity\r\n\r\n\r\n    if (isFinite(newOptions.gravity) && newOptions.gravity > 0) {\r\n      options.gravity = newOptions.gravity;\r\n    } // corner\r\n\r\n\r\n    var corner = cleanString(newOptions.corner);\r\n\r\n    if (corner) {\r\n      if (corner !== 'all') {\r\n        var added = {},\r\n            corners = corner.split(/\\s/).reduce(function (corners, corner) {\r\n          corner = corner.trim().replace(/^(.).*?-(.).*$/, '$1$2');\r\n\r\n          if ((corner = corner === 'tl' || corner === 'lt' ? 'tl' : corner === 'tr' || corner === 'rt' ? 'tr' : corner === 'bl' || corner === 'lb' ? 'bl' : corner === 'br' || corner === 'rb' ? 'br' : null) && !added[corner]) {\r\n            corners.push(corner);\r\n            added[corner] = true;\r\n          }\r\n\r\n          return corners;\r\n        }, []),\r\n            cornersLen = corners.length;\r\n        corner = !cornersLen ? null : cornersLen === 4 ? 'all' : corners.join(' ');\r\n      }\r\n\r\n      if (corner) {\r\n        options.corner = corner;\r\n      }\r\n    } // side\r\n\r\n\r\n    var side = cleanString(newOptions.side);\r\n\r\n    if (side) {\r\n      if (side === 'start' || side === 'end' || side === 'both') {\r\n        options.side = side;\r\n      } else if (side === 'start end' || side === 'end start') {\r\n        options.side = 'both';\r\n      }\r\n    } // center\r\n\r\n\r\n    if (typeof newOptions.center === 'boolean') {\r\n      options.center = newOptions.center;\r\n    } // edge\r\n\r\n\r\n    var edge = cleanString(newOptions.edge);\r\n\r\n    if (edge) {\r\n      if (edge === 'inside' || edge === 'outside' || edge === 'both') {\r\n        options.edge = edge;\r\n      } else if (edge === 'inside outside' || edge === 'outside inside') {\r\n        options.edge = 'both';\r\n      }\r\n    } // base\r\n\r\n\r\n    var base = typeof newOptions.base === 'string' ? newOptions.base.trim().toLowerCase() : null;\r\n\r\n    if (base && (base === 'containment' || base === 'document')) {\r\n      options.base = base;\r\n    }\r\n\r\n    return options;\r\n  } // snap\r\n\r\n\r\n  if (newOptions.snap != null) {\r\n    var newSnapOptions = isObject(newOptions.snap) && newOptions.snap.targets != null ? newOptions.snap : {\r\n      targets: newOptions.snap\r\n    },\r\n        snapTargetsOptions = [],\r\n        snapOptions = commonSnapOptions({\r\n      targets: snapTargetsOptions\r\n    }, newSnapOptions); // Set default options into top level.\r\n\r\n    if (!snapOptions.gravity) {\r\n      snapOptions.gravity = SNAP_GRAVITY;\r\n    }\r\n\r\n    if (!snapOptions.corner) {\r\n      snapOptions.corner = SNAP_CORNER;\r\n    }\r\n\r\n    if (!snapOptions.side) {\r\n      snapOptions.side = SNAP_SIDE;\r\n    }\r\n\r\n    if (typeof snapOptions.center !== 'boolean') {\r\n      snapOptions.center = false;\r\n    }\r\n\r\n    if (!snapOptions.edge) {\r\n      snapOptions.edge = SNAP_EDGE;\r\n    }\r\n\r\n    if (!snapOptions.base) {\r\n      snapOptions.base = SNAP_BASE;\r\n    }\r\n\r\n    var parsedSnapTargets = (Array.isArray(newSnapOptions.targets) ? newSnapOptions.targets : [newSnapOptions.targets]).reduce(function (parsedSnapTargets, target) {\r\n      if (target == null) {\r\n        return parsedSnapTargets;\r\n      }\r\n\r\n      var isElementPre = isElement(target),\r\n          // Pre-check direct value\r\n      ppBBoxPre = validPPBBox(copyTree(target)),\r\n          // Pre-check direct value\r\n      newSnapTargetOptions = isElementPre || ppBBoxPre ? {\r\n        boundingBox: target\r\n      } : // Direct Element | PPBBox\r\n      isObject(target) && target.start == null && target.end == null && target.step == null ? target : // SnapTargetOptions\r\n      {\r\n        x: target,\r\n        y: target\r\n      },\r\n          // Others, it might be {step, start, end}\r\n      expandedParsedSnapTargets = [],\r\n          snapTargetOptions = {},\r\n          newOptionsBBox = newSnapTargetOptions.boundingBox;\r\n      var ppBBox;\r\n\r\n      if (isElementPre || isElement(newOptionsBBox)) {\r\n        // Element\r\n        expandedParsedSnapTargets.push({\r\n          element: newOptionsBBox\r\n        });\r\n        snapTargetOptions.boundingBox = newOptionsBBox;\r\n      } else if (ppBBox = ppBBoxPre || validPPBBox(copyTree(newOptionsBBox))) {\r\n        // Object -> PPBBox\r\n        expandedParsedSnapTargets.push({\r\n          ppBBox: ppBBox\r\n        });\r\n        snapTargetOptions.boundingBox = ppBBox2OptionObject(ppBBox);\r\n      } else {\r\n        var invalid; // `true` if valid PPValue was given but the contained value is invalid.\r\n\r\n        var parsedXY = ['x', 'y'].reduce(function (parsedXY, axis) {\r\n          var newOptionsXY = newSnapTargetOptions[axis];\r\n          var ppValue;\r\n\r\n          if (ppValue = validPPValue(newOptionsXY)) {\r\n            // pixels | '<n>%'\r\n            parsedXY[axis] = ppValue;\r\n            snapTargetOptions[axis] = ppValue2OptionValue(ppValue);\r\n          } else {\r\n            // {start, end} | {step, start, end}\r\n            var start, end, step;\r\n\r\n            if (isObject(newOptionsXY)) {\r\n              start = validPPValue(newOptionsXY.start);\r\n              end = validPPValue(newOptionsXY.end);\r\n              step = validPPValue(newOptionsXY.step);\r\n\r\n              if (start && end && start.isRatio === end.isRatio && start.value >= end.value) {\r\n                // start >= end\r\n                invalid = true;\r\n              }\r\n            }\r\n\r\n            start = parsedXY[\"\".concat(axis, \"Start\")] = start || {\r\n              value: 0,\r\n              isRatio: false\r\n            };\r\n            end = parsedXY[\"\".concat(axis, \"End\")] = end || {\r\n              value: 1,\r\n              isRatio: true\r\n            };\r\n            snapTargetOptions[axis] = {\r\n              start: ppValue2OptionValue(start),\r\n              end: ppValue2OptionValue(end)\r\n            };\r\n\r\n            if (step) {\r\n              if (step.isRatio ? step.value > 0 : step.value >= 2) {\r\n                // step > 0% || step >= 2px\r\n                parsedXY[\"\".concat(axis, \"Step\")] = step;\r\n                snapTargetOptions[axis].step = ppValue2OptionValue(step);\r\n              } else {\r\n                invalid = true;\r\n              }\r\n            }\r\n          }\r\n\r\n          return parsedXY;\r\n        }, {});\r\n\r\n        if (invalid) {\r\n          return parsedSnapTargets;\r\n        }\r\n\r\n        if (parsedXY.xStart && !parsedXY.xStep && parsedXY.yStart && !parsedXY.yStep) {\r\n          // Expand into 4 lines. This is not BBox, and `edge` is ignored.\r\n          expandedParsedSnapTargets.push({\r\n            xStart: parsedXY.xStart,\r\n            xEnd: parsedXY.xEnd,\r\n            y: parsedXY.yStart\r\n          }, // Top\r\n          {\r\n            xStart: parsedXY.xStart,\r\n            xEnd: parsedXY.xEnd,\r\n            y: parsedXY.yEnd\r\n          }, // Bottom\r\n          {\r\n            x: parsedXY.xStart,\r\n            yStart: parsedXY.yStart,\r\n            yEnd: parsedXY.yEnd\r\n          }, // Left\r\n          {\r\n            x: parsedXY.xEnd,\r\n            yStart: parsedXY.yStart,\r\n            yEnd: parsedXY.yEnd\r\n          } // Right\r\n          );\r\n        } else {\r\n          expandedParsedSnapTargets.push(parsedXY);\r\n        }\r\n      }\r\n\r\n      if (expandedParsedSnapTargets.length) {\r\n        snapTargetsOptions.push(commonSnapOptions(snapTargetOptions, newSnapTargetOptions)); // Copy common SnapOptions\r\n\r\n        var corner = snapTargetOptions.corner || snapOptions.corner,\r\n            side = snapTargetOptions.side || snapOptions.side,\r\n            edge = snapTargetOptions.edge || snapOptions.edge,\r\n            commonOptions = {\r\n          gravity: snapTargetOptions.gravity || snapOptions.gravity,\r\n          base: snapTargetOptions.base || snapOptions.base,\r\n          center: typeof snapTargetOptions.center === 'boolean' ? snapTargetOptions.center : snapOptions.center,\r\n          corners: corner === 'all' ? SNAP_ALL_CORNERS : corner.split(' '),\r\n          // Split\r\n          sides: side === 'both' ? SNAP_ALL_SIDES : [side],\r\n          // Split\r\n          edges: edge === 'both' ? SNAP_ALL_EDGES : [edge] // Split\r\n\r\n        };\r\n        expandedParsedSnapTargets.forEach(function (parsedSnapTarget) {\r\n          // Set common SnapOptions\r\n          ['gravity', 'corners', 'sides', 'center', 'edges', 'base'].forEach(function (option) {\r\n            parsedSnapTarget[option] = commonOptions[option];\r\n          });\r\n          parsedSnapTargets.push(parsedSnapTarget);\r\n        });\r\n      }\r\n\r\n      return parsedSnapTargets;\r\n    }, []);\r\n\r\n    if (parsedSnapTargets.length) {\r\n      options.snap = snapOptions; // Update always\r\n\r\n      if (hasChanged(parsedSnapTargets, props.parsedSnapTargets)) {\r\n        props.parsedSnapTargets = parsedSnapTargets;\r\n        needsInitBBox = true;\r\n      }\r\n    }\r\n  } else if (newOptions.hasOwnProperty('snap') && props.parsedSnapTargets) {\r\n    options.snap = props.parsedSnapTargets = props.snapTargets = void 0;\r\n  } // [/SNAP]\r\n  // [AUTO-SCROLL]\r\n\r\n  /**\r\n   * @typedef {Object} AutoScrollOptions\r\n   * @property {(Element|Window)} target\r\n   * @property {Array} speed\r\n   * @property {Array} sensitivity\r\n   * @property {number} [minX]\r\n   * @property {number} [maxX]\r\n   * @property {number} [minY]\r\n   * @property {number} [maxY]\r\n   */\r\n  // autoScroll\r\n\r\n\r\n  if (newOptions.autoScroll) {\r\n    var newAutoScrollOptions = isObject(newOptions.autoScroll) ? newOptions.autoScroll : {\r\n      target: newOptions.autoScroll === true ? window : newOptions.autoScroll\r\n    },\r\n        autoScrollOptions = {}; // target\r\n\r\n    autoScrollOptions.target = isElement(newAutoScrollOptions.target) ? newAutoScrollOptions.target : window; // speed\r\n\r\n    autoScrollOptions.speed = [];\r\n    (Array.isArray(newAutoScrollOptions.speed) ? newAutoScrollOptions.speed : [newAutoScrollOptions.speed]).every(function (speed, i) {\r\n      if (i <= 2 && isFinite(speed)) {\r\n        autoScrollOptions.speed[i] = speed;\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    if (!autoScrollOptions.speed.length) {\r\n      autoScrollOptions.speed = AUTOSCROLL_SPEED;\r\n    } // sensitivity\r\n\r\n\r\n    var newSensitivity = Array.isArray(newAutoScrollOptions.sensitivity) ? newAutoScrollOptions.sensitivity : [newAutoScrollOptions.sensitivity];\r\n    autoScrollOptions.sensitivity = autoScrollOptions.speed.map(function (v, i) {\r\n      return isFinite(newSensitivity[i]) ? newSensitivity[i] : AUTOSCROLL_SENSITIVITY[i];\r\n    }); // min*, max*\r\n\r\n    ['X', 'Y'].forEach(function (option) {\r\n      var optionMin = \"min\".concat(option),\r\n          optionMax = \"max\".concat(option);\r\n\r\n      if (isFinite(newAutoScrollOptions[optionMin]) && newAutoScrollOptions[optionMin] >= 0) {\r\n        autoScrollOptions[optionMin] = newAutoScrollOptions[optionMin];\r\n      }\r\n\r\n      if (isFinite(newAutoScrollOptions[optionMax]) && newAutoScrollOptions[optionMax] >= 0 && (!autoScrollOptions[optionMin] || newAutoScrollOptions[optionMax] >= autoScrollOptions[optionMin])) {\r\n        autoScrollOptions[optionMax] = newAutoScrollOptions[optionMax];\r\n      }\r\n    });\r\n\r\n    if (hasChanged(autoScrollOptions, options.autoScroll)) {\r\n      options.autoScroll = autoScrollOptions;\r\n      needsInitBBox = true;\r\n    }\r\n  } else if (newOptions.hasOwnProperty('autoScroll')) {\r\n    if (options.autoScroll) {\r\n      needsInitBBox = true;\r\n    }\r\n\r\n    options.autoScroll = void 0;\r\n  } // [/AUTO-SCROLL]\r\n\r\n\r\n  if (needsInitBBox) {\r\n    initBBox(props);\r\n  } // handle\r\n\r\n\r\n  if (isElement(newOptions.handle) && newOptions.handle !== options.handle) {\r\n    if (options.handle) {\r\n      // Restore\r\n      options.handle.style.cursor = props.orgCursor;\r\n\r\n      if (cssPropUserSelect) {\r\n        options.handle.style[cssPropUserSelect] = props.orgUserSelect;\r\n      }\r\n\r\n      pointerEvent.removeStartHandler(options.handle, props.pointerEventHandlerId);\r\n    }\r\n\r\n    var handle = options.handle = newOptions.handle;\r\n    props.orgCursor = handle.style.cursor;\r\n    setDraggableCursor(handle, props.orgCursor);\r\n\r\n    if (cssPropUserSelect) {\r\n      props.orgUserSelect = handle.style[cssPropUserSelect];\r\n      handle.style[cssPropUserSelect] = 'none';\r\n    }\r\n\r\n    pointerEvent.addStartHandler(handle, props.pointerEventHandlerId);\r\n  } // zIndex\r\n\r\n\r\n  if (isFinite(newOptions.zIndex) || newOptions.zIndex === false) {\r\n    options.zIndex = newOptions.zIndex;\r\n\r\n    if (props === activeProps) {\r\n      props.elementStyle.zIndex = options.zIndex === false ? props.orgZIndex : options.zIndex;\r\n    }\r\n  } // left/top\r\n\r\n\r\n  var position = {\r\n    left: props.elementBBox.left,\r\n    top: props.elementBBox.top\r\n  };\r\n  var needsMove;\r\n\r\n  if (isFinite(newOptions.left) && newOptions.left !== position.left) {\r\n    position.left = newOptions.left;\r\n    needsMove = true;\r\n  }\r\n\r\n  if (isFinite(newOptions.top) && newOptions.top !== position.top) {\r\n    position.top = newOptions.top;\r\n    needsMove = true;\r\n  }\r\n\r\n  if (needsMove) {\r\n    move(props, position);\r\n  } // Event listeners\r\n\r\n\r\n  ['onDrag', 'onMove', 'onDragStart', 'onMoveStart', 'onDragEnd'].forEach(function (option) {\r\n    if (typeof newOptions[option] === 'function') {\r\n      options[option] = newOptions[option];\r\n      props[option] = options[option].bind(props.ins);\r\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\r\n      options[option] = props[option] = void 0;\r\n    }\r\n  });\r\n}\r\n\r\nvar PlainDraggable = /*#__PURE__*/function () {\r\n  /**\r\n   * Create a `PlainDraggable` instance.\r\n   * @param {Element} element - Target element.\r\n   * @param {Object} [options] - Options.\r\n   */\r\n  function PlainDraggable(element, options) {\r\n    _classCallCheck(this, PlainDraggable);\r\n\r\n    var props = {\r\n      ins: this,\r\n      options: {\r\n        // Initial options (not default)\r\n        zIndex: ZINDEX // Initial state.\r\n\r\n      },\r\n      disabled: false\r\n    };\r\n    Object.defineProperty(this, '_id', {\r\n      value: ++insId\r\n    });\r\n    props._id = this._id;\r\n    insProps[this._id] = props;\r\n\r\n    if (!isElement(element) || element === body) {\r\n      throw new Error('This element is not accepted.');\r\n    }\r\n\r\n    if (!options) {\r\n      options = {};\r\n    } else if (!isObject(options)) {\r\n      throw new Error('Invalid options.');\r\n    }\r\n\r\n    var gpuTrigger = true; // [SVG]\r\n\r\n    var ownerSvg; // SVGElement which is not root view\r\n\r\n    if (element instanceof SVGElement && (ownerSvg = element.ownerSVGElement)) {\r\n      // It means `instanceof SVGLocatable` (many browsers don't have SVGLocatable)\r\n      if (!element.getBBox) {\r\n        throw new Error('This element is not accepted. (SVGLocatable)');\r\n      } // Trident and Edge bug, SVGSVGElement doesn't have SVGAnimatedTransformList?\r\n\r\n\r\n      if (!element.transform) {\r\n        throw new Error('This element is not accepted. (SVGAnimatedTransformList)');\r\n      } // Trident bug, returned value must be used (That is not given value).\r\n\r\n\r\n      props.svgTransform = element.transform.baseVal.appendItem(ownerSvg.createSVGTransform());\r\n      props.svgPoint = ownerSvg.createSVGPoint(); // Gecko bug, view.getScreenCTM returns CTM with root view.\r\n\r\n      var svgView = element.nearestViewportElement;\r\n      props.svgCtmElement = !IS_GECKO ? svgView : svgView.appendChild(document.createElementNS(ownerSvg.namespaceURI, 'rect'));\r\n      gpuTrigger = false;\r\n      props.initElm = initSvg;\r\n      props.moveElm = moveSvg;\r\n    } else {\r\n      // [/SVG]\r\n\r\n      /* eslint-disable indent */\r\n\r\n      /* [SVG/] */\r\n      var cssPropWillChange = CSSPrefix.getName('willChange');\r\n\r\n      if (cssPropWillChange) {\r\n        gpuTrigger = false;\r\n      }\r\n\r\n      if (!options.leftTop && cssPropTransform) {\r\n        // translate\r\n        if (cssPropWillChange) {\r\n          element.style[cssPropWillChange] = 'transform';\r\n        }\r\n\r\n        props.initElm = initTranslate;\r\n        props.moveElm = moveTranslate;\r\n      } else {\r\n        // left and top\r\n        // [LEFTTOP]\r\n        if (cssPropWillChange) {\r\n          element.style[cssPropWillChange] = 'left, top';\r\n        }\r\n\r\n        props.initElm = initLeftTop;\r\n        props.moveElm = moveLeftTop; // [/LEFTTOP]\r\n\r\n        /* [LEFTTOP/]\r\n        throw new Error('`transform` is not supported.');\r\n        [LEFTTOP/] */\r\n      }\r\n      /* eslint-enable indent */\r\n\r\n      /* [SVG/] */\r\n\r\n    } // [SVG/]\r\n\r\n\r\n    props.element = initAnim(element, gpuTrigger);\r\n    props.elementStyle = element.style;\r\n    props.orgZIndex = props.elementStyle.zIndex;\r\n\r\n    if (draggableClass) {\r\n      mClassList(element).add(draggableClass);\r\n    }\r\n\r\n    props.pointerEventHandlerId = pointerEvent.regStartHandler(function (pointerXY) {\r\n      return dragStart(props, pointerXY);\r\n    }); // Default options\r\n\r\n    if (!options.containment) {\r\n      var parent;\r\n      options.containment = (parent = element.parentNode) && isElement(parent) ? parent : body;\r\n    }\r\n\r\n    if (!options.handle) {\r\n      options.handle = element;\r\n    }\r\n\r\n    _setOptions(props, options);\r\n  }\r\n\r\n  _createClass(PlainDraggable, [{\r\n    key: \"remove\",\r\n    value: function remove() {\r\n      var props = insProps[this._id];\r\n      this.disabled = true; // To restore element and reset pointer\r\n\r\n      pointerEvent.unregStartHandler(pointerEvent.removeStartHandler(props.options.handle, props.pointerEventHandlerId));\r\n      delete insProps[this._id];\r\n    }\r\n    /**\r\n     * @param {Object} options - New options.\r\n     * @returns {PlainDraggable} Current instance itself.\r\n     */\r\n\r\n  }, {\r\n    key: \"setOptions\",\r\n    value: function setOptions(options) {\r\n      if (isObject(options)) {\r\n        _setOptions(insProps[this._id], options);\r\n      }\r\n\r\n      return this;\r\n    }\r\n  }, {\r\n    key: \"position\",\r\n    value: function position() {\r\n      initBBox(insProps[this._id]);\r\n      return this;\r\n    }\r\n  }, {\r\n    key: \"disabled\",\r\n    get: function get() {\r\n      return insProps[this._id].disabled;\r\n    },\r\n    set: function set(value) {\r\n      var props = insProps[this._id];\r\n\r\n      if ((value = !!value) !== props.disabled) {\r\n        props.disabled = value;\r\n\r\n        if (props.disabled) {\r\n          if (props === activeProps) {\r\n            dragEnd(props);\r\n          }\r\n\r\n          props.options.handle.style.cursor = props.orgCursor;\r\n\r\n          if (cssPropUserSelect) {\r\n            props.options.handle.style[cssPropUserSelect] = props.orgUserSelect;\r\n          }\r\n\r\n          if (draggableClass) {\r\n            mClassList(props.element).remove(draggableClass);\r\n          }\r\n        } else {\r\n          setDraggableCursor(props.options.handle, props.orgCursor);\r\n\r\n          if (cssPropUserSelect) {\r\n            props.options.handle.style[cssPropUserSelect] = 'none';\r\n          }\r\n\r\n          if (draggableClass) {\r\n            mClassList(props.element).add(draggableClass);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: \"element\",\r\n    get: function get() {\r\n      return insProps[this._id].element;\r\n    }\r\n  }, {\r\n    key: \"rect\",\r\n    get: function get() {\r\n      return copyTree(insProps[this._id].elementBBox);\r\n    }\r\n  }, {\r\n    key: \"left\",\r\n    get: function get() {\r\n      return insProps[this._id].elementBBox.left;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        left: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"top\",\r\n    get: function get() {\r\n      return insProps[this._id].elementBBox.top;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        top: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"containment\",\r\n    get: function get() {\r\n      var props = insProps[this._id];\r\n      return props.containmentIsBBox ? ppBBox2OptionObject(props.options.containment) : props.options.containment;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        containment: value\r\n      });\r\n    } // [SNAP]\r\n\r\n  }, {\r\n    key: \"snap\",\r\n    get: function get() {\r\n      return copyTree(insProps[this._id].options.snap);\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        snap: value\r\n      });\r\n    } // [/SNAP]\r\n    // [AUTO-SCROLL]\r\n\r\n  }, {\r\n    key: \"autoScroll\",\r\n    get: function get() {\r\n      return copyTree(insProps[this._id].options.autoScroll);\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        autoScroll: value\r\n      });\r\n    } // [/AUTO-SCROLL]\r\n\r\n  }, {\r\n    key: \"handle\",\r\n    get: function get() {\r\n      return insProps[this._id].options.handle;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        handle: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"zIndex\",\r\n    get: function get() {\r\n      return insProps[this._id].options.zIndex;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        zIndex: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"onDrag\",\r\n    get: function get() {\r\n      return insProps[this._id].options.onDrag;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        onDrag: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"onMove\",\r\n    get: function get() {\r\n      return insProps[this._id].options.onMove;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        onMove: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"onDragStart\",\r\n    get: function get() {\r\n      return insProps[this._id].options.onDragStart;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        onDragStart: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"onMoveStart\",\r\n    get: function get() {\r\n      return insProps[this._id].options.onMoveStart;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        onMoveStart: value\r\n      });\r\n    }\r\n  }, {\r\n    key: \"onDragEnd\",\r\n    get: function get() {\r\n      return insProps[this._id].options.onDragEnd;\r\n    },\r\n    set: function set(value) {\r\n      _setOptions(insProps[this._id], {\r\n        onDragEnd: value\r\n      });\r\n    }\r\n  }], [{\r\n    key: \"draggableCursor\",\r\n    get: function get() {\r\n      return cssWantedValueDraggableCursor;\r\n    },\r\n    set: function set(value) {\r\n      if (cssWantedValueDraggableCursor !== value) {\r\n        cssWantedValueDraggableCursor = value;\r\n        cssValueDraggableCursor = null; // Reset\r\n\r\n        Object.keys(insProps).forEach(function (id) {\r\n          var props = insProps[id];\r\n\r\n          if (props.disabled || props === activeProps && cssValueDraggingCursor !== false) {\r\n            return;\r\n          }\r\n\r\n          setDraggableCursor(props.options.handle, props.orgCursor);\r\n\r\n          if (props === activeProps) {\r\n            // Since cssValueDraggingCursor is `false`, copy cursor again.\r\n            body.style.cursor = cssOrgValueBodyCursor;\r\n            body.style.cursor = window.getComputedStyle(props.options.handle, '').cursor;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"draggingCursor\",\r\n    get: function get() {\r\n      return cssWantedValueDraggingCursor;\r\n    },\r\n    set: function set(value) {\r\n      if (cssWantedValueDraggingCursor !== value) {\r\n        cssWantedValueDraggingCursor = value;\r\n        cssValueDraggingCursor = null; // Reset\r\n\r\n        if (activeProps) {\r\n          setDraggingCursor(activeProps.options.handle);\r\n\r\n          if (cssValueDraggingCursor === false) {\r\n            setDraggableCursor(activeProps.options.handle, activeProps.orgCursor); // draggableCursor\r\n\r\n            body.style.cursor = cssOrgValueBodyCursor;\r\n          }\r\n\r\n          body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`\r\n          window.getComputedStyle(activeProps.options.handle, '').cursor;\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: \"draggableClass\",\r\n    get: function get() {\r\n      return draggableClass;\r\n    },\r\n    set: function set(value) {\r\n      value = value ? value + '' : void 0;\r\n\r\n      if (value !== draggableClass) {\r\n        Object.keys(insProps).forEach(function (id) {\r\n          var props = insProps[id];\r\n\r\n          if (!props.disabled) {\r\n            var classList = mClassList(props.element);\r\n\r\n            if (draggableClass) {\r\n              classList.remove(draggableClass);\r\n            }\r\n\r\n            if (value) {\r\n              classList.add(value);\r\n            }\r\n          }\r\n        });\r\n        draggableClass = value;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"draggingClass\",\r\n    get: function get() {\r\n      return draggingClass;\r\n    },\r\n    set: function set(value) {\r\n      value = value ? value + '' : void 0;\r\n\r\n      if (value !== draggingClass) {\r\n        if (activeProps) {\r\n          var classList = mClassList(activeProps.element);\r\n\r\n          if (draggingClass) {\r\n            classList.remove(draggingClass);\r\n          }\r\n\r\n          if (value) {\r\n            classList.add(value);\r\n          }\r\n        }\r\n\r\n        draggingClass = value;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"movingClass\",\r\n    get: function get() {\r\n      return movingClass;\r\n    },\r\n    set: function set(value) {\r\n      value = value ? value + '' : void 0;\r\n\r\n      if (value !== movingClass) {\r\n        if (activeProps && hasMoved) {\r\n          var classList = mClassList(activeProps.element);\r\n\r\n          if (movingClass) {\r\n            classList.remove(movingClass);\r\n          }\r\n\r\n          if (value) {\r\n            classList.add(value);\r\n          }\r\n        }\r\n\r\n        movingClass = value;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return PlainDraggable;\r\n}();\r\n\r\npointerEvent.addMoveHandler(document, function (pointerXY) {\r\n  if (!activeProps) {\r\n    return;\r\n  }\r\n\r\n  var position = {\r\n    left: pointerXY.clientX + window.pageXOffset + pointerOffset.left,\r\n    top: pointerXY.clientY + window.pageYOffset + pointerOffset.top\r\n  };\r\n\r\n  if (move(activeProps, position, // [SNAP]\r\n  activeProps.snapTargets ? function (position) {\r\n    // Snap\r\n    var iLen = activeProps.snapTargets.length;\r\n    var snappedX = false,\r\n        snappedY = false,\r\n        i;\r\n\r\n    for (i = 0; i < iLen && (!snappedX || !snappedY); i++) {\r\n      var snapTarget = activeProps.snapTargets[i];\r\n\r\n      if ((snapTarget.gravityXStart == null || position.left >= snapTarget.gravityXStart) && (snapTarget.gravityXEnd == null || position.left <= snapTarget.gravityXEnd) && (snapTarget.gravityYStart == null || position.top >= snapTarget.gravityYStart) && (snapTarget.gravityYEnd == null || position.top <= snapTarget.gravityYEnd)) {\r\n        if (!snappedX && snapTarget.x != null) {\r\n          position.left = snapTarget.x;\r\n          snappedX = true;\r\n          i = -1; // Restart loop\r\n        }\r\n\r\n        if (!snappedY && snapTarget.y != null) {\r\n          position.top = snapTarget.y;\r\n          snappedY = true;\r\n          i = -1; // Restart loop\r\n        }\r\n      }\r\n    }\r\n\r\n    position.snapped = snappedX || snappedY;\r\n    return activeProps.onDrag ? activeProps.onDrag(position) : true;\r\n  } : // [/SNAP]\r\n  activeProps.onDrag)) {\r\n    // [AUTO-SCROLL]\r\n    var xyMoveArgs = {},\r\n        autoScroll = activeProps.autoScroll;\r\n\r\n    if (autoScroll) {\r\n      var clientXY = {\r\n        x: activeProps.elementBBox.left - window.pageXOffset,\r\n        y: activeProps.elementBBox.top - window.pageYOffset\r\n      };\r\n      ['x', 'y'].forEach(function (axis) {\r\n        if (autoScroll[axis]) {\r\n          var min = autoScroll[axis].min,\r\n              max = autoScroll[axis].max;\r\n          autoScroll[axis].lines.some(function (line) {\r\n            if (line.dir === -1 ? clientXY[axis] <= line.position : clientXY[axis] >= line.position) {\r\n              xyMoveArgs[axis] = {\r\n                dir: line.dir,\r\n                speed: line.speed / 1000,\r\n                min: min,\r\n                max: max\r\n              };\r\n              return true;\r\n            }\r\n\r\n            return false;\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    if (xyMoveArgs.x || xyMoveArgs.y) {\r\n      scrollFrame.move(autoScroll.target, xyMoveArgs, autoScroll.isWindow ? scrollXYWindow : scrollXYElement);\r\n      position.autoScroll = true;\r\n    } else {\r\n      scrollFrame.stop();\r\n    } // [/AUTO-SCROLL]\r\n\r\n\r\n    if (!hasMoved) {\r\n      hasMoved = true;\r\n\r\n      if (movingClass) {\r\n        mClassList(activeProps.element).add(movingClass);\r\n      }\r\n\r\n      if (activeProps.onMoveStart) {\r\n        activeProps.onMoveStart(position);\r\n      }\r\n    }\r\n\r\n    if (activeProps.onMove) {\r\n      activeProps.onMove(position);\r\n    }\r\n  }\r\n});\r\n{\r\n  function endHandler() {\r\n    if (activeProps) {\r\n      dragEnd(activeProps);\r\n    }\r\n  }\r\n\r\n  pointerEvent.addEndHandler(document, endHandler);\r\n  pointerEvent.addCancelHandler(document, endHandler);\r\n}\r\n{\r\n  function initDoc() {\r\n    cssPropTransitionProperty = CSSPrefix.getName('transitionProperty');\r\n    cssPropTransform = CSSPrefix.getName('transform');\r\n    cssOrgValueBodyCursor = body.style.cursor;\r\n\r\n    if (cssPropUserSelect = CSSPrefix.getName('userSelect')) {\r\n      cssOrgValueBodyUserSelect = body.style[cssPropUserSelect];\r\n    } // Init active item when layout is changed, and init others later.\r\n\r\n\r\n    var LAZY_INIT_DELAY = 200;\r\n    var initDoneItems = {},\r\n        lazyInitTimer;\r\n\r\n    function checkInitBBox(props, eventType) {\r\n      if (props.initElm) {\r\n        // Easy checking for instance without errors.\r\n        initBBox(props, eventType);\r\n      } // eslint-disable-line brace-style\r\n\r\n    }\r\n\r\n    function initAll(eventType) {\r\n      clearTimeout(lazyInitTimer);\r\n      Object.keys(insProps).forEach(function (id) {\r\n        if (!initDoneItems[id]) {\r\n          checkInitBBox(insProps[id], eventType);\r\n        }\r\n      });\r\n      initDoneItems = {};\r\n    }\r\n\r\n    var layoutChanging = false; // Gecko bug, multiple calling by `resize`.\r\n\r\n    var layoutChange = AnimEvent.add(function (event) {\r\n      if (layoutChanging) {\r\n        return;\r\n      }\r\n\r\n      layoutChanging = true;\r\n\r\n      if (activeProps) {\r\n        checkInitBBox(activeProps, event.type);\r\n        pointerEvent.move();\r\n        initDoneItems[activeProps._id] = true;\r\n      }\r\n\r\n      clearTimeout(lazyInitTimer);\r\n      lazyInitTimer = setTimeout(function () {\r\n        initAll(event.type);\r\n      }, LAZY_INIT_DELAY);\r\n      layoutChanging = false;\r\n    });\r\n    window.addEventListener('resize', layoutChange, true);\r\n    window.addEventListener('scroll', layoutChange, true);\r\n  }\r\n\r\n  if (body = document.body) {\r\n    initDoc();\r\n  } else {\r\n    document.addEventListener('DOMContentLoaded', function () {\r\n      body = document.body;\r\n      initDoc();\r\n    }, true);\r\n  }\r\n}\r\n/* [SNAP/]\r\nPlainDraggable.limit = true;\r\n[SNAP/] */\r\n\r\nexport default PlainDraggable;"],
  "mappings": ";AAWA,IAAI,OAAO,MAAO;AAAlB,IAEA,YAAY;AAFZ,IAWA,QAAQ,CAAC;AAET,IAAI,cAAc,OAAO,yBAAyB,OAAO,4BAA4B,OAAO,+BAA+B,OAAO,2BAA2B,SAAU,UAAU;AAC/K,SAAO,WAAW,UAAU,IAAI;AAClC;AAFA,IAGI,aAAa,OAAO,wBAAwB,OAAO,2BAA2B,OAAO,8BAA8B,OAAO,0BAA0B,SAAUA,YAAW;AAC3K,SAAO,aAAaA,UAAS;AAC/B;AAEA,IAAI,gBAAgB,KAAK,IAAI;AAA7B,IACI;AAEJ,SAAS,OAAO;AACd,MAAI,QAAQ;AAEZ,MAAI,WAAW;AACb,eAAW,KAAK,QAAQ,SAAS;AACjC,gBAAY;AAAA,EACd;AAEA,QAAM,QAAQ,SAAU,MAAM;AAC5B,QAAI;AAEJ,QAAI,QAAQ,KAAK,OAAO;AACtB,WAAK,QAAQ;AAEb,WAAK,SAAS,KAAK;AACnB,eAAS;AAAA,IACX;AAAA,EACF,CAAC;AAED,MAAI,QAAQ;AACV,oBAAgB,KAAK,IAAI;AACzB,WAAO;AAAA,EACT,WAAW,KAAK,IAAI,IAAI,gBAAgB,WAAW;AAEjD,WAAO;AAAA,EACT;AAEA,MAAI,MAAM;AACR,gBAAY,YAAY,KAAK,QAAQ,IAAI;AAAA,EAC3C;AACF;AAEA,SAAS,aAAa,UAAU;AAC9B,MAAI,QAAQ;AACZ,QAAM,KAAK,SAAU,MAAM,GAAG;AAC5B,QAAI,KAAK,aAAa,UAAU;AAC9B,cAAQ;AACR,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT,CAAC;AACD,SAAO;AACT;AAEA,IAAI,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,EAKd,KAAK,SAAS,IAAI,UAAU;AAC1B,QAAI;AAEJ,QAAI,aAAa,QAAQ,MAAM,IAAI;AACjC,YAAM,KAAK,OAAO;AAAA,QAChB;AAAA,MACF,CAAC;AACD,aAAO,SAAU,OAAO;AACtB,aAAK,QAAQ;AAEb,YAAI,CAAC,WAAW;AACd,eAAK;AAAA,QACP;AAAA,MACF;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EACA,QAAQ,SAAS,OAAO,UAAU;AAChC,QAAI;AAEJ,SAAK,UAAU,aAAa,QAAQ,KAAK,IAAI;AAC3C,YAAM,OAAO,SAAS,CAAC;AAEvB,UAAI,CAAC,MAAM,UAAU,WAAW;AAC9B,mBAAW,KAAK,QAAQ,SAAS;AACjC,oBAAY;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AACA,IAAO,yBAAQ;;;AC/Gf,SAAS,gBAAgB,UAAU,aAAa;AAAE,MAAI,EAAE,oBAAoB,cAAc;AAAE,UAAM,IAAI,UAAU,mCAAmC;AAAA,EAAG;AAAE;AAExJ,SAAS,kBAAkB,QAAQ,OAAO;AAAE,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAAE,QAAI,aAAa,MAAM,CAAC;AAAG,eAAW,aAAa,WAAW,cAAc;AAAO,eAAW,eAAe;AAAM,QAAI,WAAW;AAAY,iBAAW,WAAW;AAAM,WAAO,eAAe,QAAQ,WAAW,KAAK,UAAU;AAAA,EAAG;AAAE;AAE5T,SAAS,aAAa,aAAa,YAAY,aAAa;AAAE,MAAI;AAAY,sBAAkB,YAAY,WAAW,UAAU;AAAG,MAAI;AAAa,sBAAkB,aAAa,WAAW;AAAG,SAAO;AAAa;AAUtN,IAAI,qBAAqB;AAAzB,IAEA,0BAA0B,CAAC;AAF3B,IAGI,6BAA6B,CAAC;AAElC,IAAI,mBAAmB;AAEvB,IAAI;AACF,SAAO,iBAAiB,QAAQ,MAAM,OAAO,eAAe,CAAC,GAAG,WAAW;AAAA,IACzE,KAAK,SAAS,MAAM;AAClB,yBAAmB;AAAA,IACrB;AAAA,EACF,CAAC,CAAC;AACJ,SAAS,OAAO;AAEhB;AAWA,SAAS,4BAA4B,QAAQ,MAAM,UAAU,SAAS;AAGpE,SAAO,iBAAiB,MAAM,UAAU,mBAAmB,UAAU,QAAQ,OAAO;AACtF;AAEA,SAAS,gBAAgB,IAAI,IAAI;AAC/B,MAAI,KAAK,GAAG,IAAI,GAAG,GACf,KAAK,GAAG,IAAI,GAAG;AACnB,SAAO,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AACpC;AASA,SAAS,aAAa,SAAS,IAAI;AACjC,MAAI,WAAW,QAAQ,MAAM,MAAM;AACjC,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,UAAI,QAAQ,CAAC,EAAE,eAAe,IAAI;AAChC,eAAO,QAAQ,CAAC;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAOA,SAAS,MAAM,IAAI;AACjB,SAAO,MAAM,OAAO,GAAG,YAAY,YAAY,OAAO,GAAG,YAAY;AACvE;AAGA,SAAS,UAAU,OAAO;AACxB,QAAM,eAAe;AACvB;AAEA,IAAI,eAA4B,WAAY;AAK1C,WAASC,cAAa,SAAS;AAC7B,QAAI,QAAQ;AAEZ,oBAAgB,MAAMA,aAAY;AAElC,SAAK,gBAAgB,CAAC;AACtB,SAAK,gBAAgB;AACrB,SAAK,kBAAkB;AACvB,SAAK,aAAa;AAClB,SAAK,gBAAgB;AAAA,MACnB,SAAS;AAAA,MACT,SAAS;AAAA,IACX;AACA,SAAK,gBAAgB;AAErB,SAAK,UAAU;AAAA;AAAA,MAEb,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,IACnB;AAEA,QAAI,SAAS;AACX,OAAC,kBAAkB,iBAAiB,EAAE,QAAQ,SAAU,QAAQ;AAC9D,YAAI,OAAO,QAAQ,MAAM,MAAM,WAAW;AACxC,gBAAM,QAAQ,MAAM,IAAI,QAAQ,MAAM;AAAA,QACxC;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AAOA,eAAaA,eAAc,CAAC;AAAA,IAC1B,KAAK;AAAA,IACL,OAAO,SAAS,gBAAgB,cAAc;AAC5C,UAAI,OAAO;AAEX,WAAK,cAAc,EAAE,KAAK,aAAa,IAAI,SAAU,OAAO;AAC1D,YAAI,eAAe,MAAM,SAAS,cAAc,UAAU,SACtD,MAAM,KAAK,IAAI;AACnB,YAAI,WAAW;AAEf,YAAI,iBAAiB,SAAS;AAC5B,eAAK,gBAAgB;AAErB,sBAAY,MAAM,eAAe,CAAC;AAClC,oBAAU,MAAM,eAAe,CAAC,EAAE;AAAA,QACpC,OAAO;AAEL,cAAI,MAAM,KAAK,gBAAgB,oBAAoB;AACjD;AAAA,UACF;AAEA,sBAAY;AAAA,QACd;AAEA,YAAI,CAAC,MAAM,SAAS,GAAG;AACrB,gBAAM,IAAI,MAAM,oBAAoB;AAAA,QACtC;AAGA,YAAI,KAAK,iBAAiB;AACxB,eAAK,OAAO;AAAA,QACd;AAEA,YAAI,aAAa,KAAK,MAAM,SAAS,GAAG;AACtC,eAAK,kBAAkB;AACvB,eAAK,aAAa,iBAAiB,UAAU,UAAU;AACvD,eAAK,cAAc,UAAU,UAAU;AACvC,eAAK,cAAc,UAAU,UAAU;AAEvC,cAAI,KAAK,QAAQ,gBAAgB;AAC/B,kBAAM,eAAe;AAAA,UACvB;AAEA,cAAI,KAAK,QAAQ,iBAAiB;AAChC,kBAAM,gBAAgB;AAAA,UACxB;AAAA,QACF;AAAA,MACF;AAEA,aAAO,KAAK;AAAA,IACd;AAAA;AAAA;AAAA;AAAA;AAAA,EAMF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,kBAAkB,WAAW;AAC3C,aAAO,KAAK,cAAc,SAAS;AAAA,IACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,gBAAgB,SAAS,WAAW;AAClD,UAAI,CAAC,KAAK,cAAc,SAAS,GAAG;AAClC,cAAM,IAAI,MAAM,sBAAsB,OAAO,SAAS,CAAC;AAAA,MACzD;AAEA,kCAA4B,SAAS,aAAa,KAAK,cAAc,SAAS,GAAG;AAAA,QAC/E,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,kCAA4B,SAAS,cAAc,KAAK,cAAc,SAAS,GAAG;AAAA,QAChF,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,kCAA4B,SAAS,aAAa,WAAW;AAAA,QAC3D,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,mBAAmB,SAAS,WAAW;AACrD,UAAI,CAAC,KAAK,cAAc,SAAS,GAAG;AAClC,cAAM,IAAI,MAAM,sBAAsB,OAAO,SAAS,CAAC;AAAA,MACzD;AAEA,cAAQ,oBAAoB,aAAa,KAAK,cAAc,SAAS,GAAG,KAAK;AAC7E,cAAQ,oBAAoB,cAAc,KAAK,cAAc,SAAS,GAAG,KAAK;AAC9E,cAAQ,oBAAoB,aAAa,WAAW,KAAK;AACzD,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,eAAe,SAAS,aAAa,UAAU;AAC7D,UAAI,OAAO;AAEX,eAAS,QAAQ,OAAO;AACtB,YAAI,eAAe,MAAM,SAAS,cAAc,UAAU;AAE1D,YAAI,iBAAiB,SAAS;AAC5B,eAAK,gBAAgB,KAAK,IAAI;AAAA,QAChC;AAEA,YAAI,iBAAiB,KAAK,iBAAiB;AACzC,cAAI,YAAY,iBAAiB,UAAU,aAAa,MAAM,gBAAgB,KAAK,UAAU,IAAI;AAEjG,cAAI,MAAM,SAAS,GAAG;AACpB,gBAAI,UAAU,YAAY,KAAK,cAAc,WAAW,UAAU,YAAY,KAAK,cAAc,SAAS;AACxG,mBAAK,KAAK,SAAS;AAAA,YACrB;AAEA,gBAAI,KAAK,QAAQ,gBAAgB;AAC/B,oBAAM,eAAe;AAAA,YACvB;AAEA,gBAAI,KAAK,QAAQ,iBAAiB;AAChC,oBAAM,gBAAgB;AAAA,YACxB;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,UAAI,iBAAiB,WAAW,UAAU,uBAAU,IAAI,OAAO;AAC/D,kCAA4B,SAAS,aAAa,gBAAgB;AAAA,QAChE,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,kCAA4B,SAAS,aAAa,gBAAgB;AAAA,QAChE,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,WAAK,iBAAiB;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAASC,MAAK,WAAW;AAC9B,UAAI,MAAM,SAAS,GAAG;AACpB,aAAK,cAAc,UAAU,UAAU;AACvC,aAAK,cAAc,UAAU,UAAU;AAAA,MACzC;AAEA,UAAI,KAAK,gBAAgB;AACvB,aAAK,eAAe,KAAK,aAAa;AAAA,MACxC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,cAAc,SAAS,YAAY;AACjD,UAAI,OAAO;AAEX,eAAS,eAAe,OAAO;AAC7B,YAAI,eAAe,MAAM,SAAS,YAAY,UAAU;AAExD,YAAI,iBAAiB,SAAS;AAC5B,eAAK,gBAAgB,KAAK,IAAI;AAAA,QAChC;AAEA,YAAI,iBAAiB,KAAK,iBAAiB;AACzC,cAAI,YAAY,iBAAiB,UAAU,aAAa,MAAM,gBAAgB,KAAK,UAAU;AAAA,WAC7F,aAAa,MAAM,SAAS,KAAK,UAAU,IAAI,OAAO,CAAC;AAAA;AAAA,YACvD;AAAA;AAEA,cAAI,WAAW;AACb,iBAAK,IAAI,SAAS;AAElB,gBAAI,KAAK,QAAQ,gBAAgB;AAC/B,oBAAM,eAAe;AAAA,YACvB;AAEA,gBAAI,KAAK,QAAQ,iBAAiB;AAChC,oBAAM,gBAAgB;AAAA,YACxB;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,kCAA4B,SAAS,WAAW,gBAAgB;AAAA,QAC9D,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,kCAA4B,SAAS,YAAY,gBAAgB;AAAA,QAC/D,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,WAAK,gBAAgB;AAAA,IACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,IAAI,WAAW;AAC7B,UAAI,MAAM,SAAS,GAAG;AACpB,aAAK,cAAc,UAAU,UAAU;AACvC,aAAK,cAAc,UAAU,UAAU;AAAA,MACzC;AAEA,UAAI,KAAK,eAAe;AACtB,aAAK,cAAc,KAAK,aAAa;AAAA,MACvC;AAEA,WAAK,kBAAkB,KAAK,aAAa;AAAA,IAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,iBAAiB,SAAS,eAAe;AACvD,UAAI,OAAO;AAEX,eAAS,eAAe,OAAO;AAK7B,aAAK,gBAAgB,KAAK,IAAI;AAE9B,YAAI,KAAK,mBAAmB,MAAM;AAChC,cAAI,YAAY,aAAa,MAAM,gBAAgB,KAAK,UAAU;AAAA,WAClE,aAAa,MAAM,SAAS,KAAK,UAAU,IAAI,OAAO,CAAC;AAEvD,cAAI,WAAW;AACb,iBAAK,OAAO;AAAA,UACd;AAAA,QACF;AAAA,MACF;AAEA,kCAA4B,SAAS,eAAe,gBAAgB;AAAA,QAClE,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,WAAK,mBAAmB;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA,EAKF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,SAAS;AACvB,UAAI,KAAK,kBAAkB;AACzB,aAAK,iBAAiB;AAAA,MACxB;AAEA,WAAK,kBAAkB,KAAK,aAAa;AAAA,IAC3C;AAAA,EACF,CAAC,GAAG,CAAC;AAAA,IACH,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,kBAAkB,SAAS,eAAe,eAAe;AACvE,UAAI,wBAAwB,SAAS,OAAO,GAAG;AAC7C,eAAO;AAAA,MACT;AAEA,8BAAwB,KAAK,OAAO;AACpC,UAAI,yBAAyB,IAE7B,yBAAyB;AAEzB,UAAI,QAAQ,QAAQ,SAAS;AAE7B,UAAI,iBAAiB,MAAM;AACzB,wBAAgB;AAAA,MAClB;AAEA,UAAI,iBAAiB,MAAM;AACzB,wBAAgB;AAAA,MAClB;AAEA,kCAA4B,SAAS,cAAc,SAAU,OAAO;AAClE,YAAI,QAAQ,MAAM,eAAe,CAAC;AAClC,iBAAS,MAAM;AACf,iBAAS,MAAM;AACf,kBAAU,MAAM;AAChB,kBAAU,YAAY,IAAI;AAAA,MAC5B,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,kCAA4B,SAAS,YAAY,SAAU,OAAO;AAChE,YAAI,QAAQ,aAAa,MAAM,gBAAgB,OAAO;AAEtD,YAAI,OAAO,WAAW,YAAY,OAAO,WAAW,YAAY,OAAO,YAAY,YAAY,SAAS,OAAO,MAAM,YAAY,YAAY,OAAO,MAAM,YAAY,YAAY,gBAAgB;AAAA,UAChM,GAAG;AAAA,UACH,GAAG;AAAA,QACL,GAAG;AAAA,UACD,GAAG,MAAM;AAAA,UACT,GAAG,MAAM;AAAA,QACX,CAAC,KAAK,iBAAiB,YAAY,IAAI,IAAI,WAAW,eAAe;AAEnE,qBAAW,WAAY;AACrB,gBAAI,WAAW,IAAI,WAAW,SAAS;AAAA,cACrC,SAAS,MAAM;AAAA,cACf,SAAS,MAAM;AAAA,YACjB,CAAC;AACD,qBAAS,WAAW;AACpB,oBAAQ,cAAc,QAAQ;AAAA,UAChC,GAAG,CAAC;AAAA,QACN;AAEA,iBAAS,SAAS,UAAU,UAAU;AAAA,MACxC,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,kCAA4B,SAAS,eAAe,WAAY;AAC9D,iBAAS,SAAS,UAAU,UAAU;AAAA,MACxC,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,qBAAqB,SAAS,eAAe,eAAe;AAC1E,UAAI,2BAA2B,SAAS,OAAO,GAAG;AAChD,eAAO;AAAA,MACT;AAEA,iCAA2B,KAAK,OAAO;AACvC,UAAI,yBAAyB,IAE7B,yBAAyB;AAEzB,UAAI,QAAQ,QAAQ;AAEpB,UAAI,iBAAiB,MAAM;AACzB,wBAAgB;AAAA,MAClB;AAEA,UAAI,iBAAiB,MAAM;AACzB,wBAAgB;AAAA,MAClB;AAEA,MAAAD,cAAa,kBAAkB,SAAS,eAAe,aAAa;AACpE,kCAA4B,SAAS,SAAS,SAAU,OAAO;AAC7D,YAAI,CAAC,MAAM;AAAA,QACX,OAAO,MAAM,YAAY,YAAY,OAAO,MAAM,YAAY,UAAU;AACtE;AAAA,QACF;AAEA,YAAI,OAAO,WAAW,YAAY,gBAAgB;AAAA,UAChD,GAAG;AAAA,UACH,GAAG;AAAA,QACL,GAAG;AAAA,UACD,GAAG,MAAM;AAAA,UACT,GAAG,MAAM;AAAA,QACX,CAAC,KAAK,iBAAiB,YAAY,IAAI,IAAI,WAAW,gBAAgB,GAAG;AAEvE,qBAAW,WAAY;AAErB,gBAAI,WAAW,IAAI,WAAW,YAAY;AAAA,cACxC,SAAS,MAAM;AAAA,cACf,SAAS,MAAM;AAAA,YACjB,CAAC;AACD,qBAAS,WAAW;AACpB,oBAAQ,cAAc,QAAQ;AAAA,UAChC,GAAG,CAAC;AACJ,mBAAS,SAAS,UAAU;AAAA,QAC9B,OAAO;AAEL,mBAAS,MAAM;AACf,mBAAS,MAAM;AACf,oBAAU,YAAY,IAAI;AAAA,QAC5B;AAAA,MACF,GAAG;AAAA,QACD,SAAS;AAAA,QACT,SAAS;AAAA,MACX,CAAC;AACD,aAAO;AAAA,IACT;AAAA,EACF,CAAC,CAAC;AAEF,SAAOA;AACT,EAAE;AAEF,IAAO,4BAAQ;;;AC1iBf,SAAS,IAAI,MAAM;AACjB,SAAO,KAAK,OAAO,GAAG,CAAC,EAAE,YAAY,IAAI,KAAK,OAAO,CAAC;AACxD;AAEA,IAAI,WAAW,CAAC,UAAU,OAAO,MAAM,GAAG;AAA1C,IACI,gBAAgB,SAAS,OAAO,SAAU,UAAU,QAAQ;AAC9D,WAAS,KAAK,MAAM;AACpB,WAAS,KAAK,IAAI,MAAM,CAAC;AACzB,SAAO;AACT,GAAG,CAAC,CAAC;AALL,IAMI,iBAAiB,SAAS,IAAI,SAAU,QAAQ;AAClD,SAAO,IAAI,OAAO,QAAQ,GAAG;AAC/B,CAAC;AARD,IAcA,iBAAiB,2BAAY;AAC3B,MAAI;AACJ,SAAO,WAAY;AACjB,WAAO,cAAc,eAAe,SAAS,cAAc,KAAK,EAAE;AAAA,EACpE;AACF,EAAE;AAnBF,IA0BA,gBAAgB,WAAY;AAC1B,MAAI,iBAAiB,IAAI,OAAO,SAAS,SAAS,KAAK,GAAG,IAAI,QAAQ,GAAG,GACrE,OAAO;AACX,SAAO,SAAU,UAAU;AACzB,YAAQ,YAAY,WAAW,IAAI,QAAQ,OAAO,EAAE,EAAE,QAAQ,gBAAgB,SAAU,KAAK,IAAI;AAC/F,aAAO,GAAG,YAAY;AAAA,IACxB,CAAC,EAEA,QAAQ,gBAAgB,SAAU,KAAK,IAAI;AAC1C,aAAO,KAAK,KAAK,EAAE,IAAI,GAAG,YAAY,IAAI;AAAA,IAC5C,CAAC,GACC,YAAY,MAAM,UAAU,aAAa;AAAA,EAC7C;AACF,EAAE;AAvCF,IA8CA,iBAAiB,WAAY;AAC3B,MAAI,kBAAkB,IAAI,OAAO,SAAS,eAAe,KAAK,GAAG,IAAI,KAAK,GAAG;AAC7E,SAAO,SAAU,WAAW;AAC1B,YAAQ,aAAa,OAAO,YAAY,KAAK,IAAI,QAAQ,OAAO,EAAE,EAAE,QAAQ,iBAAiB,EAAE;AAAA,EACjG;AACF,EAAE;AAnDF,IA6DA,cAAc,2BAAY;AACxB;AAAA;AAAA;AAAA,IAEE,SAAU,UAAU,WAAW;AAC7B,UAAI,cAAc,eAAe;AAEjC,iBAAW,SAAS,QAAQ,UAAU,SAAU,KAAK;AACnD,eAAO,IAAI,OAAO,IAAI,YAAY,CAAC;AAAA,MACrC,CAAC;AAED,kBAAY,YAAY,UAAU,SAAS;AAC3C,aAAO,YAAY,QAAQ,KAAK;AAAA,MAChC,YAAY,iBAAiB,QAAQ,MAAM;AAAA,IAC7C;AAAA;AAEJ,EAAE;AA5EF,IA8EA,YAAY,CAAC;AA9Eb,IA+EI,aAAa,CAAC;AAElB,SAAS,QAAQ,UAAU;AACzB,aAAW,cAAc,QAAQ;AAEjC,MAAI,YAAY,UAAU,QAAQ,KAAK,MAAM;AAC3C,QAAI,cAAc,eAAe;AAEjC,QAAI,YAAY,QAAQ,KAAK,MAAM;AAEjC,gBAAU,QAAQ,IAAI;AAAA,IACxB,OAAO;AAEL,UAAI,UAAU,IAAI,QAAQ;AAE1B,UAAI,CAAC,cAAc,KAAK,SAAU,QAAQ;AACxC,YAAI,WAAW,SAAS;AAExB,YAAI,YAAY,QAAQ,KAAK,MAAM;AACjC,oBAAU,QAAQ,IAAI;AACtB,iBAAO;AAAA,QACT;AAEA,eAAO;AAAA,MACT,CAAC,GAAG;AACF,kBAAU,QAAQ,IAAI;AAAA,MACxB;AAAA,IACF;AAAA,EACF;AAEA,SAAO,UAAU,QAAQ,KAAK;AAChC;AAEA,SAAS,SAAS,UAAU,WAAW;AACrC,MAAI;AAEJ,MAAI,EAAE,WAAW,QAAQ,QAAQ,IAAI;AACnC,WAAO;AAAA,EACT;AAGA,aAAW,QAAQ,IAAI,WAAW,QAAQ,KAAK,CAAC;AAChD,GAAC,MAAM,QAAQ,SAAS,IAAI,YAAY,CAAC,SAAS,GAAG,KAAK,SAAUE,YAAW;AAC7E,IAAAA,aAAY,eAAeA,UAAS;AAEpC,QAAI,WAAW,QAAQ,EAAEA,UAAS,KAAK,MAAM;AAE3C,UAAI,WAAW,QAAQ,EAAEA,UAAS,MAAM,OAAO;AAC7C,cAAM,WAAW,QAAQ,EAAEA,UAAS;AACpC,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT;AAEA,QAAI,YAAY,UAAUA,UAAS,GAAG;AAEpC,YAAM,WAAW,QAAQ,EAAEA,UAAS,IAAIA;AACxC,aAAO;AAAA,IACT;AAEA,QAAI,eAAe,KAAK,SAAU,QAAQ;AAExC,UAAI,WAAW,SAASA;AAExB,UAAI,YAAY,UAAU,QAAQ,GAAG;AACnC,cAAM,WAAW,QAAQ,EAAEA,UAAS,IAAI;AACxC,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT,CAAC,GAAG;AACF,aAAO;AAAA,IACT;AAEA,eAAW,QAAQ,EAAEA,UAAS,IAAI;AAClC,WAAO;AAAA,EACT,CAAC;AACD,SAAO,OAAO,QAAQ,WAAW,MAAM;AACzC;AAEA,IAAI,YAAY;AAAA,EACd;AAAA,EACA;AACF;AACA,IAAO,wBAAQ;;;ACxKf,SAAS,UAAU,OAAO;AACxB,UAAQ,QAAQ,IAAI,KAAK;AAC3B;AAGA,SAAS,UAAU,MAAM,SAAS;AAChC,UAAQ,aAAa,SAAS,KAAK,KAAK,GAAG,CAAC;AAC9C;AAEA,SAAS,KAAK,MAAM,SAAS,QAAQ;AACnC,MAAI,OAAO,OAAO,SAAU,OAAO;AACjC,QAAI,EAAE,QAAQ,UAAU,KAAK,MAAM,KAAK,QAAQ,KAAK,MAAM,IAAI;AAC7D,aAAO;AAAA,IACT;AAEA,SAAK,KAAK,KAAK;AACf,WAAO;AAAA,EACT,CAAC,EAAE,QAAQ;AACT,cAAU,MAAM,OAAO;AAAA,EACzB;AACF;AAEA,SAAS,QAAQ,MAAM,SAAS,QAAQ;AACtC,MAAI,OAAO,OAAO,SAAU,OAAO;AACjC,QAAI;AAEJ,QAAI,EAAE,QAAQ,UAAU,KAAK,OAAO,IAAI,KAAK,QAAQ,KAAK,OAAO,IAAI;AACnE,aAAO;AAAA,IACT;AAEA,SAAK,OAAO,GAAG,CAAC;AAChB,WAAO;AAAA,EACT,CAAC,EAAE,QAAQ;AACT,cAAU,MAAM,OAAO;AAAA,EACzB;AACF;AAEA,SAAS,QAAQ,MAAM,SAAS,OAAO,OAAO;AAC5C,MAAI,IAAI,KAAK,QAAQ,QAAQ,UAAU,KAAK,CAAC;AAE7C,MAAI,MAAM,IAAI;AACZ,QAAI,OAAO;AACT,aAAO;AAAA,IACT;AAEA,SAAK,OAAO,GAAG,CAAC;AAChB,cAAU,MAAM,OAAO;AACvB,WAAO;AAAA,EACT;AAEA,MAAI,UAAU,OAAO;AACnB,WAAO;AAAA,EACT;AAEA,OAAK,KAAK,KAAK;AACf,YAAU,MAAM,OAAO;AACvB,SAAO;AACT;AAEA,SAAS,SAAS,MAAM,SAAS,OAAO,UAAU;AAChD,MAAI;AAEJ,MAAI,EAAE,QAAQ,UAAU,KAAK,MAAM,EAAE,WAAW,UAAU,QAAQ,MAAM,UAAU,aAAa,IAAI,KAAK,QAAQ,KAAK,OAAO,IAAI;AAC9H;AAAA,EACF;AAEA,OAAK,OAAO,GAAG,CAAC;AAEhB,MAAI,KAAK,QAAQ,QAAQ,MAAM,IAAI;AACjC,SAAK,KAAK,QAAQ;AAAA,EACpB;AAEA,YAAU,MAAM,OAAO;AACzB;AAEA,SAAS,WAAW,SAAS;AAC3B,SAAO,CAAC,WAAW,gBAAgB,QAAQ,aAAa,WAAY;AAClE,QAAI,QAAQ,QAAQ,aAAa,OAAO,KAAK,IAAI,KAAK,EAAE,MAAM,KAAK,EAAE,OAAO,SAAU,OAAO;AAC3F,aAAO,CAAC,CAAC;AAAA,IACX,CAAC,GACG,MAAM;AAAA,MACR,QAAQ,KAAK;AAAA,MACb,MAAM,SAAS,KAAK,GAAG;AACrB,eAAO,KAAK,CAAC;AAAA,MACf;AAAA,MACA,UAAU,SAAS,SAAS,OAAO;AACjC,eAAO,KAAK,QAAQ,UAAU,KAAK,CAAC,MAAM;AAAA,MAC5C;AAAA,MACA,KAAK,SAASC,OAAM;AAClB,aAAK,MAAM,SAAS,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC;AAEzD,eAAO,WAAW,cAAc,MAAM;AAAA,MACxC;AAAA,MACA,QAAQ,SAASC,UAAS;AACxB,gBAAQ,MAAM,SAAS,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC;AAE5D,eAAO,WAAW,cAAc,MAAM;AAAA,MACxC;AAAA,MACA,QAAQ,SAAS,OAAO,OAAO,OAAO;AACpC,eAAO,QAAQ,MAAM,SAAS,OAAO,KAAK;AAAA,MAC5C;AAAA,MACA,SAAS,SAAS,QAAQ,OAAO,UAAU;AACzC,iBAAS,MAAM,SAAS,OAAO,QAAQ;AAEvC,eAAO,WAAW,cAAc,MAAM;AAAA,MACxC;AAAA,IACF;AACA,WAAO;AAAA,EACT,EAAE;AACJ;AAEA,WAAW,cAAc;AACzB,IAAO,2BAAQ;;;ACvHf,SAASC,iBAAgB,UAAU,aAAa;AAAE,MAAI,EAAE,oBAAoB,cAAc;AAAE,UAAM,IAAI,UAAU,mCAAmC;AAAA,EAAG;AAAE;AAExJ,SAASC,mBAAkB,QAAQ,OAAO;AAAE,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAAE,QAAI,aAAa,MAAM,CAAC;AAAG,eAAW,aAAa,WAAW,cAAc;AAAO,eAAW,eAAe;AAAM,QAAI,WAAW;AAAY,iBAAW,WAAW;AAAM,WAAO,eAAe,QAAQ,WAAW,KAAK,UAAU;AAAA,EAAG;AAAE;AAE5T,SAASC,cAAa,aAAa,YAAY,aAAa;AAAE,MAAI;AAAY,IAAAD,mBAAkB,YAAY,WAAW,UAAU;AAAG,MAAI;AAAa,IAAAA,mBAAkB,aAAa,WAAW;AAAG,SAAO;AAAa;AAEtN,SAAS,QAAQ,KAAK;AAAE;AAA2B,MAAI,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,UAAU;AAAE,cAAU,SAASE,SAAQC,MAAK;AAAE,aAAO,OAAOA;AAAA,IAAK;AAAA,EAAG,OAAO;AAAE,cAAU,SAASD,SAAQC,MAAK;AAAE,aAAOA,QAAO,OAAO,WAAW,cAAcA,KAAI,gBAAgB,UAAUA,SAAQ,OAAO,YAAY,WAAW,OAAOA;AAAA,IAAK;AAAA,EAAG;AAAE,SAAO,QAAQ,GAAG;AAAG;AAazX,yBAAW,eAAe;AAE1B,IAAI,SAAS;AAAb,IAEA,eAAe;AAFf,IAGI,cAAc;AAHlB,IAII,YAAY;AAJhB,IAKI,YAAY;AALhB,IAMI,YAAY;AANhB,IAOI,mBAAmB,CAAC,MAAM,MAAM,MAAM,IAAI;AAP9C,IAQI,iBAAiB,CAAC,SAAS,KAAK;AARpC,IASI,iBAAiB,CAAC,UAAU,SAAS;AATzC,IAYA,mBAAmB,CAAC,IAAI,KAAK,GAAI;AAZjC,IAaI,yBAAyB,CAAC,KAAK,IAAI,CAAC;AAbxC,IAeA,UAAU,sBAAsB,SAAS,gBAAgB,SAAS,mBAAmB,SAAS,gBAAgB,SAAS,CAAC,OAAO,UAAU;AAfzI,IAgBI,aAAa,CAAC,WAAW,CAAC,CAAC,SAAS;AAhBxC,IAkBA,WAAY,mBAAmB,SAAS,gBAAgB;AAlBxD,IAmBI,WAAW,CAAC,WAAW,CAAC;AAC5B,CAAC,CAAC,OAAO,UAAU,CAAC,CAAC,OAAO;AApB5B,IAqBI,YAAY,CAAC,WAAW,CAAC,cAAc,CAAC,YAAY,CAAC;AACzD,CAAC,OAAO,UAAU,sBAAsB,SAAS,gBAAgB;AAtBjE,IAuBI,WAAW,WAAY;AACzB,MAAI,WAAW,CAAC,EAAE,UACd,aAAa,CAAC,EAAE,eAAe,UAC/B,cAAc,WAAW,KAAK,MAAM;AACxC,SAAO,SAAU,KAAK;AACpB,QAAI,OAAO;AACX,WAAO,OAAO,SAAS,KAAK,GAAG,MAAM,sBAAsB,EAAE,QAAQ,OAAO,eAAe,GAAG,OAAO,SAAS,MAAM,eAAe,aAAa,KAAK,MAAM,gBAAgB,OAAO,WAAW,cAAc,WAAW,KAAK,MAAM,MAAM;AAAA,EACzO;AACF,EAAE;AA/BF,IAgCI,WAAW,OAAO,YAAY,SAAU,OAAO;AACjD,SAAO,OAAO,UAAU,YAAY,OAAO,SAAS,KAAK;AAC3D;AAlCA,IAqCA,WAAW,CAAC;AArCZ,IAsCI,gBAAgB,CAAC;AAtCrB,IAuCI,eAAe,IAAI,0BAAa;AAEpC,IAAI,QAAQ;AAAZ,IACI;AADJ,IAEI;AAFJ,IAGI;AAHJ,IAKA;AALA,IAMI;AANJ,IAOI;AAPJ,IAQI;AARJ,IASI;AATJ,IAUI;AAVJ,IAWI;AAXJ,IAaA,gCAAgC,YAAY,CAAC,cAAc,MAAM,IAAI,CAAC,QAAQ,cAAc,MAAM;AAblG,IAcI,+BAA+B,YAAY,SAAS,CAAC,YAAY,MAAM;AAd3E,IAgBA,iBAAiB;AAhBjB,IAiBI,gBAAgB;AAjBpB,IAkBI,cAAc;AAGlB,IAAI,cAAc,CAAC;AAAnB,IACIC,QAAO,MAAO;AADlB,IAGAC,eAAc,OAAO,yBAAyB,OAAO,4BAA4B,OAAO,+BAA+B,OAAO,2BAA2B,SAAU,UAAU;AAC3K,SAAO,WAAW,UAAUD,KAAI;AAClC;AALA,IAMIE,cAAa,OAAO,wBAAwB,OAAO,2BAA2B,OAAO,8BAA8B,OAAO,0BAA0B,SAAUC,YAAW;AAC3K,SAAO,aAAaA,UAAS;AAC/B;AAEA;AAeE,MAAS,cAAT,WAAuB;AACrB,QAAI,MAAM,KAAK,IAAI;AACnB,KAAC,KAAK,GAAG,EAAE,QAAQ,SAAU,IAAI;AAC/B,UAAI,WAAW,cAAc,EAAE;AAE/B,UAAI,UAAU;AACZ,YAAI,UAAU,MAAM,SAAS,eACzB,WAAW,YAAY,YAAY,EAAE,GACrC,WAAW,SAAS,aAAa,QAAQ,KAAK,IAAI,SAAS,YAAY,QAAQ,IAAI,KACrF,SAAS,YAAY;AAEvB,YAAI,SAAS,QAAQ,KAAK,WAAW,SAAS,MAAM,WAAW,SAAS,KAAK;AAC3E,cAAI,WAAW,WAAW,SAAS,QAAQ,UAAU,SAAS;AAE9D,cAAI,WAAW,SAAS,KAAK;AAC3B,uBAAW,SAAS;AAAA,UACtB,WAAW,WAAW,SAAS,KAAK;AAClC,uBAAW,SAAS;AAAA,UACtB;AAEA,sBAAY,YAAY,IAAI,QAAQ;AACpC,mBAAS,YAAY;AAAA,QACvB;AAEA,iBAAS,gBAAgB;AAAA,MAC3B;AAAA,IACF,CAAC;AAAA,EACH,GAES,QAAT,WAAiB;AACf,IAAAD,YAAW,KAAK,QAAQC,UAAS;AACjC,gBAAY;AACZ,IAAAA,aAAYF,aAAY,KAAK,QAAQ,KAAK;AAAA,EAC5C;AAtCI,kBAAgB,CAAC;AA+CrB,cAAY,OAAO,SAAU,SAAS,YAAY,UAAU;AAC1D,IAAAC,YAAW,KAAK,QAAQC,UAAS;AACjC,gBAAY;AAGZ,QAAI,eAAe,SAAS;AAC1B,UAAI,WAAW,KAAK,cAAc,GAAG;AACnC,mBAAW,EAAE,YAAY,cAAc,EAAE;AAAA,MAC3C;AAEA,UAAI,WAAW,KAAK,cAAc,GAAG;AACnC,mBAAW,EAAE,YAAY,cAAc,EAAE;AAAA,MAC3C;AAAA,IACF;AAEA,iBAAa;AACb,oBAAgB;AAChB,kBAAc;AACd,QAAI,MAAM,KAAK,IAAI;AACnB,KAAC,KAAK,GAAG,EAAE,QAAQ,SAAU,IAAI;AAC/B,UAAI,WAAW,cAAc,EAAE;AAE/B,UAAI,UAAU;AACZ,iBAAS,gBAAgB;AAAA,MAC3B;AAAA,IACF,CAAC;AACD,IAAAA,aAAYF,aAAY,KAAK,QAAQ,KAAK;AAAA,EAC5C;AAEA,cAAY,OAAO,WAAY;AAC7B,IAAAC,YAAW,KAAK,QAAQC,UAAS;AACjC,gBAAY;AACZ,oBAAgB,CAAC;AACjB,iBAAa;AAAA,EACf;AACF;AAlFM;AACA;AACA;AACA,IAAAA;AAiFN,SAAS,eAAe,SAAS,IAAI,OAAO;AAC1C,MAAI,SAAS,MAAM;AACjB,QAAI,OAAO,KAAK;AACd,cAAQ,SAAS,OAAO,QAAQ,WAAW;AAAA,IAC7C,OAAO;AACL,cAAQ,SAAS,QAAQ,aAAa,KAAK;AAAA,IAC7C;AAAA,EACF;AAEA,SAAO,OAAO,MAAM,QAAQ,cAAc,QAAQ;AACpD;AAEA,SAAS,gBAAgB,SAAS,IAAI,OAAO;AAC3C,MAAI,OAAO,OAAO,MAAM,eAAe;AAEvC,MAAI,SAAS,MAAM;AACjB,YAAQ,IAAI,IAAI;AAAA,EAClB;AAEA,SAAO,QAAQ,IAAI;AACrB;AAmBA,SAAS,cAAc,SAAS,UAAU,YAAY;AACpD,MAAI,aAAa,CAAC;AAClB,MAAI,cAAc,cAAc;AAEhC,GAAC,SAAU,QAAQ;AACjB,eAAW,cAAc,OAAO;AAChC,eAAW,eAAe,OAAO;AAAA,EACnC,GAAG,WAAW,SAAS,kBAAkB,OAAO;AAShD,MAAI,gBAAgB,GAChB,eAAe;AAEnB,MAAI,CAAC,YAAY;AACf,QAAI,eAAe;AAEnB,QAAI,UAAU;AACZ,sBAAgB,eAAe,SAAS,GAAG;AAC3C,qBAAe,eAAe,SAAS,GAAG;AAC1C,qBAAe,iBAAiB,SAAS,iBAAiB,EAAE;AAC5D,qBAAe,iBAAiB,SAAS,MAAM,EAAE;AACjD,sBAAgB,eAAe,SAAS,KAAK,SAAS,gBAAgB,cAAc,WAAW;AAAA,MAC/F,CAAC,cAAc,eAAe,mBAAmB,oBAAoB,eAAe,cAAc,EAAE,OAAO,SAAU,KAAK,MAAM;AAC9H,eAAO,OAAO,WAAW,aAAa,IAAI,CAAC,KAAK,MAAM,WAAW,aAAa,IAAI,CAAC,KAAK;AAAA,MAC1F,GAAG,CAAC,CAAC;AACL,qBAAe,eAAe,SAAS,KAAK,SAAS,gBAAgB,eAAe,WAAW,eAAe,CAAC,aAAa,gBAAgB,kBAAkB,qBAAqB,cAAc,eAAe,EAAE,OAAO,SAAU,KAAK,MAAM;AAC5O,eAAO,OAAO,WAAW,aAAa,IAAI,CAAC,KAAK,MAAM,WAAW,aAAa,IAAI,CAAC,KAAK;AAAA,MAC1F,GAAG,CAAC,CAAC;AACL,qBAAe,SAAS,KAAK,aAAa;AAC1C,qBAAe,SAAS,KAAK,YAAY;AAAA,IAC3C,OAAO;AACL,sBAAgB,gBAAgB,SAAS,GAAG;AAC5C,qBAAe,gBAAgB,SAAS,GAAG;AAC3C,wBAAkB,iBAAiB,SAAS,EAAE;AAC9C,sBAAgB,gBAAgB,SAAS,KAAK,QAAQ,cAAc,WAAW;AAAA,MAC/E,CAAC,cAAc,eAAe,mBAAmB,oBAAoB,eAAe,cAAc,EAAE,OAAO,SAAU,KAAK,MAAM;AAC9H,eAAO,OAAO,WAAW,gBAAgB,IAAI,CAAC,KAAK;AAAA,MACrD,GAAG,CAAC,CAAC;AACL,qBAAe,gBAAgB,SAAS,KAAK,QAAQ,eAAe,WAAW,eAAe,CAAC,aAAa,gBAAgB,kBAAkB,qBAAqB,cAAc,eAAe,EAAE,OAAO,SAAU,KAAK,MAAM;AAC5N,eAAO,OAAO,WAAW,gBAAgB,IAAI,CAAC,KAAK;AAAA,MACrD,GAAG,CAAC,CAAC;AACL,sBAAgB,SAAS,KAAK,aAAa;AAC3C,sBAAgB,SAAS,KAAK,YAAY;AAAA,IAC5C;AAAA,EACF;AAEA,aAAW,cAAc,WAAW,cAAc;AAClD,aAAW,eAAe,WAAW,eAAe;AAEpD,MAAI;AAEJ,MAAI,UAAU;AACZ,eAAW,UAAU,WAAW,UAAU;AAAA,EAC5C,OAAO;AAEL,WAAO,QAAQ,sBAAsB;AAErC,QAAI,CAAC,iBAAiB;AACpB,wBAAkB,iBAAiB,SAAS,EAAE;AAAA,IAChD;AAEA,eAAW,UAAU,KAAK,QAAQ,WAAW,gBAAgB,eAAe,KAAK;AACjF,eAAW,UAAU,KAAK,OAAO,WAAW,gBAAgB,cAAc,KAAK;AAAA,EACjF;AAEA,SAAO;AACT;AAGA,SAAS,SAAS,KAAK;AACrB,SAAO,CAAC,MAAM,MAAM,SAAS,GAAG,IAAI,OAAO,KAAK,GAAG,EAAE,OAAO,SAAU,SAAS,KAAK;AAClF,YAAQ,GAAG,IAAI,SAAS,IAAI,GAAG,CAAC;AAChC,WAAO;AAAA,EACT,GAAG,CAAC,CAAC,IAAI,MAAM,QAAQ,GAAG,IAAI,IAAI,IAAI,QAAQ,IAAI;AACpD;AAEA,SAAS,WAAW,GAAG,GAAG;AACxB,MAAI,OAAO;AACX,SAAO,QAAQ,CAAC,MAAM,QAAQ,CAAC,MAAM,QAAQ,SAAS,CAAC,IAAI,QAAQ,MAAM,QAAQ,CAAC,IAAI,UAAU,SAAS,SAAS,CAAC,IAAI,QAAQ,MAAM,QAAQ,CAAC,IAAI,UAAU,QAAQ,UAAU,QAAQ,WAAW,QAAQ,OAAO,KAAK,CAAC,EAAE,KAAK,GAAG,OAAO,KAAK,CAAC,EAAE,KAAK,CAAC,KAAK,MAAM,KAAK,SAAU,MAAM;AACnR,WAAO,WAAW,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC;AAAA,EACpC,CAAC,IAAI,UAAU,UAAU,EAAE,WAAW,EAAE,UAAU,EAAE,KAAK,SAAU,MAAM,GAAG;AAC1E,WAAO,WAAW,MAAM,EAAE,CAAC,CAAC;AAAA,EAC9B,CAAC,IAAI,MAAM;AACb;AAOA,SAAS,UAAU,SAAS;AAC1B,SAAO,CAAC,EAAE,WAAW,QAAQ,aAAa,KAAK;AAAA,EAC/C,OAAO,QAAQ,0BAA0B,cAAc,EAAE,QAAQ,wBAAwB,QAAQ,IAAI,KAAK;AAC5G;AAoBA,SAAS,UAAU,MAAM;AACvB,MAAI,CAAC,SAAS,IAAI,GAAG;AACnB,WAAO;AAAA,EACT;AAEA,MAAI;AAEJ,MAAI,SAAS,QAAQ,KAAK,IAAI,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG;AAC3D,SAAK,OAAO,KAAK,IAAI;AAAA,EACvB,OAAO;AACL,WAAO;AAAA,EACT;AAEA,MAAI,SAAS,QAAQ,KAAK,GAAG,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG;AAC1D,SAAK,MAAM,KAAK,IAAI;AAAA,EACtB,OAAO;AACL,WAAO;AAAA,EACT;AAEA,MAAI,SAAS,KAAK,KAAK,KAAK,KAAK,SAAS,GAAG;AAC3C,SAAK,QAAQ,KAAK,OAAO,KAAK;AAAA,EAChC,WAAW,SAAS,KAAK,KAAK,KAAK,KAAK,SAAS,KAAK,MAAM;AAC1D,SAAK,QAAQ,KAAK,QAAQ,KAAK;AAAA,EACjC,OAAO;AACL,WAAO;AAAA,EACT;AAEA,MAAI,SAAS,KAAK,MAAM,KAAK,KAAK,UAAU,GAAG;AAC7C,SAAK,SAAS,KAAK,MAAM,KAAK;AAAA,EAChC,WAAW,SAAS,KAAK,MAAM,KAAK,KAAK,UAAU,KAAK,KAAK;AAC3D,SAAK,SAAS,KAAK,SAAS,KAAK;AAAA,EACnC,OAAO;AACL,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAOA,SAAS,aAAa,OAAO;AAE3B,WAAS,eAAe,UAAU;AAChC,QAAI,UAAU,cAAc,KAAK,QAAQ;AACzC,QAAIC,QAAO;AACX,WAAO,WAAW,SAASA,SAAQ,WAAW,QAAQ,CAAC,CAAC,CAAC,IAAI;AAAA,MAC3D,QAAQ,UAAU,CAAC,EAAE,QAAQ,CAAC,KAAKA,WAAUA,SAAQ,MAAMA;AAAA,MAC3D;AAAA,IACF,IAAI;AAAA,EACN;AAEA,SAAO,SAAS,KAAK,IAAI;AAAA,IACvB;AAAA,IACA,SAAS;AAAA,EACX,IAAI,OAAO,UAAU,WAAW,eAAe,MAAM,QAAQ,OAAO,EAAE,CAAC,IAAI;AAC7E;AAEA,SAAS,oBAAoB,SAAS;AACpC,SAAO,QAAQ,UAAU,GAAG,OAAO,QAAQ,QAAQ,KAAK,GAAG,IAAI,QAAQ;AACzE;AAEA,SAAS,eAAe,SAAS,YAAY,UAAU;AACrD,SAAO,OAAO,YAAY,WAAW,UAAU,aAAa,QAAQ,SAAS,QAAQ,UAAU,WAAW;AAC5G;AAYA,SAAS,YAAY,MAAM;AACzB,MAAI,CAAC,SAAS,IAAI,GAAG;AACnB,WAAO;AAAA,EACT;AAEA,MAAI;AAEJ,OAAK,UAAU,aAAa,KAAK,IAAI,OAAO,UAAU,aAAa,KAAK,CAAC,IAAI;AAC3E,SAAK,OAAO,KAAK,IAAI;AAAA,EACvB,OAAO;AACL,WAAO;AAAA,EACT;AAEA,OAAK,UAAU,aAAa,KAAK,GAAG,OAAO,UAAU,aAAa,KAAK,CAAC,IAAI;AAC1E,SAAK,MAAM,KAAK,IAAI;AAAA,EACtB,OAAO;AACL,WAAO;AAAA,EACT;AAEA,OAAK,UAAU,aAAa,KAAK,KAAK,MAAM,QAAQ,SAAS,GAAG;AAC9D,SAAK,QAAQ;AACb,WAAO,KAAK;AAAA,EACd,WAAW,UAAU,aAAa,KAAK,KAAK,GAAG;AAC7C,SAAK,QAAQ;AACb,WAAO,KAAK;AAAA,EACd,OAAO;AACL,WAAO;AAAA,EACT;AAEA,OAAK,UAAU,aAAa,KAAK,MAAM,MAAM,QAAQ,SAAS,GAAG;AAC/D,SAAK,SAAS;AACd,WAAO,KAAK;AAAA,EACd,WAAW,UAAU,aAAa,KAAK,MAAM,GAAG;AAC9C,SAAK,SAAS;AACd,WAAO,KAAK;AAAA,EACd,OAAO;AACL,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAEA,SAAS,oBAAoB,QAAQ;AACnC,SAAO,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,MAAM;AACrD,QAAI,IAAI,IAAI,oBAAoB,OAAO,IAAI,CAAC;AAC5C,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AACP;AAGA,SAAS,cAAc,QAAQ,UAAU;AACvC,MAAI,YAAY;AAAA,IACd,MAAM;AAAA,IACN,OAAO;AAAA,IACP,GAAG;AAAA,IACH,OAAO;AAAA,IACP,KAAK;AAAA,IACL,QAAQ;AAAA,IACR,GAAG;AAAA,IACH,QAAQ;AAAA,EACV,GACI,eAAe;AAAA,IACjB,GAAG,SAAS;AAAA,IACZ,GAAG,SAAS;AAAA,EACd,GACI,aAAa;AAAA,IACf,GAAG,SAAS;AAAA,IACZ,GAAG,SAAS;AAAA,EACd;AACA,SAAO,UAAU,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,MAAM,MAAM;AAChE,SAAK,IAAI,IAAI,eAAe,OAAO,IAAI,GAAG,SAAS,WAAW,SAAS,WAAW,IAAI,aAAa,UAAU,IAAI,CAAC,GAAG,WAAW,UAAU,IAAI,CAAC,CAAC;AAChJ,WAAO;AAAA,EACT,GAAG,CAAC,CAAC,CAAC;AACR;AAQA,SAAS,QAAQ,SAAS,eAAe;AACvC,MAAI,OAAO,QAAQ,sBAAsB,GACrC,OAAO;AAAA,IACT,MAAM,KAAK;AAAA,IACX,KAAK,KAAK;AAAA,IACV,OAAO,KAAK;AAAA,IACZ,QAAQ,KAAK;AAAA,EACf;AACA,OAAK,QAAQ,OAAO;AACpB,OAAK,OAAO,OAAO;AAEnB,MAAI,eAAe;AACjB,QAAI,QAAQ,OAAO,iBAAiB,SAAS,EAAE,GAC3C,YAAY,WAAW,MAAM,cAAc,KAAK,GAChD,cAAc,WAAW,MAAM,gBAAgB,KAAK,GACpD,eAAe,WAAW,MAAM,iBAAiB,KAAK,GACtD,aAAa,WAAW,MAAM,eAAe,KAAK;AACtD,SAAK,QAAQ;AACb,SAAK,OAAO;AACZ,SAAK,SAAS,aAAa;AAC3B,SAAK,UAAU,YAAY;AAAA,EAC7B;AAEA,SAAO,UAAU,IAAI;AACvB;AASA,SAAS,SAAS,SAAS,YAAY;AACrC,MAAI,QAAQ,QAAQ;AACpB,QAAM,0BAA0B;AAEhC,MAAI,mBAAmB,sBAAU,QAAQ,WAAW,GAChD,YAAY,OAAO,iBAAiB,SAAS,EAAE,EAAE,gBAAgB;AAErE,MAAI,CAAC,aAAa,cAAc,QAAQ;AACtC,UAAM,gBAAgB,IAAI;AAAA,EAC5B;AAEA,MAAI,cAAc,kBAAkB;AAClC,UAAM,gBAAgB,IAAI;AAAA,EAC5B;AAEA,SAAO;AACT;AAEA,SAAS,mBAAmB,SAAS,WAAW;AAC9C,MAAI,2BAA2B,MAAM;AACnC,QAAI,kCAAkC,OAAO;AAC3C,gCAA0B,sBAAU,SAAS,UAAU,6BAA6B;AAAA,IACtF;AAGA,QAAI,2BAA2B,MAAM;AACnC,gCAA0B;AAAA,IAC5B;AAAA,EACF;AAGA,UAAQ,MAAM,SAAS,4BAA4B,QAAQ,YAAY;AACzE;AAEA,SAAS,kBAAkB,SAAS;AAClC,MAAI,0BAA0B,MAAM;AAClC,QAAI,iCAAiC,OAAO;AAC1C,+BAAyB,sBAAU,SAAS,UAAU,4BAA4B;AAAA,IACpF;AAGA,QAAI,0BAA0B,MAAM;AAClC,+BAAyB;AAAA,IAC3B;AAAA,EACF;AAEA,MAAI,2BAA2B,OAAO;AACpC,YAAQ,MAAM,SAAS;AAAA,EACzB;AACF;AAWA,SAAS,mBAAmB,OAAO,SAAS,SAAS;AACnD,MAAI,WAAW,MAAM;AACrB,WAAS,IAAI;AACb,WAAS,IAAI;AACb,SAAO,SAAS,gBAAgB,MAAM,cAAc,aAAa,EAAE,QAAQ,CAAC;AAC9E;AAUA,SAAS,cAAc,OAAO,UAAU;AACtC,MAAI,cAAc,MAAM;AAExB,MAAI,SAAS,SAAS,YAAY,QAAQ,SAAS,QAAQ,YAAY,KAAK;AAC1E,QAAI,SAAS,MAAM;AACnB,UAAM,aAAa,gBAAgB,IAAI,aAAa,OAAO,SAAS,OAAO,OAAO,MAAM,MAAM,EAAE,OAAO,SAAS,MAAM,OAAO,KAAK,KAAK;AACvI,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAUA,SAAS,YAAY,OAAO,UAAU;AACpC,MAAI,cAAc,MAAM,aACpB,eAAe,MAAM,cACrB,SAAS,MAAM;AACnB,MAAI,QAAQ;AAEZ,MAAI,SAAS,SAAS,YAAY,MAAM;AACtC,iBAAa,OAAO,SAAS,OAAO,OAAO,OAAO;AAClD,YAAQ;AAAA,EACV;AAEA,MAAI,SAAS,QAAQ,YAAY,KAAK;AACpC,iBAAa,MAAM,SAAS,MAAM,OAAO,MAAM;AAC/C,YAAQ;AAAA,EACV;AAEA,SAAO;AACT;AAWA,SAAS,QAAQ,OAAO,UAAU;AAChC,MAAI,cAAc,MAAM;AAExB,MAAI,SAAS,SAAS,YAAY,QAAQ,SAAS,QAAQ,YAAY,KAAK;AAC1E,QAAI,SAAS,MAAM,WACf,aAAa,MAAM,eACnB,QAAQ,mBAAmB,OAAO,SAAS,OAAO,OAAO,aAAa,SAAS,MAAM,OAAO,WAAW;AAC3G,UAAM,aAAa,aAAa,MAAM,IAAI,OAAO,IAAI,WAAW,GAAG,MAAM,IAAI,OAAO,IAAI,WAAW,CAAC;AACpG,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAWA,SAAS,KAAK,OAAO,UAAU,SAAS;AACtC,MAAI,cAAc,MAAM;AAExB,WAAS,MAAM;AACb,QAAI,MAAM,WAAW,MAAM,SAAS;AAElC,eAAS,OAAO,YAAY;AAAA,IAC9B,WAAW,SAAS,OAAO,MAAM,SAAS;AACxC,eAAS,OAAO,MAAM;AAAA,IACxB,WAAW,SAAS,OAAO,MAAM,SAAS;AACxC,eAAS,OAAO,MAAM;AAAA,IACxB;AAEA,QAAI,MAAM,UAAU,MAAM,QAAQ;AAEhC,eAAS,MAAM,YAAY;AAAA,IAC7B,WAAW,SAAS,MAAM,MAAM,QAAQ;AACtC,eAAS,MAAM,MAAM;AAAA,IACvB,WAAW,SAAS,MAAM,MAAM,QAAQ;AACtC,eAAS,MAAM,MAAM;AAAA,IACvB;AAAA,EACF;AAEA,MAAI;AAEJ,MAAI,SAAS;AACX,QAAI,QAAQ,QAAQ,MAAM,OAAO;AAC/B,aAAO;AAAA,IACT;AAEA,QAAI;AAAA,EACN;AAEA,MAAI,QAAQ,MAAM,QAAQ,OAAO,QAAQ;AAEzC,MAAI,OAAO;AAET,UAAM,cAAc,UAAU;AAAA,MAC5B,MAAM,SAAS;AAAA,MACf,KAAK,SAAS;AAAA,MACd,OAAO,YAAY;AAAA,MACnB,QAAQ,YAAY;AAAA,IACtB,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAQA,SAAS,cAAc,OAAO;AAC5B,MAAI,UAAU,MAAM,SAChB,eAAe,MAAM,cACrB,cAAc,QAAQ,OAAO,GAEjC,gBAAgB,CAAC,WAAW,aAAa,gBAAgB,SAAS,QAAQ;AAC1E,gBAAc,QAAQ,gBAAgB;AAEtC,MAAI,wBAAwB,aAAa,yBAAyB;AAClE,eAAa,yBAAyB,IAAI;AAE1C,MAAI,cAAc,QAAQ,OAAO;AAEjC,MAAI,CAAC,MAAM,UAAU;AACnB,UAAM,WAAW,cAAc,OAAO,SAAU,UAAU,MAAM;AAC9D,eAAS,IAAI,IAAI,aAAa,IAAI,KAAK;AACvC,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AACL,UAAM,YAAY,CAAC;AAAA,EACrB,OAAO;AACL,kBAAc,QAAQ,SAAU,MAAM;AAEpC,UAAI,MAAM,UAAU,IAAI,KAAK,QAAQ,aAAa,IAAI,MAAM,MAAM,UAAU,IAAI,GAAG;AACjF,qBAAa,IAAI,IAAI,MAAM,SAAS,IAAI;AAAA,MAC1C;AAAA,IACF,CAAC;AAAA,EACH;AAEA,MAAI,UAAU,QAAQ,OAAO,GACzB,WAAW,OAAO,iBAAiB,SAAS,EAAE;AAElD,MAAI,SAAS,YAAY,UAAU;AACjC,iBAAa,UAAU;AACvB,KAAC,OAAO,QAAQ,EAAE,QAAQ,SAAU,SAAS;AAC3C,UAAI,UAAU,WAAW,SAAS,UAAU,OAAO,OAAO,CAAC,CAAC;AAG5D,mBAAa,SAAS,OAAO,OAAO,CAAC,IAAI,UAAU,IAAI,OAAO,SAAS,IAAI,IAAI;AAAA,IACjF,CAAC;AAAA,EACH;AAEA,eAAa,gBAAgB,IAAI;AAEjC,MAAI,UAAU,QAAQ,OAAO;AAC7B,MAAI,SAAS,MAAM,aAAa;AAAA,IAC9B,MAAM,QAAQ,OAAO,CAAC,QAAQ,OAAO;AAAA,IACrC,KAAK,QAAQ,MAAM,CAAC,QAAQ,MAAM;AAAA,EACpC;AAGA,eAAa,gBAAgB,IAAI,aAAa,OAAO,YAAY,OAAO,OAAO,MAAM,MAAM,EAAE,OAAO,YAAY,MAAM,OAAO,KAAK,KAAK;AAEvI,GAAC,SAAS,QAAQ,EAAE,QAAQ,SAAU,MAAM;AAC1C,QAAI,QAAQ,IAAI,MAAM,QAAQ,IAAI,GAAG;AAEnC,mBAAa,IAAI,IAAI,QAAQ,IAAI,IAAI;AACrC,gBAAU,QAAQ,OAAO;AAEzB,UAAI,QAAQ,IAAI,MAAM,QAAQ,IAAI,GAAG;AAEnC,qBAAa,IAAI,IAAI,QAAQ,IAAI,KAAK,QAAQ,IAAI,IAAI,QAAQ,IAAI,KAAK;AAAA,MACzE;AAAA,IACF;AAEA,UAAM,UAAU,IAAI,IAAI,aAAa,IAAI;AAAA,EAC3C,CAAC;AAED,UAAQ;AAIR,eAAa,yBAAyB,IAAI;AAE1C,MAAI,YAAY,SAAS,YAAY,QAAQ,YAAY,QAAQ,YAAY,KAAK;AAEhF,iBAAa,gBAAgB,IAAI,aAAa,OAAO,YAAY,OAAO,OAAO,MAAM,MAAM,EAAE,OAAO,YAAY,MAAM,OAAO,KAAK,KAAK;AAAA,EACzI;AAEA,SAAO;AACT;AASA,SAAS,YAAY,OAAO;AAC1B,MAAI,UAAU,MAAM,SAChB,eAAe,MAAM,cACrB,cAAc,QAAQ,OAAO,GAEjC,gBAAgB,CAAC,YAAY,aAAa,eAAe,gBAAgB,cAAc,SAAS,QAAQ;AAExG,MAAI,wBAAwB,aAAa,yBAAyB;AAClE,eAAa,yBAAyB,IAAI;AAE1C,MAAI,cAAc,QAAQ,OAAO;AAEjC,MAAI,CAAC,MAAM,UAAU;AACnB,UAAM,WAAW,cAAc,OAAO,SAAU,UAAU,MAAM;AAC9D,eAAS,IAAI,IAAI,aAAa,IAAI,KAAK;AACvC,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AACL,UAAM,YAAY,CAAC;AAAA,EACrB,OAAO;AACL,kBAAc,QAAQ,SAAU,MAAM;AAEpC,UAAI,MAAM,UAAU,IAAI,KAAK,QAAQ,aAAa,IAAI,MAAM,MAAM,UAAU,IAAI,GAAG;AACjF,qBAAa,IAAI,IAAI,MAAM,SAAS,IAAI;AAAA,MAC1C;AAAA,IACF,CAAC;AAAA,EACH;AAEA,MAAI,UAAU,QAAQ,OAAO;AAC7B,eAAa,WAAW;AACxB,eAAa,OAAO,aAAa,MAAM,aAAa,SAAS;AAE7D,MAAI,UAAU,QAAQ,OAAO;AAC7B,MAAI,SAAS,MAAM,aAAa;AAAA,IAC9B,MAAM,QAAQ,OAAO,CAAC,QAAQ,OAAO;AAAA,IACrC,KAAK,QAAQ,MAAM,CAAC,QAAQ,MAAM;AAAA,EACpC;AAGA,eAAa,OAAO,YAAY,OAAO,OAAO,OAAO;AACrD,eAAa,MAAM,YAAY,MAAM,OAAO,MAAM;AAElD,GAAC,SAAS,QAAQ,EAAE,QAAQ,SAAU,MAAM;AAC1C,QAAI,QAAQ,IAAI,MAAM,QAAQ,IAAI,GAAG;AAEnC,mBAAa,IAAI,IAAI,QAAQ,IAAI,IAAI;AACrC,gBAAU,QAAQ,OAAO;AAEzB,UAAI,QAAQ,IAAI,MAAM,QAAQ,IAAI,GAAG;AAEnC,qBAAa,IAAI,IAAI,QAAQ,IAAI,KAAK,QAAQ,IAAI,IAAI,QAAQ,IAAI,KAAK;AAAA,MACzE;AAAA,IACF;AAEA,UAAM,UAAU,IAAI,IAAI,aAAa,IAAI;AAAA,EAC3C,CAAC;AAED,UAAQ;AAIR,eAAa,yBAAyB,IAAI;AAE1C,MAAI,YAAY,SAAS,YAAY,QAAQ,YAAY,QAAQ,YAAY,KAAK;AAEhF,iBAAa,OAAO,YAAY,OAAO,OAAO,OAAO;AACrD,iBAAa,MAAM,YAAY,MAAM,OAAO,MAAM;AAAA,EACpD;AAEA,SAAO;AACT;AAUA,SAAS,QAAQ,OAAO;AACtB,MAAI,UAAU,MAAM,SAChB,eAAe,MAAM,cACrB,UAAU,QAAQ,sBAAsB,GAE5C,cAAc,QAAQ,OAAO;AAC7B,eAAa,aAAa,GAAG,CAAC;AAC9B,MAAI,aAAa,MAAM,gBAAgB,QAAQ,QAAQ,GAEvD,UAAU,QAAQ,sBAAsB,GACpC,cAAc,mBAAmB,OAAO,QAAQ,MAAM,QAAQ,GAAG,GAErE,SAAS,MAAM,YAAY;AAAA,IACzB,GAAG,WAAW,IAAI,YAAY;AAAA,IAC9B,GAAG,WAAW,IAAI,YAAY;AAAA,EAChC,GAEA,WAAW,mBAAmB,OAAO,QAAQ,MAAM,QAAQ,GAAG;AAC9D,eAAa,aAAa,SAAS,IAAI,OAAO,IAAI,WAAW,GAAG,SAAS,IAAI,OAAO,IAAI,WAAW,CAAC;AACpG,SAAO;AACT;AAUA,SAAS,SAAS,OAAO,WAAW;AAElC,MAAI,UAAU,QAAQ,SAAS,eAAe,GAC1C,cAAc,MAAM,cAAc,MAAM,QAAQ,KAAK,GAEzD,kBAAkB,MAAM,kBAAkB,MAAM,oBAAoB,cAAc,MAAM,QAAQ,aAAa,OAAO,KAAK,UAAU,QAAQ,MAAM,QAAQ,aAAa,IAAI;AAC1K,QAAM,UAAU,gBAAgB;AAChC,QAAM,UAAU,gBAAgB,QAAQ,YAAY;AACpD,QAAM,SAAS,gBAAgB;AAC/B,QAAM,SAAS,gBAAgB,SAAS,YAAY;AAEpD,OAAK,OAAO;AAAA,IACV,MAAM,YAAY;AAAA,IAClB,KAAK,YAAY;AAAA,EACnB,CAAC;AAaD,MAAI,MAAM,mBAAmB;AAC3B,QAAI,gBAAgB;AAAA,MAClB,GAAG,YAAY;AAAA,MACf,GAAG,YAAY;AAAA,IACjB,GACI,QAAQ;AAAA,MACV,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,IACX,GACI,QAAQ;AAAA,MACV,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,IACX,GACI,YAAY;AAAA,MACd,MAAM;AAAA,MACN,OAAO;AAAA,MACP,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,GAAG;AAAA,MACH,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,IACT,GACI,cAAc,MAAM,kBAAkB,OAAO,SAAUC,cAAa,kBAAkB;AACxF,UAAI,WAAW,iBAAiB,SAAS,gBAAgB,kBAAkB,SACvE,eAAe;AAAA,QACjB,GAAG,SAAS;AAAA,QACZ,GAAG,SAAS;AAAA,MACd,GACI,aAAa;AAAA,QACf,GAAG,SAAS;AAAA,QACZ,GAAG,SAAS;AAAA,MACd;AAYA,eAAS,cAAc,UAAU;AAC/B,YAAI,SAAS,UAAU,MAAM;AAC3B,mBAAS,SAAS,iBAAiB;AAAA,QACrC;AAEA,YAAI,SAAS,YAAY,MAAM;AAC7B,mBAAS,WAAW,iBAAiB;AAAA,QACvC;AAEA,YAAI,SAAS,YAAY,MAAM;AAC7B,mBAAS,WAAW,iBAAiB;AAAA,QACvC;AAEA,YAAI,SAAS,KAAK,QAAQ,SAAS,KAAK,MAAM;AAE5C,mBAAS,IAAI,eAAe,SAAS,GAAG,aAAa,GAAG,WAAW,CAAC;AACpE,mBAAS,IAAI,eAAe,SAAS,GAAG,aAAa,GAAG,WAAW,CAAC;AAEpE,cAAI,SAAS,QAAQ;AACnB,qBAAS,KAAK,cAAc,IAAI;AAChC,qBAAS,KAAK,cAAc,IAAI;AAChC,qBAAS,UAAU,CAAC,IAAI;AAAA,UAC1B;AAEA,WAAC,SAAS,WAAW,iBAAiB,SAAS,QAAQ,SAAU,QAAQ;AACvE,gBAAI,IAAI,SAAS,KAAK,WAAW,QAAQ,WAAW,OAAO,cAAc,IAAI,IACzE,IAAI,SAAS,KAAK,WAAW,QAAQ,WAAW,OAAO,cAAc,IAAI;AAE7E,gBAAI,KAAK,MAAM,KAAK,KAAK,MAAM,KAAK,KAAK,MAAM,KAAK,KAAK,MAAM,GAAG;AAChE,kBAAI,aAAa;AAAA,gBACf;AAAA,gBACA;AAAA,cACF,GACI,gBAAgB,IAAI,SAAS,UAC7B,cAAc,IAAI,SAAS,UAC3B,gBAAgB,IAAI,SAAS,UAC7B,cAAc,IAAI,SAAS;AAE/B,kBAAI,gBAAgB,MAAM,GAAG;AAC3B,2BAAW,gBAAgB;AAAA,cAC7B;AAEA,kBAAI,cAAc,MAAM,GAAG;AACzB,2BAAW,cAAc;AAAA,cAC3B;AAEA,kBAAI,gBAAgB,MAAM,GAAG;AAC3B,2BAAW,gBAAgB;AAAA,cAC7B;AAEA,kBAAI,cAAc,MAAM,GAAG;AACzB,2BAAW,cAAc;AAAA,cAC3B;AAEA,cAAAA,aAAY,KAAK,UAAU;AAAA,YAC7B;AAAA,UACF,CAAC;AAAA,QACH,OAAO;AAEL,cAAI,WAAW,SAAS,KAAK,OAAO,MAAM,KACtC,YAAY,aAAa,MAAM,MAAM,KACrC,YAAY,GAAG,OAAO,WAAW,OAAO,GACxC,UAAU,GAAG,OAAO,WAAW,KAAK,GACpC,cAAc,GAAG,OAAO,UAAU,SAAS,GAC3C,YAAY,SAAS,YAAY,GACjC,aAAa,UAAU,YAAY,GACnC,uBAAuB,UAAU,OAAO,WAAW,OAAO,GAC1D,qBAAqB,UAAU,OAAO,WAAW,KAAK,GACtD,wBAAwB,UAAU,OAAO,YAAY,OAAO,GAC5D,sBAAsB,UAAU,OAAO,YAAY,KAAK;AAC5D,mBAAS,QAAQ,IAAI,eAAe,SAAS,QAAQ,GAAG,aAAa,QAAQ,GAAG,WAAW,QAAQ,CAAC;AACpG,mBAAS,SAAS,IAAI,eAAe,SAAS,SAAS,GAAG,aAAa,SAAS,GAAG,WAAW,SAAS,CAAC;AACxG,mBAAS,OAAO,IAAI,eAAe,SAAS,OAAO,GAAG,aAAa,SAAS,GAAG,WAAW,SAAS,CAAC,IAAI,cAAc,SAAS;AAE/H,cAAI,SAAS,SAAS,IAAI,SAAS,OAAO;AAAA,UAC1C,SAAS,SAAS,IAAI,MAAM,SAAS,KAAK,SAAS,OAAO,IAAI,MAAM,SAAS,GAAG;AAC9E;AAAA,UACF;AAEA,cAAI,SAAS,QAAQ;AACnB,qBAAS,QAAQ,KAAK,cAAc,QAAQ,IAAI;AAChD,qBAAS,QAAQ,CAAC,OAAO;AAAA,UAC3B;AAEA,WAAC,SAAS,SAAS,iBAAiB,OAAO,QAAQ,SAAU,MAAM;AACjE,gBAAI,KAAK,SAAS,QAAQ,KAAK,SAAS,QAAQ,cAAc,QAAQ,IAAI;AAE1E,gBAAI,MAAM,MAAM,QAAQ,KAAK,MAAM,MAAM,QAAQ,GAAG;AAClD,kBAAI,aAAa,CAAC,GACd,mBAAmB,KAAK,SAAS,WAAW,GAC5C,iBAAiB,KAAK,SAAS,WAAW;AAC9C,yBAAW,QAAQ,IAAI;AAEvB,kBAAI,mBAAmB,MAAM,QAAQ,GAAG;AACtC,2BAAW,oBAAoB,IAAI;AAAA,cACrC;AAEA,kBAAI,iBAAiB,MAAM,QAAQ,GAAG;AACpC,2BAAW,kBAAkB,IAAI;AAAA,cACnC;AAEA,kBAAI,SAAS,SAAS,IAAI,MAAM,SAAS,GAAG;AAC1C,2BAAW,qBAAqB,IAAI,SAAS,SAAS;AAAA,cACxD;AAEA,kBAAI,SAAS,OAAO,IAAI,MAAM,SAAS,GAAG;AACxC,2BAAW,mBAAmB,IAAI,SAAS,OAAO;AAAA,cACpD;AAEA,cAAAA,aAAY,KAAK,UAAU;AAAA,YAC7B;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF;AAEA,UAAI;AAEJ,WAAK,OAAO,iBAAiB,UAAU,QAAQ,iBAAiB,OAAO,IAAI;AAAA,MAC3E,iBAAiB,QAAQ;AACvB,YAAI,iBAAiB,QAAQ;AAC3B,iBAAO,cAAc,iBAAiB,QAAQ,QAAQ;AAAA,QACxD;AAGA,YAAI,MAAM;AAGR,2BAAiB,MAAM,QAAQ,SAAU,MAAM;AAC7C,gBAAI,YAAY,iBAAiB,SAC7B,YAAY,iBAAiB;AAEjC,gBAAI,SAAS,WAAW;AAEtB,2BAAa,YAAY;AACzB,2BAAa,YAAY;AAAA,YAC3B;AAEA,gBAAI,SAAS,KAAK,OAAO,WACrB,OAAO,KAAK,QAAQ,WACpB,SAAS,KAAK,MAAM,WACpB,OAAO,KAAK,SAAS;AACzB,gBAAI,OAAO,SAAS,WAAW,UAAU;AACzC,0BAAc;AAAA,cACZ;AAAA,cACA;AAAA,cACA,GAAG,KAAK;AAAA,cACR,OAAO,CAAC,IAAI;AAAA,cACZ,QAAQ;AAAA,YACV,CAAC;AAED,0BAAc;AAAA,cACZ,GAAG,KAAK;AAAA,cACR;AAAA,cACA;AAAA,cACA,OAAO,CAAC,IAAI;AAAA,cACZ,QAAQ;AAAA,YACV,CAAC;AAED,mBAAO,SAAS,WAAW,QAAQ;AACnC,0BAAc;AAAA,cACZ;AAAA,cACA;AAAA,cACA,GAAG,KAAK;AAAA,cACR,OAAO,CAAC,IAAI;AAAA,cACZ,QAAQ;AAAA,YACV,CAAC;AAED,0BAAc;AAAA,cACZ,GAAG,KAAK;AAAA,cACR;AAAA,cACA;AAAA,cACA,OAAO,CAAC,IAAI;AAAA,cACZ,QAAQ;AAAA,YACV,CAAC;AAAA,UACH,CAAC;AAAA,QACH;AAAA,MACF,OAAO;AACL,YAAI,WAAW,CAAC,CAAC,KAAK,KAAK,UAAU,QAAQ,SAAS,UAAU,QAAQ,OAAO,EAAE,OAAO,SAAU,UAAU,MAAM;AAChH,cAAI,iBAAiB,IAAI,GAAG;AAC1B,qBAAS,IAAI,IAAI,eAAe,iBAAiB,IAAI,GAAG,SAAS,WAAW,SAAS,UAAU,IAAI,aAAa,UAAU,IAAI,CAAC,GAAG,WAAW,UAAU,IAAI,CAAC,CAAC;AAAA,UAC/J;AAEA,iBAAO;AAAA,QACT,GAAG,CAAC,CAAC,CAAC;AACN,SAAC,KAAK,GAAG,EAAE,QAAQ,SAAU,MAAM;AACjC,cAAI,YAAY,GAAG,OAAO,MAAM,OAAO,GACnC,UAAU,GAAG,OAAO,MAAM,KAAK,GAC/B,WAAW,GAAG,OAAO,MAAM,MAAM,GACjC,cAAc,GAAG,OAAO,MAAM,SAAS;AAC3C,qBAAW,SAAS,OAAO,SAAUC,WAAU,UAAU;AACvD,gBAAI,QAAQ,SAAS,SAAS,GAC1B,MAAM,SAAS,OAAO,GACtBC,QAAO,SAAS,QAAQ;AAE5B,gBAAI,SAAS,QAAQ,OAAO,QAAQ,SAAS,KAAK;AAChD,qBAAOD;AAAA,YACT;AAGA,gBAAIC,SAAQ,MAAM;AAChB,kBAAIA,QAAO,GAAG;AACZ,uBAAOD;AAAA,cACT;AAGA,kBAAI,UAAUC,QAAO;AAErB,wBAAU,iBAAiB,UAAU,UAAU,UAAU;AAEzD,uBAAS,WAAW,OAAO,YAAY,KAAK,YAAYA,OAAM;AAC5D,oBAAI,aAAa,OAAO,KAAK,QAAQ,EAAE,OAAO,SAAUC,aAAY,MAAM;AACxE,sBAAI,SAAS,aAAa,SAAS,WAAW,SAAS,UAAU;AAC/D,oBAAAA,YAAW,IAAI,IAAI,SAAS,IAAI;AAAA,kBAClC;AAEA,yBAAOA;AAAA,gBACT,GAAG,CAAC,CAAC;AACL,2BAAW,IAAI,IAAI;AACnB,2BAAW,WAAW,IAAI;AAC1B,gBAAAF,UAAS,KAAK,UAAU;AAAA,cAC1B;AAAA,YACF,OAAO;AACL,cAAAA,UAAS,KAAK,QAAQ;AAAA,YACxB;AAEA,mBAAOA;AAAA,UACT,GAAG,CAAC,CAAC;AAAA,QACP,CAAC;AACD,iBAAS,QAAQ,SAAU,UAAU;AACnC,wBAAc,QAAQ;AAAA,QACxB,CAAC;AAAA,MACH;AAEA,aAAOD;AAAA,IACT,GAAG,CAAC,CAAC;AACL,UAAM,cAAc,YAAY,SAAS,cAAc;AAAA,EACzD;AAIA,MAAI,aAAa,CAAC,GACd,oBAAoB,MAAM,QAAQ;AAEtC,MAAI,mBAAmB;AACrB,eAAW,WAAW,kBAAkB,WAAW;AACnD,eAAW,SAAS,kBAAkB;AACtC,QAAI,aAAa,cAAc,UAE/B,aAAa,cAAc,kBAAkB,QAAQ,WAAW,UAAU,UAAU,GAChF,iBAAiB,UAAU;AAAA,MAC7B,MAAM,WAAW;AAAA,MACjB,KAAK,WAAW;AAAA,MAChB,OAAO,WAAW;AAAA,MAClB,QAAQ,WAAW;AAAA,IACrB,CAAC;AAED,QAAI,CAAC,YAAY;AACf,iBAAW,cAAc,WAAW;AACpC,iBAAW,eAAe,WAAW;AAAA,IACvC,WAAW,MAAM,YAAY;AAC3B,iBAAW,cAAc,MAAM,WAAW;AAC1C,iBAAW,eAAe,MAAM,WAAW;AAAA,IAC7C;AAEA,KAAC,CAAC,KAAK,SAAS,QAAQ,OAAO,GAAG,CAAC,KAAK,UAAU,OAAO,QAAQ,CAAC,EAAE,QAAQ,SAAU,MAAM;AAC1F,UAAI,KAAK,KAAK,CAAC,GACX,KAAK,KAAK,CAAC,GACX,OAAO,KAAK,CAAC,GACb,UAAU,KAAK,CAAC,GAChB,UAAU,WAAW,SAAS,OAAO,EAAE,CAAC,KAAK,KAAK,WAAW,SAAS,OAAO,EAAE,CAAC,GAChF,MAAM,kBAAkB,MAAM,OAAO,EAAE,CAAC,KAAK;AACjD,UAAI,MAAM,SAAS,kBAAkB,MAAM,OAAO,EAAE,CAAC,CAAC,IAAI,kBAAkB,MAAM,OAAO,EAAE,CAAC,IAAI;AAEhG,UAAI,MAAM,OAAO,MAAM,QAAQ;AAC7B,YAAI,MAAM,QAAQ;AAChB,gBAAM;AAAA,QACR;AAEA,YAAI,QAAQ,CAAC,GACT,cAAc,YAAY,GAAG,YAAY,CAAC;AAE9C,iBAAS,IAAI,kBAAkB,YAAY,SAAS,GAAG,KAAK,GAAG,KAAK;AAElE,cAAI,cAAc,kBAAkB,YAAY,CAAC,GAC7C,QAAQ,kBAAkB,MAAM,CAAC;AAErC,gBAAM,KAAK;AAAA,YACT,KAAK;AAAA,YACL;AAAA,YACA,UAAU,eAAe,IAAI,IAAI;AAAA,UACnC,CAAC;AAED,gBAAM,KAAK;AAAA,YACT,KAAK;AAAA,YACL;AAAA,YACA,UAAU,eAAe,OAAO,IAAI,cAAc;AAAA,UACpD,CAAC;AAAA,QACH;AAEA,mBAAW,GAAG,YAAY,CAAC,IAAI;AAAA,UAC7B;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH;AAEA,QAAM,aAAa,WAAW,KAAK,WAAW,IAAI,aAAa;AACjE;AAOA,SAAS,QAAQ,OAAO;AACtB,cAAY,KAAK;AAEjB,qBAAmB,MAAM,QAAQ,QAAQ,MAAM,SAAS;AACxD,OAAK,MAAM,SAAS;AAEpB,MAAI,MAAM,QAAQ,WAAW,OAAO;AAClC,UAAM,aAAa,SAAS,MAAM;AAAA,EACpC;AAEA,MAAI,mBAAmB;AACrB,SAAK,MAAM,iBAAiB,IAAI;AAAA,EAClC;AAEA,MAAI,YAAY,yBAAW,MAAM,OAAO;AAExC,MAAI,aAAa;AACf,cAAU,OAAO,WAAW;AAAA,EAC9B;AAEA,MAAI,eAAe;AACjB,cAAU,OAAO,aAAa;AAAA,EAChC;AAEA,gBAAc;AACd,eAAa,OAAO;AAEpB,MAAI,MAAM,WAAW;AACnB,UAAM,UAAU;AAAA,MACd,MAAM,MAAM,YAAY;AAAA,MACxB,KAAK,MAAM,YAAY;AAAA,IACzB,CAAC;AAAA,EACH;AACF;AAQA,SAAS,UAAU,OAAO,WAAW;AACnC,MAAI,MAAM,UAAU;AAClB,WAAO;AAAA,EACT;AAEA,MAAI,MAAM,eAAe,MAAM,YAAY,SAAS,MAAM,OAAO;AAC/D,WAAO;AAAA,EACT;AAEA,MAAI,aAAa;AACf,YAAQ,WAAW;AAAA,EACrB;AAGA,oBAAkB,MAAM,QAAQ,MAAM;AACtC,OAAK,MAAM,SAAS;AAAA,EACpB,OAAO,iBAAiB,MAAM,QAAQ,QAAQ,EAAE,EAAE;AAElD,MAAI,MAAM,QAAQ,WAAW,OAAO;AAClC,UAAM,aAAa,SAAS,MAAM,QAAQ;AAAA,EAC5C;AAEA,MAAI,mBAAmB;AACrB,SAAK,MAAM,iBAAiB,IAAI;AAAA,EAClC;AAEA,MAAI,eAAe;AACjB,6BAAW,MAAM,OAAO,EAAE,IAAI,aAAa;AAAA,EAC7C;AAEA,gBAAc;AACd,aAAW;AACX,gBAAc,OAAO,MAAM,YAAY,QAAQ,UAAU,UAAU,OAAO;AAC1E,gBAAc,MAAM,MAAM,YAAY,OAAO,UAAU,UAAU,OAAO;AACxE,SAAO;AACT;AAQA,SAAS,YAAY,OAAO,YAAY;AACtC,MAAI,UAAU,MAAM;AACpB,MAAI;AAEJ,MAAI,WAAW,aAAa;AAC1B,QAAI;AAEJ,QAAI,UAAU,WAAW,WAAW,GAAG;AAErC,UAAI,WAAW,gBAAgB,QAAQ,aAAa;AAClD,gBAAQ,cAAc,WAAW;AACjC,cAAM,oBAAoB;AAC1B,wBAAgB;AAAA,MAClB;AAAA,IACF,YAAY,OAAO,YAAY,SAAS,WAAW,WAAW,CAAC;AAAA,IAC/D,WAAW,MAAM,QAAQ,WAAW,GAAG;AACrC,cAAQ,cAAc;AACtB,YAAM,oBAAoB;AAC1B,sBAAgB;AAAA,IAClB;AAAA,EACF;AAgDA,WAAS,kBAAkBI,UAASC,aAAY;AAC9C,aAAS,YAAY,UAAU;AAC7B,aAAO,OAAO,aAAa,WAAW,SAAS,QAAQ,UAAU,GAAG,EAAE,KAAK,EAAE,YAAY,IAAI;AAAA,IAC/F;AAGA,QAAI,SAASA,YAAW,OAAO,KAAKA,YAAW,UAAU,GAAG;AAC1D,MAAAD,SAAQ,UAAUC,YAAW;AAAA,IAC/B;AAGA,QAAI,SAAS,YAAYA,YAAW,MAAM;AAE1C,QAAI,QAAQ;AACV,UAAI,WAAW,OAAO;AACpB,YAAI,QAAQ,CAAC,GACT,UAAU,OAAO,MAAM,IAAI,EAAE,OAAO,SAAUC,UAASC,SAAQ;AACjE,UAAAA,UAASA,QAAO,KAAK,EAAE,QAAQ,kBAAkB,MAAM;AAEvD,eAAKA,UAASA,YAAW,QAAQA,YAAW,OAAO,OAAOA,YAAW,QAAQA,YAAW,OAAO,OAAOA,YAAW,QAAQA,YAAW,OAAO,OAAOA,YAAW,QAAQA,YAAW,OAAO,OAAO,SAAS,CAAC,MAAMA,OAAM,GAAG;AACrN,YAAAD,SAAQ,KAAKC,OAAM;AACnB,kBAAMA,OAAM,IAAI;AAAA,UAClB;AAEA,iBAAOD;AAAA,QACT,GAAG,CAAC,CAAC,GACD,aAAa,QAAQ;AACzB,iBAAS,CAAC,aAAa,OAAO,eAAe,IAAI,QAAQ,QAAQ,KAAK,GAAG;AAAA,MAC3E;AAEA,UAAI,QAAQ;AACV,QAAAF,SAAQ,SAAS;AAAA,MACnB;AAAA,IACF;AAGA,QAAI,OAAO,YAAYC,YAAW,IAAI;AAEtC,QAAI,MAAM;AACR,UAAI,SAAS,WAAW,SAAS,SAAS,SAAS,QAAQ;AACzD,QAAAD,SAAQ,OAAO;AAAA,MACjB,WAAW,SAAS,eAAe,SAAS,aAAa;AACvD,QAAAA,SAAQ,OAAO;AAAA,MACjB;AAAA,IACF;AAGA,QAAI,OAAOC,YAAW,WAAW,WAAW;AAC1C,MAAAD,SAAQ,SAASC,YAAW;AAAA,IAC9B;AAGA,QAAI,OAAO,YAAYA,YAAW,IAAI;AAEtC,QAAI,MAAM;AACR,UAAI,SAAS,YAAY,SAAS,aAAa,SAAS,QAAQ;AAC9D,QAAAD,SAAQ,OAAO;AAAA,MACjB,WAAW,SAAS,oBAAoB,SAAS,kBAAkB;AACjE,QAAAA,SAAQ,OAAO;AAAA,MACjB;AAAA,IACF;AAGA,QAAI,OAAO,OAAOC,YAAW,SAAS,WAAWA,YAAW,KAAK,KAAK,EAAE,YAAY,IAAI;AAExF,QAAI,SAAS,SAAS,iBAAiB,SAAS,aAAa;AAC3D,MAAAD,SAAQ,OAAO;AAAA,IACjB;AAEA,WAAOA;AAAA,EACT;AAGA,MAAI,WAAW,QAAQ,MAAM;AAC3B,QAAI,iBAAiB,SAAS,WAAW,IAAI,KAAK,WAAW,KAAK,WAAW,OAAO,WAAW,OAAO;AAAA,MACpG,SAAS,WAAW;AAAA,IACtB,GACI,qBAAqB,CAAC,GACtB,cAAc,kBAAkB;AAAA,MAClC,SAAS;AAAA,IACX,GAAG,cAAc;AAEjB,QAAI,CAAC,YAAY,SAAS;AACxB,kBAAY,UAAU;AAAA,IACxB;AAEA,QAAI,CAAC,YAAY,QAAQ;AACvB,kBAAY,SAAS;AAAA,IACvB;AAEA,QAAI,CAAC,YAAY,MAAM;AACrB,kBAAY,OAAO;AAAA,IACrB;AAEA,QAAI,OAAO,YAAY,WAAW,WAAW;AAC3C,kBAAY,SAAS;AAAA,IACvB;AAEA,QAAI,CAAC,YAAY,MAAM;AACrB,kBAAY,OAAO;AAAA,IACrB;AAEA,QAAI,CAAC,YAAY,MAAM;AACrB,kBAAY,OAAO;AAAA,IACrB;AAEA,QAAI,qBAAqB,MAAM,QAAQ,eAAe,OAAO,IAAI,eAAe,UAAU,CAAC,eAAe,OAAO,GAAG,OAAO,SAAUI,oBAAmB,QAAQ;AAC9J,UAAI,UAAU,MAAM;AAClB,eAAOA;AAAA,MACT;AAEA,UAAI,eAAe,UAAU,MAAM,GAEnC,YAAY,YAAY,SAAS,MAAM,CAAC,GAExC,uBAAuB,gBAAgB,YAAY;AAAA,QACjD,aAAa;AAAA,MACf;AAAA;AAAA,QACA,SAAS,MAAM,KAAK,OAAO,SAAS,QAAQ,OAAO,OAAO,QAAQ,OAAO,QAAQ,OAAO;AAAA;AAAA,UACxF;AAAA,YACE,GAAG;AAAA,YACH,GAAG;AAAA,UACL;AAAA;AAAA,SAEA,4BAA4B,CAAC,GACzB,oBAAoB,CAAC,GACrB,iBAAiB,qBAAqB;AAC1C,UAAI;AAEJ,UAAI,gBAAgB,UAAU,cAAc,GAAG;AAE7C,kCAA0B,KAAK;AAAA,UAC7B,SAAS;AAAA,QACX,CAAC;AACD,0BAAkB,cAAc;AAAA,MAClC,WAAW,SAAS,aAAa,YAAY,SAAS,cAAc,CAAC,GAAG;AAEtE,kCAA0B,KAAK;AAAA,UAC7B;AAAA,QACF,CAAC;AACD,0BAAkB,cAAc,oBAAoB,MAAM;AAAA,MAC5D,OAAO;AACL,YAAI;AAEJ,YAAI,WAAW,CAAC,KAAK,GAAG,EAAE,OAAO,SAAUC,WAAU,MAAM;AACzD,cAAI,eAAe,qBAAqB,IAAI;AAC5C,cAAI;AAEJ,cAAI,UAAU,aAAa,YAAY,GAAG;AAExC,YAAAA,UAAS,IAAI,IAAI;AACjB,8BAAkB,IAAI,IAAI,oBAAoB,OAAO;AAAA,UACvD,OAAO;AAEL,gBAAI,OAAO,KAAKP;AAEhB,gBAAI,SAAS,YAAY,GAAG;AAC1B,sBAAQ,aAAa,aAAa,KAAK;AACvC,oBAAM,aAAa,aAAa,GAAG;AACnC,cAAAA,QAAO,aAAa,aAAa,IAAI;AAErC,kBAAI,SAAS,OAAO,MAAM,YAAY,IAAI,WAAW,MAAM,SAAS,IAAI,OAAO;AAE7E,0BAAU;AAAA,cACZ;AAAA,YACF;AAEA,oBAAQO,UAAS,GAAG,OAAO,MAAM,OAAO,CAAC,IAAI,SAAS;AAAA,cACpD,OAAO;AAAA,cACP,SAAS;AAAA,YACX;AACA,kBAAMA,UAAS,GAAG,OAAO,MAAM,KAAK,CAAC,IAAI,OAAO;AAAA,cAC9C,OAAO;AAAA,cACP,SAAS;AAAA,YACX;AACA,8BAAkB,IAAI,IAAI;AAAA,cACxB,OAAO,oBAAoB,KAAK;AAAA,cAChC,KAAK,oBAAoB,GAAG;AAAA,YAC9B;AAEA,gBAAIP,OAAM;AACR,kBAAIA,MAAK,UAAUA,MAAK,QAAQ,IAAIA,MAAK,SAAS,GAAG;AAEnD,gBAAAO,UAAS,GAAG,OAAO,MAAM,MAAM,CAAC,IAAIP;AACpC,kCAAkB,IAAI,EAAE,OAAO,oBAAoBA,KAAI;AAAA,cACzD,OAAO;AACL,0BAAU;AAAA,cACZ;AAAA,YACF;AAAA,UACF;AAEA,iBAAOO;AAAA,QACT,GAAG,CAAC,CAAC;AAEL,YAAI,SAAS;AACX,iBAAOD;AAAA,QACT;AAEA,YAAI,SAAS,UAAU,CAAC,SAAS,SAAS,SAAS,UAAU,CAAC,SAAS,OAAO;AAE5E,oCAA0B;AAAA,YAAK;AAAA,cAC7B,QAAQ,SAAS;AAAA,cACjB,MAAM,SAAS;AAAA,cACf,GAAG,SAAS;AAAA,YACd;AAAA;AAAA,YACA;AAAA,cACE,QAAQ,SAAS;AAAA,cACjB,MAAM,SAAS;AAAA,cACf,GAAG,SAAS;AAAA,YACd;AAAA;AAAA,YACA;AAAA,cACE,GAAG,SAAS;AAAA,cACZ,QAAQ,SAAS;AAAA,cACjB,MAAM,SAAS;AAAA,YACjB;AAAA;AAAA,YACA;AAAA,cACE,GAAG,SAAS;AAAA,cACZ,QAAQ,SAAS;AAAA,cACjB,MAAM,SAAS;AAAA,YACjB;AAAA;AAAA,UACA;AAAA,QACF,OAAO;AACL,oCAA0B,KAAK,QAAQ;AAAA,QACzC;AAAA,MACF;AAEA,UAAI,0BAA0B,QAAQ;AACpC,2BAAmB,KAAK,kBAAkB,mBAAmB,oBAAoB,CAAC;AAElF,YAAI,SAAS,kBAAkB,UAAU,YAAY,QACjD,OAAO,kBAAkB,QAAQ,YAAY,MAC7C,OAAO,kBAAkB,QAAQ,YAAY,MAC7C,gBAAgB;AAAA,UAClB,SAAS,kBAAkB,WAAW,YAAY;AAAA,UAClD,MAAM,kBAAkB,QAAQ,YAAY;AAAA,UAC5C,QAAQ,OAAO,kBAAkB,WAAW,YAAY,kBAAkB,SAAS,YAAY;AAAA,UAC/F,SAAS,WAAW,QAAQ,mBAAmB,OAAO,MAAM,GAAG;AAAA;AAAA,UAE/D,OAAO,SAAS,SAAS,iBAAiB,CAAC,IAAI;AAAA;AAAA,UAE/C,OAAO,SAAS,SAAS,iBAAiB,CAAC,IAAI;AAAA;AAAA,QAEjD;AACA,kCAA0B,QAAQ,SAAU,kBAAkB;AAE5D,WAAC,WAAW,WAAW,SAAS,UAAU,SAAS,MAAM,EAAE,QAAQ,SAAU,QAAQ;AACnF,6BAAiB,MAAM,IAAI,cAAc,MAAM;AAAA,UACjD,CAAC;AACD,UAAAA,mBAAkB,KAAK,gBAAgB;AAAA,QACzC,CAAC;AAAA,MACH;AAEA,aAAOA;AAAA,IACT,GAAG,CAAC,CAAC;AAEL,QAAI,kBAAkB,QAAQ;AAC5B,cAAQ,OAAO;AAEf,UAAI,WAAW,mBAAmB,MAAM,iBAAiB,GAAG;AAC1D,cAAM,oBAAoB;AAC1B,wBAAgB;AAAA,MAClB;AAAA,IACF;AAAA,EACF,WAAW,WAAW,eAAe,MAAM,KAAK,MAAM,mBAAmB;AACvE,YAAQ,OAAO,MAAM,oBAAoB,MAAM,cAAc;AAAA,EAC/D;AAgBA,MAAI,WAAW,YAAY;AACzB,QAAI,uBAAuB,SAAS,WAAW,UAAU,IAAI,WAAW,aAAa;AAAA,MACnF,QAAQ,WAAW,eAAe,OAAO,SAAS,WAAW;AAAA,IAC/D,GACI,oBAAoB,CAAC;AAEzB,sBAAkB,SAAS,UAAU,qBAAqB,MAAM,IAAI,qBAAqB,SAAS;AAElG,sBAAkB,QAAQ,CAAC;AAC3B,KAAC,MAAM,QAAQ,qBAAqB,KAAK,IAAI,qBAAqB,QAAQ,CAAC,qBAAqB,KAAK,GAAG,MAAM,SAAU,OAAO,GAAG;AAChI,UAAI,KAAK,KAAK,SAAS,KAAK,GAAG;AAC7B,0BAAkB,MAAM,CAAC,IAAI;AAC7B,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT,CAAC;AAED,QAAI,CAAC,kBAAkB,MAAM,QAAQ;AACnC,wBAAkB,QAAQ;AAAA,IAC5B;AAGA,QAAI,iBAAiB,MAAM,QAAQ,qBAAqB,WAAW,IAAI,qBAAqB,cAAc,CAAC,qBAAqB,WAAW;AAC3I,sBAAkB,cAAc,kBAAkB,MAAM,IAAI,SAAU,GAAG,GAAG;AAC1E,aAAO,SAAS,eAAe,CAAC,CAAC,IAAI,eAAe,CAAC,IAAI,uBAAuB,CAAC;AAAA,IACnF,CAAC;AAED,KAAC,KAAK,GAAG,EAAE,QAAQ,SAAU,QAAQ;AACnC,UAAI,YAAY,MAAM,OAAO,MAAM,GAC/B,YAAY,MAAM,OAAO,MAAM;AAEnC,UAAI,SAAS,qBAAqB,SAAS,CAAC,KAAK,qBAAqB,SAAS,KAAK,GAAG;AACrF,0BAAkB,SAAS,IAAI,qBAAqB,SAAS;AAAA,MAC/D;AAEA,UAAI,SAAS,qBAAqB,SAAS,CAAC,KAAK,qBAAqB,SAAS,KAAK,MAAM,CAAC,kBAAkB,SAAS,KAAK,qBAAqB,SAAS,KAAK,kBAAkB,SAAS,IAAI;AAC3L,0BAAkB,SAAS,IAAI,qBAAqB,SAAS;AAAA,MAC/D;AAAA,IACF,CAAC;AAED,QAAI,WAAW,mBAAmB,QAAQ,UAAU,GAAG;AACrD,cAAQ,aAAa;AACrB,sBAAgB;AAAA,IAClB;AAAA,EACF,WAAW,WAAW,eAAe,YAAY,GAAG;AAClD,QAAI,QAAQ,YAAY;AACtB,sBAAgB;AAAA,IAClB;AAEA,YAAQ,aAAa;AAAA,EACvB;AAGA,MAAI,eAAe;AACjB,aAAS,KAAK;AAAA,EAChB;AAGA,MAAI,UAAU,WAAW,MAAM,KAAK,WAAW,WAAW,QAAQ,QAAQ;AACxE,QAAI,QAAQ,QAAQ;AAElB,cAAQ,OAAO,MAAM,SAAS,MAAM;AAEpC,UAAI,mBAAmB;AACrB,gBAAQ,OAAO,MAAM,iBAAiB,IAAI,MAAM;AAAA,MAClD;AAEA,mBAAa,mBAAmB,QAAQ,QAAQ,MAAM,qBAAqB;AAAA,IAC7E;AAEA,QAAI,SAAS,QAAQ,SAAS,WAAW;AACzC,UAAM,YAAY,OAAO,MAAM;AAC/B,uBAAmB,QAAQ,MAAM,SAAS;AAE1C,QAAI,mBAAmB;AACrB,YAAM,gBAAgB,OAAO,MAAM,iBAAiB;AACpD,aAAO,MAAM,iBAAiB,IAAI;AAAA,IACpC;AAEA,iBAAa,gBAAgB,QAAQ,MAAM,qBAAqB;AAAA,EAClE;AAGA,MAAI,SAAS,WAAW,MAAM,KAAK,WAAW,WAAW,OAAO;AAC9D,YAAQ,SAAS,WAAW;AAE5B,QAAI,UAAU,aAAa;AACzB,YAAM,aAAa,SAAS,QAAQ,WAAW,QAAQ,MAAM,YAAY,QAAQ;AAAA,IACnF;AAAA,EACF;AAGA,MAAI,WAAW;AAAA,IACb,MAAM,MAAM,YAAY;AAAA,IACxB,KAAK,MAAM,YAAY;AAAA,EACzB;AACA,MAAI;AAEJ,MAAI,SAAS,WAAW,IAAI,KAAK,WAAW,SAAS,SAAS,MAAM;AAClE,aAAS,OAAO,WAAW;AAC3B,gBAAY;AAAA,EACd;AAEA,MAAI,SAAS,WAAW,GAAG,KAAK,WAAW,QAAQ,SAAS,KAAK;AAC/D,aAAS,MAAM,WAAW;AAC1B,gBAAY;AAAA,EACd;AAEA,MAAI,WAAW;AACb,SAAK,OAAO,QAAQ;AAAA,EACtB;AAGA,GAAC,UAAU,UAAU,eAAe,eAAe,WAAW,EAAE,QAAQ,SAAU,QAAQ;AACxF,QAAI,OAAO,WAAW,MAAM,MAAM,YAAY;AAC5C,cAAQ,MAAM,IAAI,WAAW,MAAM;AACnC,YAAM,MAAM,IAAI,QAAQ,MAAM,EAAE,KAAK,MAAM,GAAG;AAAA,IAChD,WAAW,WAAW,eAAe,MAAM,KAAK,WAAW,MAAM,KAAK,MAAM;AAC1E,cAAQ,MAAM,IAAI,MAAM,MAAM,IAAI;AAAA,IACpC;AAAA,EACF,CAAC;AACH;AAEA,IAAI,iBAA8B,WAAY;AAM5C,WAASE,gBAAe,SAAS,SAAS;AACxC,IAAApB,iBAAgB,MAAMoB,eAAc;AAEpC,QAAI,QAAQ;AAAA,MACV,KAAK;AAAA,MACL,SAAS;AAAA;AAAA,QAEP,QAAQ;AAAA;AAAA,MAEV;AAAA,MACA,UAAU;AAAA,IACZ;AACA,WAAO,eAAe,MAAM,OAAO;AAAA,MACjC,OAAO,EAAE;AAAA,IACX,CAAC;AACD,UAAM,MAAM,KAAK;AACjB,aAAS,KAAK,GAAG,IAAI;AAErB,QAAI,CAAC,UAAU,OAAO,KAAK,YAAY,MAAM;AAC3C,YAAM,IAAI,MAAM,+BAA+B;AAAA,IACjD;AAEA,QAAI,CAAC,SAAS;AACZ,gBAAU,CAAC;AAAA,IACb,WAAW,CAAC,SAAS,OAAO,GAAG;AAC7B,YAAM,IAAI,MAAM,kBAAkB;AAAA,IACpC;AAEA,QAAI,aAAa;AAEjB,QAAI;AAEJ,QAAI,mBAAmB,eAAe,WAAW,QAAQ,kBAAkB;AAEzE,UAAI,CAAC,QAAQ,SAAS;AACpB,cAAM,IAAI,MAAM,8CAA8C;AAAA,MAChE;AAGA,UAAI,CAAC,QAAQ,WAAW;AACtB,cAAM,IAAI,MAAM,0DAA0D;AAAA,MAC5E;AAGA,YAAM,eAAe,QAAQ,UAAU,QAAQ,WAAW,SAAS,mBAAmB,CAAC;AACvF,YAAM,WAAW,SAAS,eAAe;AAEzC,UAAI,UAAU,QAAQ;AACtB,YAAM,gBAAgB,CAAC,WAAW,UAAU,QAAQ,YAAY,SAAS,gBAAgB,SAAS,cAAc,MAAM,CAAC;AACvH,mBAAa;AACb,YAAM,UAAU;AAChB,YAAM,UAAU;AAAA,IAClB,OAAO;AAML,UAAI,oBAAoB,sBAAU,QAAQ,YAAY;AAEtD,UAAI,mBAAmB;AACrB,qBAAa;AAAA,MACf;AAEA,UAAI,CAAC,QAAQ,WAAW,kBAAkB;AAExC,YAAI,mBAAmB;AACrB,kBAAQ,MAAM,iBAAiB,IAAI;AAAA,QACrC;AAEA,cAAM,UAAU;AAChB,cAAM,UAAU;AAAA,MAClB,OAAO;AAGL,YAAI,mBAAmB;AACrB,kBAAQ,MAAM,iBAAiB,IAAI;AAAA,QACrC;AAEA,cAAM,UAAU;AAChB,cAAM,UAAU;AAAA,MAKlB;AAAA,IAKF;AAGA,UAAM,UAAU,SAAS,SAAS,UAAU;AAC5C,UAAM,eAAe,QAAQ;AAC7B,UAAM,YAAY,MAAM,aAAa;AAErC,QAAI,gBAAgB;AAClB,+BAAW,OAAO,EAAE,IAAI,cAAc;AAAA,IACxC;AAEA,UAAM,wBAAwB,aAAa,gBAAgB,SAAU,WAAW;AAC9E,aAAO,UAAU,OAAO,SAAS;AAAA,IACnC,CAAC;AAED,QAAI,CAAC,QAAQ,aAAa;AACxB,UAAI;AACJ,cAAQ,eAAe,SAAS,QAAQ,eAAe,UAAU,MAAM,IAAI,SAAS;AAAA,IACtF;AAEA,QAAI,CAAC,QAAQ,QAAQ;AACnB,cAAQ,SAAS;AAAA,IACnB;AAEA,gBAAY,OAAO,OAAO;AAAA,EAC5B;AAEA,EAAAlB,cAAakB,iBAAgB,CAAC;AAAA,IAC5B,KAAK;AAAA,IACL,OAAO,SAASC,UAAS;AACvB,UAAI,QAAQ,SAAS,KAAK,GAAG;AAC7B,WAAK,WAAW;AAEhB,mBAAa,kBAAkB,aAAa,mBAAmB,MAAM,QAAQ,QAAQ,MAAM,qBAAqB,CAAC;AACjH,aAAO,SAAS,KAAK,GAAG;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA;AAAA,EAMF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,WAAW,SAAS;AAClC,UAAI,SAAS,OAAO,GAAG;AACrB,oBAAY,SAAS,KAAK,GAAG,GAAG,OAAO;AAAA,MACzC;AAEA,aAAO;AAAA,IACT;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,WAAW;AACzB,eAAS,SAAS,KAAK,GAAG,CAAC;AAC3B,aAAO;AAAA,IACT;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE;AAAA,IAC5B;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,UAAI,QAAQ,SAAS,KAAK,GAAG;AAE7B,WAAK,QAAQ,CAAC,CAAC,WAAW,MAAM,UAAU;AACxC,cAAM,WAAW;AAEjB,YAAI,MAAM,UAAU;AAClB,cAAI,UAAU,aAAa;AACzB,oBAAQ,KAAK;AAAA,UACf;AAEA,gBAAM,QAAQ,OAAO,MAAM,SAAS,MAAM;AAE1C,cAAI,mBAAmB;AACrB,kBAAM,QAAQ,OAAO,MAAM,iBAAiB,IAAI,MAAM;AAAA,UACxD;AAEA,cAAI,gBAAgB;AAClB,qCAAW,MAAM,OAAO,EAAE,OAAO,cAAc;AAAA,UACjD;AAAA,QACF,OAAO;AACL,6BAAmB,MAAM,QAAQ,QAAQ,MAAM,SAAS;AAExD,cAAI,mBAAmB;AACrB,kBAAM,QAAQ,OAAO,MAAM,iBAAiB,IAAI;AAAA,UAClD;AAEA,cAAI,gBAAgB;AAClB,qCAAW,MAAM,OAAO,EAAE,IAAI,cAAc;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE;AAAA,IAC5B;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,SAAS,KAAK,GAAG,EAAE,WAAW;AAAA,IAChD;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,YAAY;AAAA,IACxC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,YAAY;AAAA,IACxC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,KAAK;AAAA,MACP,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,UAAI,QAAQ,SAAS,KAAK,GAAG;AAC7B,aAAO,MAAM,oBAAoB,oBAAoB,MAAM,QAAQ,WAAW,IAAI,MAAM,QAAQ;AAAA,IAClG;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,aAAa;AAAA,MACf,CAAC;AAAA,IACH;AAAA;AAAA,EAEF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,SAAS,KAAK,GAAG,EAAE,QAAQ,IAAI;AAAA,IACjD;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA;AAAA;AAAA,EAGF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,SAAS,KAAK,GAAG,EAAE,QAAQ,UAAU;AAAA,IACvD;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA;AAAA,EAEF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,aAAa;AAAA,MACf,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,aAAa;AAAA,MACf,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO,SAAS,KAAK,GAAG,EAAE,QAAQ;AAAA,IACpC;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,kBAAY,SAAS,KAAK,GAAG,GAAG;AAAA,QAC9B,WAAW;AAAA,MACb,CAAC;AAAA,IACH;AAAA,EACF,CAAC,GAAG,CAAC;AAAA,IACH,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,UAAI,kCAAkC,OAAO;AAC3C,wCAAgC;AAChC,kCAA0B;AAE1B,eAAO,KAAK,QAAQ,EAAE,QAAQ,SAAU,IAAI;AAC1C,cAAI,QAAQ,SAAS,EAAE;AAEvB,cAAI,MAAM,YAAY,UAAU,eAAe,2BAA2B,OAAO;AAC/E;AAAA,UACF;AAEA,6BAAmB,MAAM,QAAQ,QAAQ,MAAM,SAAS;AAExD,cAAI,UAAU,aAAa;AAEzB,iBAAK,MAAM,SAAS;AACpB,iBAAK,MAAM,SAAS,OAAO,iBAAiB,MAAM,QAAQ,QAAQ,EAAE,EAAE;AAAA,UACxE;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,UAAI,iCAAiC,OAAO;AAC1C,uCAA+B;AAC/B,iCAAyB;AAEzB,YAAI,aAAa;AACf,4BAAkB,YAAY,QAAQ,MAAM;AAE5C,cAAI,2BAA2B,OAAO;AACpC,+BAAmB,YAAY,QAAQ,QAAQ,YAAY,SAAS;AAEpE,iBAAK,MAAM,SAAS;AAAA,UACtB;AAEA,eAAK,MAAM,SAAS;AAAA,UACpB,OAAO,iBAAiB,YAAY,QAAQ,QAAQ,EAAE,EAAE;AAAA,QAC1D;AAAA,MACF;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,cAAQ,QAAQ,QAAQ,KAAK;AAE7B,UAAI,UAAU,gBAAgB;AAC5B,eAAO,KAAK,QAAQ,EAAE,QAAQ,SAAU,IAAI;AAC1C,cAAI,QAAQ,SAAS,EAAE;AAEvB,cAAI,CAAC,MAAM,UAAU;AACnB,gBAAI,YAAY,yBAAW,MAAM,OAAO;AAExC,gBAAI,gBAAgB;AAClB,wBAAU,OAAO,cAAc;AAAA,YACjC;AAEA,gBAAI,OAAO;AACT,wBAAU,IAAI,KAAK;AAAA,YACrB;AAAA,UACF;AAAA,QACF,CAAC;AACD,yBAAiB;AAAA,MACnB;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,cAAQ,QAAQ,QAAQ,KAAK;AAE7B,UAAI,UAAU,eAAe;AAC3B,YAAI,aAAa;AACf,cAAI,YAAY,yBAAW,YAAY,OAAO;AAE9C,cAAI,eAAe;AACjB,sBAAU,OAAO,aAAa;AAAA,UAChC;AAEA,cAAI,OAAO;AACT,sBAAU,IAAI,KAAK;AAAA,UACrB;AAAA,QACF;AAEA,wBAAgB;AAAA,MAClB;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,KAAK,SAAS,MAAM;AAClB,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS,IAAI,OAAO;AACvB,cAAQ,QAAQ,QAAQ,KAAK;AAE7B,UAAI,UAAU,aAAa;AACzB,YAAI,eAAe,UAAU;AAC3B,cAAI,YAAY,yBAAW,YAAY,OAAO;AAE9C,cAAI,aAAa;AACf,sBAAU,OAAO,WAAW;AAAA,UAC9B;AAEA,cAAI,OAAO;AACT,sBAAU,IAAI,KAAK;AAAA,UACrB;AAAA,QACF;AAEA,sBAAc;AAAA,MAChB;AAAA,IACF;AAAA,EACF,CAAC,CAAC;AAEF,SAAOD;AACT,EAAE;AAEF,aAAa,eAAe,UAAU,SAAU,WAAW;AACzD,MAAI,CAAC,aAAa;AAChB;AAAA,EACF;AAEA,MAAI,WAAW;AAAA,IACb,MAAM,UAAU,UAAU,OAAO,cAAc,cAAc;AAAA,IAC7D,KAAK,UAAU,UAAU,OAAO,cAAc,cAAc;AAAA,EAC9D;AAEA,MAAI;AAAA,IAAK;AAAA,IAAa;AAAA;AAAA,IACtB,YAAY,cAAc,SAAUE,WAAU;AAE5C,UAAI,OAAO,YAAY,YAAY;AACnC,UAAI,WAAW,OACX,WAAW,OACX;AAEJ,WAAK,IAAI,GAAG,IAAI,SAAS,CAAC,YAAY,CAAC,WAAW,KAAK;AACrD,YAAI,aAAa,YAAY,YAAY,CAAC;AAE1C,aAAK,WAAW,iBAAiB,QAAQA,UAAS,QAAQ,WAAW,mBAAmB,WAAW,eAAe,QAAQA,UAAS,QAAQ,WAAW,iBAAiB,WAAW,iBAAiB,QAAQA,UAAS,OAAO,WAAW,mBAAmB,WAAW,eAAe,QAAQA,UAAS,OAAO,WAAW,cAAc;AAClU,cAAI,CAAC,YAAY,WAAW,KAAK,MAAM;AACrC,YAAAA,UAAS,OAAO,WAAW;AAC3B,uBAAW;AACX,gBAAI;AAAA,UACN;AAEA,cAAI,CAAC,YAAY,WAAW,KAAK,MAAM;AACrC,YAAAA,UAAS,MAAM,WAAW;AAC1B,uBAAW;AACX,gBAAI;AAAA,UACN;AAAA,QACF;AAAA,MACF;AAEA,MAAAA,UAAS,UAAU,YAAY;AAC/B,aAAO,YAAY,SAAS,YAAY,OAAOA,SAAQ,IAAI;AAAA,IAC7D;AAAA;AAAA,MACA,YAAY;AAAA;AAAA,EAAM,GAAG;AAEnB,QAAI,aAAa,CAAC,GACd,aAAa,YAAY;AAE7B,QAAI,YAAY;AACd,UAAI,WAAW;AAAA,QACb,GAAG,YAAY,YAAY,OAAO,OAAO;AAAA,QACzC,GAAG,YAAY,YAAY,MAAM,OAAO;AAAA,MAC1C;AACA,OAAC,KAAK,GAAG,EAAE,QAAQ,SAAU,MAAM;AACjC,YAAI,WAAW,IAAI,GAAG;AACpB,cAAI,MAAM,WAAW,IAAI,EAAE,KACvB,MAAM,WAAW,IAAI,EAAE;AAC3B,qBAAW,IAAI,EAAE,MAAM,KAAK,SAAU,MAAM;AAC1C,gBAAI,KAAK,QAAQ,KAAK,SAAS,IAAI,KAAK,KAAK,WAAW,SAAS,IAAI,KAAK,KAAK,UAAU;AACvF,yBAAW,IAAI,IAAI;AAAA,gBACjB,KAAK,KAAK;AAAA,gBACV,OAAO,KAAK,QAAQ;AAAA,gBACpB;AAAA,gBACA;AAAA,cACF;AACA,qBAAO;AAAA,YACT;AAEA,mBAAO;AAAA,UACT,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAI,WAAW,KAAK,WAAW,GAAG;AAChC,kBAAY,KAAK,WAAW,QAAQ,YAAY,WAAW,WAAW,iBAAiB,eAAe;AACtG,eAAS,aAAa;AAAA,IACxB,OAAO;AACL,kBAAY,KAAK;AAAA,IACnB;AAGA,QAAI,CAAC,UAAU;AACb,iBAAW;AAEX,UAAI,aAAa;AACf,iCAAW,YAAY,OAAO,EAAE,IAAI,WAAW;AAAA,MACjD;AAEA,UAAI,YAAY,aAAa;AAC3B,oBAAY,YAAY,QAAQ;AAAA,MAClC;AAAA,IACF;AAEA,QAAI,YAAY,QAAQ;AACtB,kBAAY,OAAO,QAAQ;AAAA,IAC7B;AAAA,EACF;AACF,CAAC;AACD;AACE,MAAS,aAAT,WAAsB;AACpB,QAAI,aAAa;AACf,cAAQ,WAAW;AAAA,IACrB;AAAA,EACF;AAEA,eAAa,cAAc,UAAU,UAAU;AAC/C,eAAa,iBAAiB,UAAU,UAAU;AACpD;AACA;AACE,MAAS,UAAT,WAAmB;AACjB,gCAA4B,sBAAU,QAAQ,oBAAoB;AAClE,uBAAmB,sBAAU,QAAQ,WAAW;AAChD,4BAAwB,KAAK,MAAM;AAEnC,QAAI,oBAAoB,sBAAU,QAAQ,YAAY,GAAG;AACvD,kCAA4B,KAAK,MAAM,iBAAiB;AAAA,IAC1D;AAGA,QAAI,kBAAkB;AACtB,QAAI,gBAAgB,CAAC,GACjB;AAEJ,aAAS,cAAc,OAAO,WAAW;AACvC,UAAI,MAAM,SAAS;AAEjB,iBAAS,OAAO,SAAS;AAAA,MAC3B;AAAA,IAEF;AAEA,aAAS,QAAQ,WAAW;AAC1B,mBAAa,aAAa;AAC1B,aAAO,KAAK,QAAQ,EAAE,QAAQ,SAAU,IAAI;AAC1C,YAAI,CAAC,cAAc,EAAE,GAAG;AACtB,wBAAc,SAAS,EAAE,GAAG,SAAS;AAAA,QACvC;AAAA,MACF,CAAC;AACD,sBAAgB,CAAC;AAAA,IACnB;AAEA,QAAI,iBAAiB;AAErB,QAAI,eAAe,uBAAU,IAAI,SAAU,OAAO;AAChD,UAAI,gBAAgB;AAClB;AAAA,MACF;AAEA,uBAAiB;AAEjB,UAAI,aAAa;AACf,sBAAc,aAAa,MAAM,IAAI;AACrC,qBAAa,KAAK;AAClB,sBAAc,YAAY,GAAG,IAAI;AAAA,MACnC;AAEA,mBAAa,aAAa;AAC1B,sBAAgB,WAAW,WAAY;AACrC,gBAAQ,MAAM,IAAI;AAAA,MACpB,GAAG,eAAe;AAClB,uBAAiB;AAAA,IACnB,CAAC;AACD,WAAO,iBAAiB,UAAU,cAAc,IAAI;AACpD,WAAO,iBAAiB,UAAU,cAAc,IAAI;AAAA,EACtD;AAEA,MAAI,OAAO,SAAS,MAAM;AACxB,YAAQ;AAAA,EACV,OAAO;AACL,aAAS,iBAAiB,oBAAoB,WAAY;AACxD,aAAO,SAAS;AAChB,cAAQ;AAAA,IACV,GAAG,IAAI;AAAA,EACT;AACF;AAKA,IAAO,8BAAQ;",
  "names": ["requestID", "PointerEvent", "move", "propValue", "add", "remove", "_classCallCheck", "_defineProperties", "_createClass", "_typeof", "obj", "MSPF", "requestAnim", "cancelAnim", "requestID", "value", "snapTargets", "expanded", "step", "expandedXY", "options", "newOptions", "corners", "corner", "parsedSnapTargets", "parsedXY", "PlainDraggable", "remove", "position"]
}
